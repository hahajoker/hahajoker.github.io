<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[Tensorflow学习笔记-神经网络架构]]></title>
      <url>/2018/01/31/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84/</url>
      <content type="html"><![CDATA[<h1 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h1><p>在本次记述中，</p>
<ul>
<li>我们参考了一个非常粗糙的生物<strong>神经元</strong>模型来解释计算机神经元，但两者其实有本质区别。</li>
<li>我们讨论了在实践中使用的几种类型的<strong>激活函数</strong>，其中ReLU是最常见的选择</li>
<li>我们引入了<strong>神经网络</strong>，其中神经元与<strong>完全连接的层连接</strong>，相邻<strong>层</strong>中的神经元具有完全的成对连接，但层内的神经元没有连接。</li>
<li>我们看到，这种分层架构能够基于与激活函数交织的矩阵乘法，对神经网络进行高效的评估。</li>
<li>我们看到，神经网络是<strong>通用函数逼近器</strong>，但是我们也证明了这个性质与它们无处不在的用途没什么关系的事实。它们被使用是因为它们对实践中出现的函数的功能形式做出了某些“正确”的假设。</li>
<li>我们讨论了这样一个事实：大型网络总是比小型网络工作得更好，但是它们的更高的模型容量必须用更强的正则化（比如更高的权重衰减）来适当地解决，否则它们可能会过度拟合。</li>
</ul>
<p><img src="http://cs231n.github.io/assets/nn1/neural_net2.jpeg" alt="img"></p>
<a id="more"></a>
<hr>
<h1 id="何为神经元"><a href="#何为神经元" class="headerlink" title="何为神经元"></a>何为神经元</h1><p>神经网络领域最初的主要灵感来自对生物神经系统进行建模的目标，但之后已经分化并成为工程问题，并在机器学习任务中取得了良好的结果。尽管如此，我们还是从这个领域很大一部分的灵感来源，对生物系统进行了非常简短和高层次的描述，开始我们的讨论。</p>
<h2 id="生物神经元和计算机神经元的联系"><a href="#生物神经元和计算机神经元的联系" class="headerlink" title="生物神经元和计算机神经元的联系"></a>生物神经元和计算机神经元的联系</h2><p>大脑的基本计算单位是一个<strong>神经元</strong>。在人类的神经系统中可以发现大约860亿个神经元，并且它们与大约10 ^ 14 - 10 ^ 15个<strong>突触连接</strong>。</p>
<p>下图显示了生物神经元的卡通图（左）和常见的数学模型（右）。每个神经元接收来自其<strong>树突的</strong>输入信号并沿着其（单个）<strong>轴突</strong>产生输出信号。轴突最终分出并通过突触连接到其他神经元的树突。</p>
<p>在神经元的计算模型中，沿着轴突传播的信号与在该突触基于所述突触强度的其他神经元的树突，具有<strong>激活函数</strong> 的神经元的激发速率σ</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180131163401.png" alt="img"></p>
<p>生物神经元的卡通画（左）及其数学模型（右）。</p>
<p>换言之，每个神经元所做的事情就是：执行输入和其权重的点积，加偏差并应用非线性（或激活功能）后传递给下一个神经元，在这种情况下，激活函数为:</p>
<p><strong>sigmoid</strong>：σ（x ）= 1 /（1 + e- x）</p>
<h2 id="单神经元线性分类器"><a href="#单神经元线性分类器" class="headerlink" title="单神经元线性分类器"></a>单神经元线性分类器</h2><p>在神经元输出具有适当的损失函数的情况下，我们可以将单个神经元变成线性分类器：</p>
<p><strong>二元Softmax分类器</strong></p>
<p><strong>二进制SVM分类器</strong></p>
<p><strong>正则化解释</strong></p>
<h2 id="常用的激活函数"><a href="#常用的激活函数" class="headerlink" title="常用的激活函数"></a>常用的激活函数</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180131163944.png" alt="img"> </p>
<p><strong>左：</strong> Sigmoid非线性将实数压缩到[0,1]之间的范围   <strong>右：</strong> tanh非线性将实数压缩到[-1,1]之间的范围。</p>
<p><strong>Sigmoid：</strong> 函数为：<strong>σ(x)=1/(1+e−x)</strong></p>
<ul>
<li><strong>接近饱和时容易“杀死”梯度</strong>。Sigmoid的一个非常不受欢迎的特性是，当神经元的激活在0或1的尾部饱和时，这些区域的梯度几乎为零。想象下，在反向传播时，这个（局部的）梯度将乘以这个神经元的输出梯度，以达到最终目标。因此，如果局部梯度很小，它将有效地“杀死”梯度，几乎没有信号会通过神经元流向其权重并递归到其数据。另外，当初始化Sigmoid形神经元的权重，必须格外小心。例如，如果初始权重太大，那么大多数神经元就会饱和，网络几乎不能学习。</li>
<li><strong>Sigmoid函数的输出不是以零为中心的 </strong>。这是有隐患的，因为在其之后的处理层中的神经元将接收不是以零为中心的数据。这对梯度下降的动力学有影响。因为如果进入神经元的数据总是正的，这可能在权重的梯度更新中引入不希望的锯齿形动态。但是，请注意，一旦这些梯度被累加到一批数据中，权重的最终更新可能会有可变的符号，这有点缓解了这个问题。因此，这是一个隐患，但与上面的饱和激活问题相比，其后果不那么严重。</li>
</ul>
<p><strong>Tanh.</strong></p>
<p>Tanh函数显示在右上方的图像上。它将一个实数值压缩到[-1，1]的范围。像Sigmoid形神经元一样，它的激活饱和，但不同的是，它的输出是以零为中心的。因此，<strong>在实践中tanh非线性始终优于Sigmoid形非线性。</strong>还要注意tanh神经元只是一个缩放的sigmoid神经元，特别是以下情况：tanh（X ）= 2 σ（2 x ）- 1</p>
<hr>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180131163958.png" alt="img"> </p>
<p><strong>左：</strong>整流线性单元（RELU）激活功能，这是当零x &lt; 0的，然后用斜率1线性当x &gt; 0    <strong>右：</strong>与TanL单位相比，ReLU单位的收敛性提高了6倍。</p>
<p><strong>RELU.</strong>在过去几年已经非常流行。函数为：<strong>f(x)=max(0,x)</strong></p>
<ul>
<li>（+）发现与Sigmoid/ tanh函数相比，随机梯度下降的收敛速度显着加快（提高了6倍）。有人认为，这是由于其线性非饱和形式。</li>
<li>（+）与涉及昂贵操作（指数等）的tanh / sigmoid神经元相比，ReLU可以通过简单地将激活矩阵阈值化为零来实现。</li>
<li>（ - ）不幸的是，ReLU在训练期间可能会变得脆弱，可能会“死亡”。例如，流经ReLU神经元的大梯度可能会导致权重更新，使得神经元不会再次在任何数据点上激活。如果发生这种情况，那么流经该单元的梯度将从此处永远为零。也就是说，ReLU单位在训练过程中可能会不可逆转地死亡，因为他们可能会从数据流形中剔除。例如，如果学习率设置得过高，您可能会发现多达40％的网络可能“死亡”（即从未在整个训练数据集中激活的神经元）。 <strong>通过设置适当的学习率，可以解决这个问题。</strong></li>
</ul>
<p><strong>Leaky ReLU.</strong></p>
<p>Leaky ReLU是一个尝试解决“垂死的ReLU”问题。当x &lt; 0时，而不是函数为零，而泄漏的ReLU将会有一个小的负斜率（0.01左右）。即：<strong>f(x)=1(x &lt; 0)(αx)+1(x&gt;=0)(x)f(x)=1(x &lt; 0)(αx)+1(x &gt;= 0)(x)α </strong></p>
<p><strong>Maxout.</strong></p>
<p>Maxout神经元享有ReLU单元的所有好处（线性操作状态，没有饱和），并且没有缺点（无死亡的ReLU）。然而，与ReLU神经元不同的是，它使每个神经元的参数数量加倍，导致参数总数很高。</p>
<hr>
<p>这就是我们对最常见类型的神经元及其激活函数的讨论。<strong>最后需要注意：在同一网络中混合和匹配不同类型的神经元是非常罕见的，即使这样做没有根本的问题。</strong></p>
<p><strong>TLDR</strong>：“ <em>我应该使用什么神经元类型？</em>“ 使用ReLU非线性，小心你的学习速度，并随时监测网络中”死亡“单元的比例。如果可以，请尝试Leaky ReLU或Maxout。切勿使用sigmoid。试试tanh，但别期望它比ReLU / Maxout更好。</p>
<h1 id="神经网络架构"><a href="#神经网络架构" class="headerlink" title="神经网络架构"></a>神经网络架构</h1><h2 id="分层组织"><a href="#分层组织" class="headerlink" title="分层组织"></a>分层组织</h2><p>神经网络的作用是连接在非循环图中的神经元。换句话说，一些神经元的输出可以成为其他神经元的输入。<strong>闭合的循环是不允许的</strong>，因为这意味着在网络的正向传递中有一个无限循环。</p>
<p>神经网络模型通常被组织成不同层次的神经元，而不是连接神经元的无定形网络。对于规则的神经网络，最常见的层类型是<strong>fully-connected layer（完全连接层）</strong>，其中两个相邻层之间的神经元完全成对地连接，但是单层内的神经元不共享连接。以下是两个使用完全连接层的示例神经网络拓扑：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180131132011.png" alt="img"> </p>
<p><strong>左：</strong> 2层神经网络（4个神经元（或单元）的一个隐藏层和2个神经元的输出层）和三个输入。<strong>右：</strong>三层神经网络，三个输入层，两个隐藏层，每层四个神经元，一个输出层。请注意，在这两种情况下，跨层之间的神经元之间都存在连接（突触），但在层内无连接。</p>
<p><strong>命名约定。</strong>请注意，当我们说N层神经网络时，我们不计入输入层。</p>
<p><strong>输出层。</strong>与神经网络中的所有图层不同，<strong>输出层神经元通常不具有激活功能</strong>（或者您可以将其视为具有线性身份激活功能）。这是因为最后的输出层通常被用来表示类别分数（例如在分类中），它们是任意的实数值，或者某种实值目标（例如在回归中）。</p>
<p><strong>调整神经网络</strong>。人们通常用来测量神经网络大小的两个指标是神经元的数量，以及参数的数量（更普遍）。在上面的图片中使用两个示例网络：</p>
<ul>
<li>第一个网络（左）具有4 + 2 = 6个神经元（不包括输入），[3×4] + [4×2] = 20个权重和4 + 2 = 6个偏差，总共26个可学习参数。</li>
<li>第二个网络（右）具有4 + 4 + 1 = 9个神经元，[3×4] + [4×4] + [4×1] = 12 + 16 + 4 = 32个权重和4 + 4 + 1 = 9偏见，总共41个可学习的参数。</li>
</ul>
<p>现代的卷积网络包含大约1亿个参数，通常由大约10-20个层次组成（因此<em>深度学习</em>）。但是，由于参数共享，有效连接的数量将显着增加，卷积神经网络模块的内容更多。</p>
<h2 id="正向传递计算"><a href="#正向传递计算" class="headerlink" title="正向传递计算"></a>正向传递计算</h2><p>神经网络的计算过程可以总结为重复的矩阵乘法与激活函数的交织。神经网络组织成层的主要原因之一是这种结构使得使用矩阵向量操作来评估神经网络变得非常简单和高效。</p>
<p>使用上图中的示例三层神经网络，输入将是一个[3x1]向量。一个图层的所有连接强度都可以存储在一个矩阵中。</p>
<p>例如，第一个隐藏层的权重<code>W1</code>大小为[4x3]，所有单位的偏差都在矢量中<code>b1</code>，大小为[4x1]。在这里，每一个单独的神经元都有它的权重<code>W1</code>，所以矩阵向量乘法<code>np.dot(W1,x)</code>计算该层所有神经元的激活。同样的，<code>W2</code>是一个存储第二个隐藏层连接的[4x4]矩阵，以及<code>W3</code>最后（输出）层的[1x4]矩阵。这个三层神经网络的完全正向传递就是三个矩阵乘法，与激活函数的应用交织在一起：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 3层神经网络的正向传递:</span><br><span class="line">f = lambda x: 1.0/(1.0 + np.exp(-x))      # activation function (use sigmoid)</span><br><span class="line">x = np.random.randn(3, 1)                 # random input vector of three numbers (3x1)</span><br><span class="line">h1 = f(np.dot(W1, x) + b1)                # calculate first hidden layer activations (4x1)</span><br><span class="line">h2 = f(np.dot(W2, h1) + b2)               # calculate second hidden layer activations (4x1)</span><br><span class="line">out = np.dot(W3, h2) + b3                 # output neuron (1x1)</span><br></pre></td></tr></table></figure>
<p>在上面的代码中，<code>W1,W2,W3,b1,b2,b3</code>是网络的可学习参数。还要注意，不一定是有一个单一的输入列矢量，变量<code>x</code>可以保存整批的训练数据（其中每个输入的例子将是一列<code>x</code>），然后所有的例子将被并行有效地评估。</p>
<h2 id="代表性优势"><a href="#代表性优势" class="headerlink" title="代表性优势"></a>代表性优势</h2><p>创建具有完全连接层的神经网络的一种方法是，定义一系列由网络权重参数化的函数。一个自然而然的问题是：这个方法的代表性优势是什么？特别是有没有不能用神经网络建模的功能？</p>
<p>神经网络在实践中运行良好，因为它们紧凑地表达了很好的，平滑的函数，这些函数非常适合我们在实践中遇到的数据的统计特性，而且使用我们的优化算法（例如梯度下降）也很容易学习。类似地，深层网络（具有多个隐藏层）可以比单隐层网络更好地工作的事实是一个经验结论。</p>
<p>另外，在实践中，3层传统神经网络通常比2层网络要好，但更深层（4,5,6层）的帮助很少。这与卷积网络形成了鲜明的对比，已经发现卷积网络的深度对于识别系统（例如，按照10个可学习层的顺序）是非常重要的。这个结论的一个论据是，图像包含分层结构（例如，面部由眼睛组成，由边缘等组成），因此多层处理对于这个数据域是直观的。</p>
<p>参考阅读：</p>
<ul>
<li><a href="http://www.deeplearningbook.org/" target="_blank" rel="noopener">深度学习</a>本书由Bengio，Goodfellow，Courville出版，尤其是<a href="http://www.deeplearningbook.org/contents/mlp.html" target="_blank" rel="noopener">第6.4章</a>。</li>
<li><a href="http://arxiv.org/abs/1312.6184" target="_blank" rel="noopener">深网真的需要深入吗？</a></li>
<li><a href="http://arxiv.org/abs/1412.6550" target="_blank" rel="noopener">FitNets：提示薄的深网</a></li>
</ul>
<h2 id="神经层的数量和大小"><a href="#神经层的数量和大小" class="headerlink" title="神经层的数量和大小"></a>神经层的数量和大小</h2><p>在面临实际问题时，我们如何决定使用哪种架构？我们应该使用没有隐藏的层？一个隐藏的层？两个隐藏层？每层应该多大？</p>
<p>首先，请注意，随着我们增加神经网络中的层数和层数，网络的<strong>容量</strong>会增加。也就是说，可表示函数的空间增长，因为神经元可以协作表达许多不同的功能。</p>
<p>例如，假设我们在二维中存在二元分类问题。我们可以训练三个独立的神经网络，每个神经网络都有一个大小不一的隐藏层，并获得以下分类器：</p>
<hr>
<p><img src="http://cs231n.github.io/assets/nn1/layer_sizes.jpeg" alt="img"></p>
<p>较大的神经网络可以代表更复杂的功能。这些数据显示为按照他们的类别进行着色的圆圈，并且由经过训练的神经网络的决策区域显示在下面。你可以在<a href="http://cs.stanford.edu/people/karpathy/convnetjs/demo/classify2d.html" target="_blank" rel="noopener">ConvNetsJS演示中</a>观看并使用这些例子。</p>
<hr>
<p>在上图中，我们可以看到，神经网络增加更多的神经元可以表达更复杂的功能。然而，这既是祝福（因为我们可以学习分类更复杂的数据）也是诅咒（因为它更容易过度训练数据）。当训练过度地去拟合噪声而不是（假定的）基础关系时，<strong>过拟合</strong>就会发生。</p>
<p>例如，具有20个隐藏的神经元的模型适合于所有的训练数据，但是以将空间分割成许多不相交的红色和绿色决策区域为代价。具有3个隐藏神经元的模型仅具有对广义笔画中的数据进行分类的代表性能力。它将数据建模为两个斑点，并将绿色群集内的少数红点解释为<strong>异常值</strong>（噪声）。在实践中，这可能会导致测试集更好的<strong>泛化</strong>。</p>
<h3 id="解决过拟合"><a href="#解决过拟合" class="headerlink" title="解决过拟合"></a>解决过拟合</h3><p>根据我们上面的讨论，为了防止过拟合，似乎较小的神经网络可能是优先选择的。然而，这是不正确的 。 在神经网络中还有许多其他的优选方法可以防止过度拟合（例如L2正则化，丢失，输入噪声）。<strong>在实践中，使用这些方法来控制过度拟合总是更好的，而不是减小神经元的数量。</strong></p>
<p>这背后的一个微妙的原因是，较小的网络难以用梯度下降等局部方法进行训练：很明显，他们的损失函数具有相对较少的局部最小值，但是事实证明，许多最小值更容易收敛，他们是不好的（即高损失）。相反，更大的神经网络包含更多的局部最小值，但是这些最小值在实际损失方面要好得多。由于神经网络是非凸的，所以很难从数学上研究这些性质，但是一些试图理解这些目标函数已经被提出，例如在最近的一篇文章<a href="http://arxiv.org/abs/1412.0233" target="_blank" rel="noopener">“多层网络的损失表面</a>。</p>
<p>在实践中，你如果你训练一个小型网络，最终的损失可能会显示出很大的差异 ：有时候，你很幸运地会聚到一个好的地方，但是在某些情况下，你会陷入一个糟糕的最小值。另一方面，如果你训练一个庞大的网络，你会开始找到许多不同的解决方案，但最终实现的损失的差异将小得多。换句话说，一个庞大网络的所有解决方案都是一样的好，主要是对随机初始化的运气依赖较少。</p>
<p><strong>重申一下，正则化是控制神经网络过度拟合的首选方法！！！</strong>我们可以看看三种不同设置的结果：</p>
<p><img src="http://cs231n.github.io/assets/nn1/reg_strengths.jpeg" alt="img"></p>
<p>正则化强度的影响：上述每个神经网络有20个隐藏的神经元，但是改变正则化强度使得其最终决策区域更平滑并具有更高的正则化。你可以在这个<a href="http://cs.stanford.edu/people/karpathy/convnetjs/demo/classify2d.html" target="_blank" rel="noopener">ConvNetsJS演示中</a>使用这些例子。</p>
<p><strong>总结一下就是，你不应因为害怕过度拟合就使用较小的神经网络。相反，你应该像公司做预算那样使用一个神经网络，并且使用其他正则化技术来控制过拟合。</strong></p>
<h1 id="参考阅读"><a href="#参考阅读" class="headerlink" title="参考阅读"></a>参考阅读</h1><ul>
<li><a href="http://cs231n.github.io/neural-networks-1/#power" target="_blank" rel="noopener">斯坦福CS类：神经网络的架构</a></li>
<li>与Theano的<a href="http://www.deeplearning.net/tutorial/mlp.html" target="_blank" rel="noopener">deeplearning.net教程</a></li>
<li><a href="http://cs.stanford.edu/people/karpathy/convnetjs/" target="_blank" rel="noopener">ConvNetJS</a>直观的演示</li>
<li><a href="http://neuralnetworksanddeeplearning.com/chap1.html" target="_blank" rel="noopener">迈克尔尼尔森的</a>教程</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 编程 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> python </tag>
            
            <tag> tensorflow </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Tensorflow学习笔记-神经网络可视化]]></title>
      <url>/2018/01/21/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8F%AF%E8%A7%86%E5%8C%96/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Tensorflow官方推出了可视化工具Tensorboard，它可以将模型训练过程中的各种数据汇总起来存在自定义的路径与日志文件中，然后在指定的web端可视化地展现这些信息。</p>
<p>当使用Tensorflow训练大量深层的神经网络时，我们希望去跟踪神经网络的整个训练过程中的信息，比如迭代的过程中每一层参数是如何变化与分布的，比如每次循环参数更新后模型在测试集与训练集上的准确率是如何的，比如损失值的变化情况，等等。这些都可以用Tensorboard可视化出来。</p>
<p><img src="https://tensorflow.google.cn/images/graph_vis_animation.gif" alt="MNIST TensorBoard"></p>
<a id="more"></a>
<hr>
<p><code>tensorflow</code>的可视化是使用<code>summary</code>和<code>tensorboard</code>合作完成的.不过我们首先需要在神经网络代码中设置可视化参数。</p>
<p>TensorBoard：可视化学习——<a href="https://tensorflow.google.cn/get_started/summaries_and_tensorboard" target="_blank" rel="noopener">官方文档</a></p>
<h1 id="设置可视化参数"><a href="#设置可视化参数" class="headerlink" title="设置可视化参数"></a>设置可视化参数</h1><p>想将整个神经网络的框架可视化出来，就必须先设置框架中每个元素的可视化参数。</p>
<h2 id="设置节点和名称"><a href="#设置节点和名称" class="headerlink" title="设置节点和名称"></a>设置节点和名称</h2><p>设置节点可视化参数使用上下文管理器with语法，用tf.name_scope()实现。</p>
<ul>
<li><p><a href="https://tensorflow.google.cn/api_docs/python/tf/name_scope" target="_blank" rel="noopener">tf.name_scope()</a></p>
<p>定义Python操作时使用上下文管理器with。</p>
<p>例如，针对单个变量：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with tf.name_scope(&apos;weights&apos;):</span><br><span class="line">    Weights = tf.Variable(tf.random_normal([in_size, out_size]))</span><br></pre></td></tr></table></figure>
<p>​    例如，给对象加个name：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">with tf.name_scope(&apos;inputs&apos;):</span><br><span class="line">    xs = tf.placeholder(tf.float32,[None, 1],name=&apos;x_input&apos;) </span><br><span class="line">    ys = tf.placeholder(tf.float32,[None, 1],name=&apos;y_input&apos;)</span><br></pre></td></tr></table></figure>
<p>​        例如，针对某层：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def my_op(a, b, c, name=None):</span><br><span class="line">  with tf.name_scope(name, &quot;MyOp&quot;, [a, b, c]) as scope:</span><br><span class="line">    a = tf.convert_to_tensor(a, name=&quot;a&quot;)</span><br><span class="line">    b = tf.convert_to_tensor(b, name=&quot;b&quot;)</span><br><span class="line">    c = tf.convert_to_tensor(c, name=&quot;c&quot;)</span><br><span class="line">    # Define some computation that uses `a`, `b`, and `c`.</span><br><span class="line">    return foo_op(..., name=scope)</span><br></pre></td></tr></table></figure>
<h2 id="设置变量直方图"><a href="#设置变量直方图" class="headerlink" title="设置变量直方图"></a>设置变量直方图</h2><p>直方图需要在之后的<code>tensorboard</code>中的<code>hietograms</code>标签下观看。</p>
<p>在这之前我们需要对每个检测对象进行设置：</p>
<h3 id="针对变量"><a href="#针对变量" class="headerlink" title="针对变量"></a>针对变量</h3><p>也许你也想看到一个特定层的激活分布，或梯度或权重的分布。通过将<a href="https://tensorflow.google.cn/api_docs/python/tf/summary/histogram" target="_blank" rel="noopener"><code>tf.summary.histogram</code></a>ops分别附加到梯度输出和保存权重的变量来收集这些数据 。</p>
<ul>
<li><p><a href="https://tensorflow.google.cn/api_docs/python/tf/summary/histogram" target="_blank" rel="noopener">tf.summary.histogram()</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">histogram(</span><br><span class="line">    name,</span><br><span class="line">    values,</span><br><span class="line">    collections=None,</span><br><span class="line">    family=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><code>Summary</code>用直方图输出协议缓冲区。</p>
<p>添加直方图汇总可以使数据在TensorBoard中的分布可视化。您可以<a href="https://tensorflow.google.cn/get_started/tensorboard_histograms" target="_blank" rel="noopener">在这里</a>看到TensorBoard直方图仪表板的详细说明 。</p>
<p>生成的 <a href="https://www.github.com/tensorflow/tensorflow/blob/r1.4/tensorflow/core/framework/summary.proto" target="_blank" rel="noopener"><code>Summary</code></a> 具有一个包含直方图的汇总值<code>values</code>。</p>
<p><code>InvalidArgument</code>如果任何值不是有限的，则这个op报告一个错误。</p>
</li>
</ul>
<h3 id="针对标量"><a href="#针对标量" class="headerlink" title="针对标量"></a>针对标量</h3><p>假设您正在训练用于识别MNIST数字的卷积神经网络。您想记录学习率随时间的变化，以及目标函数如何变化。通过将<a href="https://tensorflow.google.cn/api_docs/python/tf/summary/scalar" target="_blank" rel="noopener"><code>tf.summary.scalar</code></a>操作附加到分别输出学习率和丢失的节点来收集这些数据。</p>
<ul>
<li><p><a href="https://tensorflow.google.cn/api_docs/python/tf/summary/scalar" target="_blank" rel="noopener">tf.summary.scalar()</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scalar(</span><br><span class="line">    name,</span><br><span class="line">    tensor,</span><br><span class="line">    collections=None,</span><br><span class="line">    family=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>输出<code>Summary</code>包含单个标量值的协议缓冲区。</p>
<p>生成的摘要包含一个包含输入张量的Tensor.proto。</p>
</li>
</ul>
<h1 id="合并摘要并保存至文件"><a href="#合并摘要并保存至文件" class="headerlink" title="合并摘要并保存至文件"></a>合并摘要并保存至文件</h1><h2 id="合并摘要设置"><a href="#合并摘要设置" class="headerlink" title="合并摘要设置"></a>合并摘要设置</h2><p>在运行之前，TensorFlow中的操作不会执行任何操作，或者取决于其输出的操作。我们刚刚创建的摘要节点是图形的外围设备：您当前正在运行的所有操作都不依赖于它们。所以，为了生成摘要，我们需要运行所有这些汇总节点。 <a href="https://tensorflow.google.cn/api_docs/python/tf/summary/merge_all" target="_blank" rel="noopener"><code>tf.summary.merge_all</code></a> 可以将它们合并成一个单一的操作，生成所有的汇总数据。</p>
<ul>
<li><p><a href="https://tensorflow.google.cn/api_docs/python/tf/summary/merge_all" target="_blank" rel="noopener">tf.summary.merge_all()</a> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">merge_all(key=tf.GraphKeys.SUMMARIES)</span><br></pre></td></tr></table></figure>
<p>合并在默认图表中收集的所有摘要。</p>
<p>ARGS：</p>
<ul>
<li>key：<code>GraphKey</code>用来收集摘要。默认为 <code>GraphKeys.SUMMARIES</code>。</li>
</ul>
<p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sess = tf.Session()</span><br><span class="line">merged = tf.summary.merge_all()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>上面的merge只是设置，在最后的循环训练中通过run才能发挥作用，然后再将其写入文件。</p>
<p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for i in range(1000):</span><br><span class="line">    # 训练并传参</span><br><span class="line">    sess.run(train,feed_dict=&#123;xs:x_data,ys:y_data&#125;)</span><br><span class="line">    if i % 50 == 0:      # 每隔50个记录</span><br><span class="line">        result = sess.run(merged,feed_dict=&#123;xs:x_data,ys:y_data&#125;)</span><br><span class="line">        writer.add_summary(result,global_step=i)</span><br></pre></td></tr></table></figure>
<h2 id="向文件添加数据"><a href="#向文件添加数据" class="headerlink" title="向文件添加数据"></a>向文件添加数据</h2><p>使用tf.summary.FileWriter()将整个可视化设置加载到一个文件中，之后我才能将文件加载到浏览器中可视化。</p>
<ul>
<li><p><a href="https://tensorflow.google.cn/api_docs/python/tf/summary/FileWriter" target="_blank" rel="noopener">tf.summary.FileWriter()</a></p>
<p>将缓冲区<code>Summary</code>协议数据写入硬盘文件。</p>
<p>本<code>FileWriter</code>类提供了一个机制来创建指定目录的事件文件，并添加摘要和事件给它。该类异步更新文件内容。这允许训练程序调用直接从训练循环向文件添加数据的方法，而不减慢训练。</p>
</li>
</ul>
<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sess = tf.Session()</span><br><span class="line">writer = tf.summary.FileWriter(&apos;your_dir&apos;, sess.graph)</span><br></pre></td></tr></table></figure>
<p>‘your_dir’——文件存放路径</p>
<p><strong>注：必须先定义了Session（初始化）之后才能tf.summary.FileWriter()</strong></p>
<h2 id="summary函数介绍"><a href="#summary函数介绍" class="headerlink" title="summary函数介绍"></a>summary函数介绍</h2><ul>
<li><code>tf.summary.merge_all</code>: 将之前定义的所有<code>summary op</code>整合到一起</li>
<li><code>FileWriter</code>: 创建一个<code>file writer</code>用来向硬盘写<code>summary</code>数据,</li>
<li><code>tf.summary.scalar(summary_tags, Tensor/variable)</code>: 用于标量的 <code>summary</code></li>
<li><code>tf.summary.image(tag, tensor, max_images=3, collections=None, name=None)</code>:tensor,必须4维,形状[batch_size, height, width, channels],<code>max_images</code>(最多只能生成3张图片的<code>summary</code>),觉着这个用在卷积中的<code>kernel</code>可视化很好用.<code>max_images</code>确定了生成的图片是[-max_images: ,height, width, channels]，还有一点就是，<code>TensorBord</code>中看到的<code>image summary</code>永远是最后一个<code>global step</code>的</li>
<li><code>tf.summary.histogram(tag, values, collections=None, name=None)</code>:values,任意形状的<code>tensor</code>,生成直方图<code>summary</code></li>
<li><code>tf.summary.audio(tag, tensor, sample_rate, max_outputs=3, collections=None, name=None)</code></li>
</ul>
<h1 id="启动TensorBoard"><a href="#启动TensorBoard" class="headerlink" title="启动TensorBoard"></a>启动TensorBoard</h1><p>上面的步骤成功之后，events file就躺在你磁盘上logdir位置上了。</p>
<p>要运行TensorBoard，请在命令行键入以下命令</p>
<p>（或者<code>python -m tensorboard.main</code>）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir=path/to/log-directory</span><br></pre></td></tr></table></figure>
<p>其中<code>logdir</code>指向<code>FileWriter</code>序列化其数据的目录。如果这个<code>logdir</code>目录包含包含来自单独运行的序列化数据的子目录，那么TensorBoard将可视化来自所有这些运行的数据。</p>
<p><a href="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180121002929.png" target="_blank" rel="noopener"><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180121002929.png" alt="img"></a></p>
<p>然后浏览器输入给出的地址（红框中链接）<br>这样你就可以在<code>tensorboard</code>中看到你的网络结构图了。</p>
<p>在看TensorBoard时，您会看到右上角的导航标签。每个选项卡代表一组可以可视化的序列化数据。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20180122114743.png" alt="img"></p>
<p>有关如何使用<em>图形</em>选项卡可视化图形的深入信息，请参阅<a href="https://tensorflow.google.cn/get_started/graph_viz" target="_blank" rel="noopener">TensorBoard：图形可视化</a>。</p>
<p>有关如何使用TensorBoard直方图仪表盘——<a href="https://tensorflow.google.cn/get_started/tensorboard_histograms" target="_blank" rel="noopener">官方文档</a></p>
<p>有关TensorBoard的更多使用信息，请参阅<a href="https://github.com/tensorflow/tensorboard" target="_blank" rel="noopener">TensorBoard的GitHub</a>。</p>
<h1 id="图形可视化"><a href="#图形可视化" class="headerlink" title="图形可视化"></a>图形可视化</h1><p>典型的TensorFlow图可以有成千上万个节点 - 太多的节点很难一次看到，甚至无法使用标准的图形工具进行布局。为简化起见，变量名可以作用域，可视化使用这些信息来定义图中节点上的层次结构。默认情况下，只显示该层次结构的顶部。这里是一个例子，在<code>hidden</code>名称范围下使用 <a href="https://tensorflow.google.cn/api_docs/python/tf/name_scope" target="_blank" rel="noopener"><code>tf.name_scope</code></a>以下命令定义三个操作 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import tensorflow as tf</span><br><span class="line"></span><br><span class="line">with tf.name_scope(&apos;hidden&apos;) as scope:</span><br><span class="line">  a = tf.constant(5, name=&apos;alpha&apos;)</span><br><span class="line">  W = tf.Variable(tf.random_uniform([1, 2], -1.0, 1.0), name=&apos;weights&apos;)</span><br><span class="line">  b = tf.Variable(tf.zeros([1]), name=&apos;biases&apos;)</span><br></pre></td></tr></table></figure>
<p>按名称范围对节点进行分组对于制作清晰的图形至关重要。如果你正在构建模型，则名称范围可以控制生成的可视化。 <strong>你的名字范围越好，你的可视化就越好。</strong></p>
<p>下面是一个节点符号表：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://tensorflow.google.cn/images/namespace_node.png" alt="名称范围"></td>
<td><em>*表示名称范围</em>的高级*节点。双击以展开高级节点。</td>
</tr>
<tr>
<td><img src="https://tensorflow.google.cn/images/horizontal_stack.png" alt="未连接节点的序列"></td>
<td>编号节点序列没有相互连接。</td>
</tr>
<tr>
<td><img src="https://tensorflow.google.cn/images/vertical_stack.png" alt="连接节点的序列"></td>
<td>相互连接的编号节点序列。</td>
</tr>
<tr>
<td><img src="https://tensorflow.google.cn/images/op_node.png" alt="操作节点"></td>
<td>一个单独的操作节点。</td>
</tr>
<tr>
<td><img src="https://tensorflow.google.cn/images/constant.png" alt="常量节点"></td>
<td>一个常数。</td>
</tr>
<tr>
<td><img src="https://tensorflow.google.cn/images/summary.png" alt="摘要节点"></td>
<td>摘要节点。</td>
</tr>
<tr>
<td><img src="https://tensorflow.google.cn/images/dataflow_edge.png" alt="数据流的边缘"></td>
<td>边缘显示操作之间的数据流。</td>
</tr>
<tr>
<td><img src="https://tensorflow.google.cn/images/control_edge.png" alt="控制依赖性边缘"></td>
<td>边缘显示操作之间的控制依赖关系。</td>
</tr>
<tr>
<td><img src="https://tensorflow.google.cn/images/reference_edge.png" alt="参考边缘"></td>
<td>显示传出操作节点可以改变传入张量的参考边缘。</td>
</tr>
</tbody>
</table>
]]></content>
      
        <categories>
            
            <category> 编程 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> python </tag>
            
            <tag> tensorflow </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Tensorflow学习笔记-例子3建造神经网络&可视化]]></title>
      <url>/2018/01/19/Tensorflow%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BE%8B%E5%AD%903%E5%BB%BA%E9%80%A0%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C-%E5%8F%AF%E8%A7%86%E5%8C%96/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Tensorflow学习笔记，一个简单的例子，建立一个3层的神经网络（输入层1个神经元 隐藏层10个神经元 输出层1个神经元），通过训练去接近并拟合<code>real_data</code>，目标为误差<code>loss</code>的下降，并用<code>pyplot</code>将过程可视化出来。</p>
<p>学习目的：熟悉神经网络建造逻辑，熟悉Tensorflow功能性函数的应用。</p>
<p>最终输出：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%8B%9F%E5%90%88.gif" alt="img"></p>
<a id="more"></a>
<hr>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180118172624.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">import tensorflow as tf</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># 添加一个新的层，输入值，输入单位数，输出单位数，激励函数默认为None，即线性函数</span><br><span class="line">def add_layer(inputs,in_size,out_size,activation_function=None):</span><br><span class="line"></span><br><span class="line">    # 定义一个随机变量，数据格式为 in_size行 out_size列</span><br><span class="line">    Weights = tf.Variable(tf.random_normal([in_size,out_size]))</span><br><span class="line"></span><br><span class="line">    # 定义一个变量，从零开始，数据格式为1行out_size列</span><br><span class="line">    # 在机器学习中 biases的初始值推荐不为0，所以+0.1</span><br><span class="line">    biases = tf.Variable(tf.zeros([1,out_size]) + 0.1)</span><br><span class="line"></span><br><span class="line">    # 预测函数</span><br><span class="line">    Wx_plus_b = tf.matmul(inputs,Weights) + biases</span><br><span class="line"></span><br><span class="line">    if activation_function is None:</span><br><span class="line">        outputs = Wx_plus_b</span><br><span class="line">    else:</span><br><span class="line">        # 用激励函数掰弯Wx_plus_b</span><br><span class="line">        outputs = activation_function(Wx_plus_b)</span><br><span class="line"></span><br><span class="line">    return outputs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 制作真实数据 ###</span><br><span class="line"></span><br><span class="line"># 生成等差数列，x_data有300行（或者说300个实例）,范围-1到1,np.newaxis加一个维度</span><br><span class="line">x_data = np.linspace(-1,1,300)[:,np.newaxis]</span><br><span class="line"># 添加噪音，让数据更接近真实,方差0.05，格式与x_data一样</span><br><span class="line">noise = np.random.normal(0,0.05,x_data.shape)</span><br><span class="line"></span><br><span class="line">y_data = np.square(x_data) - 0.5 + noise  # np.square()平方计算</span><br><span class="line"></span><br><span class="line">xs = tf.placeholder(tf.float32,[None,1])  # 占位,将在sess.run(train_step)时传参，None表示有多少实例都ok</span><br><span class="line">ys = tf.placeholder(tf.float32,[None,1])  # 占位,将在sess.run(train_step)时传参</span><br><span class="line"></span><br><span class="line">### 制作真实数据 ###</span><br><span class="line"></span><br><span class="line"># 输入层1个神经元 隐藏层10个 输出层1个</span><br><span class="line"></span><br><span class="line">### 设置层参数 ###</span><br><span class="line"></span><br><span class="line"># 定义隐藏层</span><br><span class="line">l1 = add_layer(xs,1,10,activation_function=tf.nn.relu)  # tf提供多种activation_function 这里通常选择tf.nn.relu</span><br><span class="line"># 定义输出层</span><br><span class="line">prediction = add_layer(l1,10,1,activation_function=None)</span><br><span class="line"></span><br><span class="line">### 设置层参数 ###</span><br><span class="line"></span><br><span class="line"># 误差,predition与ys的差值</span><br><span class="line"># tf.square(ys - predition)每个例子的平方</span><br><span class="line"># tf.reduce_sum()所有例子求和</span><br><span class="line"># tf.reduce_mean()求平均值</span><br><span class="line">loss = tf.reduce_mean(tf.reduce_sum(tf.square(ys - prediction),reduction_indices=[1]))</span><br><span class="line"></span><br><span class="line"># 训练，减少误差, tf.train.GradientDescentOptimizer为常用方法，学习效率0.1（要求小于1）,对象为loss</span><br><span class="line">train_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)</span><br><span class="line"></span><br><span class="line"># 初始化</span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line"># 指针</span><br><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(init)      # 激活</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(1,1,1)</span><br><span class="line">ax.scatter(x_data,y_data)</span><br><span class="line">plt.ion()           # 使图像编辑连续进行</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for i in range(1000):</span><br><span class="line">    # 训练并传参</span><br><span class="line">    sess.run(train_step, feed_dict=&#123;xs: x_data, ys: y_data&#125;)</span><br><span class="line">    if i % 50 == 0:  # 每隔50个</span><br><span class="line">        # print(sess.run(loss,feed_dict=&#123;xs:x_data,ys:y_data&#125;))</span><br><span class="line">        try:</span><br><span class="line">            # 每次循环抹除上次的线,第一次时没有就pass</span><br><span class="line">            ax.lines.remove(lines[0])</span><br><span class="line">        except Exception:  # 所有异常都是基类 Exception的成员</span><br><span class="line">            pass</span><br><span class="line"></span><br><span class="line">        prediction_value = sess.run(prediction, feed_dict=&#123;xs: x_data, ys: y_data&#125;)</span><br><span class="line">        # 用了线段表示预测值prediction_value，红色，线宽5</span><br><span class="line">        lines = ax.plot(x_data, prediction_value, &apos;r-&apos;, lw=5)</span><br><span class="line">        # 暂停0.1秒</span><br><span class="line">        plt.pause(0.1)</span><br></pre></td></tr></table></figure>
<h1 id="1-创建并定义新的神经层"><a href="#1-创建并定义新的神经层" class="headerlink" title="1.创建并定义新的神经层"></a>1.创建并定义新的神经层</h1><p>一个新的神经层的逻辑关系如下图</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180118172142.png" alt="img"></p>
<p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import tensorflow as tf</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line"># 添加一个新的层，输入值，输入单位数，输出单位数，激励函数默认为None，即线性函数</span><br><span class="line">def add_layer(inputs,in_size,out_size,activation_function=None):</span><br><span class="line"></span><br><span class="line">    # 定义一个随机变量，数据格式为 in_size行 out_size列</span><br><span class="line">    Weights = tf.Variable(tf.random_normal([in_size,out_size]))</span><br><span class="line"></span><br><span class="line">    # 定义一个变量，从零开始，数据格式为1行out_size列</span><br><span class="line">    # 在机器学习中 biases的初始值推荐不为0，所以+0.1</span><br><span class="line">    biases = tf.Variable(tf.zeros([1,out_size]) + 0.1)</span><br><span class="line"></span><br><span class="line">    # 预测函数</span><br><span class="line">    Wx_plus_b = tf.matmul(inputs,Weights) + biases</span><br><span class="line"></span><br><span class="line">    if activation_function is None:</span><br><span class="line">        outputs = Wx_plus_b</span><br><span class="line">    else:</span><br><span class="line">        # 用激励函数掰弯Wx_plus_b</span><br><span class="line">        outputs = activation_function(Wx_plus_b)</span><br><span class="line"></span><br><span class="line">    return outputs</span><br></pre></td></tr></table></figure>
<ul>
<li><p><a href="https://www.w3cschool.cn/tensorflow_python/tensorflow_python-fe2i2ev9.html" target="_blank" rel="noopener">tf.Variable() 变量函数</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">get_local_variable(</span><br><span class="line">    *args,</span><br><span class="line">    **kwargs</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.w3cschool.cn/tensorflow_python/tensorflow_python-n7hl2gmf.html" target="_blank" rel="noopener">tf.random_normal()随机值函数</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">random_normal(</span><br><span class="line">    shape,</span><br><span class="line">    mean=0.0,</span><br><span class="line">    stddev=1.0,</span><br><span class="line">    dtype=tf.float32,</span><br><span class="line">    seed=None,</span><br><span class="line">    name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.w3cschool.cn/tensorflow_python/tensorflow_python-l5x72feg.html" target="_blank" rel="noopener">tf.matmul()矩阵乘法</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">matmul(</span><br><span class="line">    a,</span><br><span class="line">    b,</span><br><span class="line">    transpose_a=False,</span><br><span class="line">    transpose_b=False,</span><br><span class="line">    adjoint_a=False,</span><br><span class="line">    adjoint_b=False,</span><br><span class="line">    a_is_sparse=False,</span><br><span class="line">    b_is_sparse=False,</span><br><span class="line">    name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="2-制作真实数据"><a href="#2-制作真实数据" class="headerlink" title="2.制作真实数据"></a>2.制作真实数据</h1><p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 生成等差数列，x_data有300行（或者说300个实例）,范围-1到1,np.newaxis加一个维度</span><br><span class="line">x_data = np.linspace(-1,1,300)[:,np.newaxis]</span><br><span class="line"># 添加噪音，让数据更接近真实,方差0.05，格式与x_data一样</span><br><span class="line">noise = np.random.normal(0,0.05,x_data.shape)</span><br><span class="line"></span><br><span class="line">y_data = np.square(x_data) - 0.5 + noise  # np.square()平方计算</span><br></pre></td></tr></table></figure>
<ul>
<li><p><a href="http://blog.csdn.net/you_are_my_dream/article/details/53493752" target="_blank" rel="noopener">np.linspace() 均分函数</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">numpy.linspace(</span><br><span class="line">start,</span><br><span class="line">stop,</span><br><span class="line">num=50,</span><br><span class="line">endpoint=True,</span><br><span class="line">retstep=False,</span><br><span class="line">dtype=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><a href="https://www.baidu.com/link?url=xZLM0YT1kEOUb7EQzVxpMV-fbG4afFqQyTao7YzDk6ze_R0MtVE6Esu53NL_U6uxU5xWfArJNOeyVTEJCoqj4iwwX8BGitv1m2ly3ZvSL8u&amp;wd=&amp;eqid=a535528d00016039000000025a60bb05" target="_blank" rel="noopener">tf.linspace与np.linspace的对比分析</a></p>
</li>
<li><p><a href="http://blog.csdn.net/qiqiaiairen/article/details/52505667" target="_blank" rel="noopener">np.random.normal()正态分布</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.random.normal(loc=0.0, scale=1.0, size=None)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="3-设置占位xs-amp-ys"><a href="#3-设置占位xs-amp-ys" class="headerlink" title="3.设置占位xs&amp;ys"></a>3.设置占位xs&amp;ys</h1><p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xs = tf.placeholder(tf.float32,[None,1]) </span><br><span class="line"># 占位,将在sess.run(train_step)时传参，None表示有多少实例都ok</span><br><span class="line">ys = tf.placeholder(tf.float32,[None,1])</span><br><span class="line"># 占位,将在sess.run(train_step)时传参</span><br></pre></td></tr></table></figure>
<ul>
<li><p><a href="https://www.w3cschool.cn/tensorflow_python/tensorflow_python-w7yt2fwc.html" target="_blank" rel="noopener">tf.placeholder()占位符</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tf.placeholder 函数</span><br><span class="line">placeholder(</span><br><span class="line">    dtype,</span><br><span class="line">    shape=None,</span><br><span class="line">    name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>​tf.placeholder()与feed_dict={} 是前后绑定的，先占位，后传参    </p>
</li>
<li><p>tf.float32 是tensorflow中通常采用的默认格式</p>
</li>
</ul>
<h1 id="4-设置层参数"><a href="#4-设置层参数" class="headerlink" title="4.设置层参数"></a>4.设置层参数</h1><p><em>先声明：输入层1个神经元 隐藏层10个神经元 输出层1个神经元</em></p>
<p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 定义隐藏层</span><br><span class="line">l1 = add_layer(xs,1,10,activation_function=tf.nn.relu)  # tf提供多种activation_function 这里通常选择tf.nn.relu</span><br><span class="line"># 定义输出层</span><br><span class="line">prediction = add_layer(l1,10,1,activation_function=None)</span><br></pre></td></tr></table></figure>
<h2 id="激励函数-activation-function"><a href="#激励函数-activation-function" class="headerlink" title="激励函数 activation_function"></a>激励函数 activation_function</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180119003454.png" alt="img"></p>
<p>查看所有activation_function：<a href="https://www.tensorflow.org/api_guides/python/nn" target="_blank" rel="noopener">官方文档</a></p>
<ul>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/relu" target="_blank" rel="noopener"><code>tf.nn.relu</code></a> 小于0时等于0大于时线性增加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">relu(</span><br><span class="line">features,</span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/relu6" target="_blank" rel="noopener"><code>tf.nn.relu6</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">relu6(</span><br><span class="line">features,</span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/crelu" target="_blank" rel="noopener"><code>tf.nn.crelu</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">crelu(</span><br><span class="line">features,</span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/elu" target="_blank" rel="noopener"><code>tf.nn.elu</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">elu(</span><br><span class="line">features,</span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/selu" target="_blank" rel="noopener"><code>tf.nn.selu</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">selu(  </span><br><span class="line">features, </span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/softplus" target="_blank" rel="noopener"><code>tf.nn.softplus</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">softplus( </span><br><span class="line">features,  </span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/softsign" target="_blank" rel="noopener"><code>tf.nn.softsign</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">softsign(   </span><br><span class="line">features,   </span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/dropout" target="_blank" rel="noopener"><code>tf.nn.dropout</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dropout( </span><br><span class="line">x,   </span><br><span class="line">keep_prob, </span><br><span class="line">noise_shape=None,  </span><br><span class="line">seed=None,  </span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/nn/bias_add" target="_blank" rel="noopener"><code>tf.nn.bias_add</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bias_add(   </span><br><span class="line">value,   </span><br><span class="line">bias,  </span><br><span class="line">data_format=None, </span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/sigmoid" target="_blank" rel="noopener"><code>tf.sigmoid</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sigmoid( </span><br><span class="line">x,  </span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/tanh" target="_blank" rel="noopener"><code>tf.tanh</code></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tanh(   </span><br><span class="line">x,  </span><br><span class="line">name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>TensorFlow提供了多种激励函数的选择，根据不同情况推荐使用不同的激励函数：</p>
<ul>
<li>2-3层神经网络：随意使用，不会有太大影响。</li>
</ul>
<ul>
<li>在卷积神经网络中：首选 relu</li>
<li>在循环神经网络中：首选 relu or tanh</li>
</ul>
<h1 id="5-误差"><a href="#5-误差" class="headerlink" title="5.误差"></a>5.误差</h1><p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 误差,predition与ys的差值</span><br><span class="line"># tf.square(ys - predition)每个例子的平方</span><br><span class="line"># tf.reduce_sum()所有例子求和</span><br><span class="line"># tf.reduce_mean()求平均值</span><br><span class="line">loss = tf.reduce_mean(tf.reduce_sum(tf.square(ys - prediction),reduction_indices=[1]))</span><br></pre></td></tr></table></figure>
<ul>
<li><p><a href="https://www.w3cschool.cn/tensorflow_python/tensorflow_python-5y4d2i2n.html" target="_blank" rel="noopener">tf.reduce_sum()张量各维度求和</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">reduce_sum （ </span><br><span class="line">    input_tensor ， </span><br><span class="line">    axis = None ， </span><br><span class="line">    keep_dims = False ， </span><br><span class="line">    name = None ， </span><br><span class="line">    reduction_indices = None</span><br><span class="line"> ）</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://www.w3cschool.cn/tensorflow_python/tensorflow_python-hckq2htb.htmll" target="_blank" rel="noopener">tf.reduce_mean()张量各维度平均值</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">reduce_mean(</span><br><span class="line">    input_tensor,</span><br><span class="line">    axis=None,</span><br><span class="line">    keep_dims=False,</span><br><span class="line">    name=None,</span><br><span class="line">    reduction_indices=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="6-训练设置"><a href="#6-训练设置" class="headerlink" title="6.训练设置"></a>6.训练设置</h1><p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 训练，减少误差, tf.train.GradientDescentOptimizer为常用方法，学习效率0.1（要求小于1）,对象为loss</span><br><span class="line">train_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)</span><br></pre></td></tr></table></figure>
<h2 id="tf-train训练函数"><a href="#tf-train训练函数" class="headerlink" title="tf.train训练函数"></a>tf.train训练函数</h2><p><a href="https://www.tensorflow.org/api_docs/python/tf/train" target="_blank" rel="noopener"><code>tf.train</code></a> 提供了一组帮助训练模型的类和函数。</p>
<h2 id="optimizer优化器"><a href="#optimizer优化器" class="headerlink" title="optimizer优化器"></a>optimizer优化器</h2><p>查看所有 optimizer优化器：<a href="https://www.tensorflow.org/api_guides/python/train" target="_blank" rel="noopener">官方文档</a></p>
<p>下图是不同optimizer优化器达到相同训练目标的效率对比：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/optimizer%E6%95%88%E7%8E%87%E5%9B%BE.gif" alt="img"></p>
<ul>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/Optimizer" target="_blank" rel="noopener"><code>tf.train.Optimizer</code></a></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/GradientDescentOptimizer" target="_blank" rel="noopener"><code>tf.train.GradientDescentOptimizer</code></a>*</p>
<p>取决于data的size和类型，将数据拆分，一部分一部分地训练（SGD），优势是能更快找到正确的路径，但达到同样的目的需要更多时间去train。</p>
</li>
</ul>
<ul>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/AdadeltaOptimizer" target="_blank" rel="noopener"><code>tf.train.AdadeltaOptimizer</code></a></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/AdagradOptimizer" target="_blank" rel="noopener"><code>tf.train.AdagradOptimizer</code></a> *</p>
<p>在学习率上动手脚，使训练过程中发生波动的阻力很大（少走弯路），限制其平滑地向目标下降。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180119130121.png" alt="img"></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/AdagradDAOptimizer" target="_blank" rel="noopener"><code>tf.train.AdagradDAOptimizer</code></a></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/MomentumOptimizer" target="_blank" rel="noopener"><code>tf.train.MomentumOptimizer</code></a>*</p>
<p>不仅考虑本步的学习效率，还会加载上一步学习效率的趋势（误差下降更快），所以在速度上会更快，但在方向性上要低于GradientDescent。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180119130230.png" alt="img"></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/FtrlOptimizer" target="_blank" rel="noopener"><code>tf.train.FtrlOptimizer</code></a></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/ProximalGradientDescentOptimizer" target="_blank" rel="noopener"><code>tf.train.ProximalGradientDescentOptimizer</code></a></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/ProximalAdagradOptimizer" target="_blank" rel="noopener"><code>tf.train.ProximalAdagradOptimizer</code></a></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/RMSPropOptimizer" target="_blank" rel="noopener"><code>tf.train.RMSPropOptimizer</code></a>(被<em>Alpha</em>Go采用)*</p>
<p>结合Momentum的“下坡走”和Adagrad的”少走弯路“，来提高效率。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180119130320.png" alt="img"></p>
</li>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/train/AdamOptimizer" target="_blank" rel="noopener"><code>tf.train.AdamOptimizer</code></a>*</p>
<p>解决RMSProp中为简化计算缺少Momentum的部分函数的问题。在大部分情况下Adam都能又快又好地解决问题。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180119130341.png" alt="img"></p>
</li>
</ul>
<h1 id="7-初始化-amp-指针"><a href="#7-初始化-amp-指针" class="headerlink" title="7.初始化&amp;指针"></a>7.初始化&amp;指针</h1><p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 初始化</span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line"># 指针</span><br><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(init)      # 激活</span><br></pre></td></tr></table></figure>
<ul>
<li><p><a href="https://www.tensorflow.org/api_docs/python/tf/global_variables_initializer" target="_blank" rel="noopener">tf.global_variables_initializer</a>返回初始化全局变量</p>
<p><em>有变量就必须定义初始化！！！</em></p>
</li>
</ul>
<h1 id="8-循环训练"><a href="#8-循环训练" class="headerlink" title="8.循环训练"></a>8.循环训练</h1><p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for i in range(1000):</span><br><span class="line">    # 训练并传参</span><br><span class="line">    sess.run(train_step,feed_dict=&#123;xs:x_data,ys:y_data&#125;)</span><br><span class="line">    if i % 50 == 0:      # 每隔50个</span><br><span class="line">        print(sess.run(loss,feed_dict=&#123;xs:x_data,ys:y_data&#125;))</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>feed_dict={xs:x_data,ys:y_data}</code></p>
<p>在每次sess.run()时以feed_dict的形式传入参数（dict）</p>
</li>
</ul>
<h1 id="9-可视化"><a href="#9-可视化" class="headerlink" title="9.可视化"></a>9.可视化</h1><p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(1,1,1)</span><br><span class="line">ax.scatter(x_data,y_data)</span><br><span class="line">plt.ion()           # 使图像编辑连续进行</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for i in range(1000):</span><br><span class="line">    # 训练并传参</span><br><span class="line">    sess.run(train_step, feed_dict=&#123;xs: x_data, ys: y_data&#125;)</span><br><span class="line">    if i % 50 == 0:  # 每隔50个</span><br><span class="line">        try:</span><br><span class="line">            # 每次循环抹除上次的线,第一次时没有就pass</span><br><span class="line">            ax.lines.remove(lines[0])</span><br><span class="line">        except Exception:  # 所有异常都是基类 Exception的成员</span><br><span class="line">            pass</span><br><span class="line"></span><br><span class="line">        prediction_value = sess.run(prediction, feed_dict=&#123;xs: x_data, ys: y_data&#125;)</span><br><span class="line">        # 用了线段表示预测值prediction_value，红色，线宽5</span><br><span class="line">        lines = ax.plot(x_data, prediction_value, &apos;r-&apos;, lw=5)</span><br><span class="line">        # 暂停0.1秒</span><br><span class="line">        plt.pause(0.1)</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%8B%9F%E5%90%88.gif" alt="img"></p>
]]></content>
      
        <categories>
            
            <category> 编程 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> python </tag>
            
            <tag> tensorflow </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[去英国，应该买什么茶？]]></title>
      <url>/2018/01/04/%E5%8E%BB%E8%8B%B1%E5%9B%BD%EF%BC%8C%E5%BA%94%E8%AF%A5%E4%B9%B0%E4%BB%80%E4%B9%88%E8%8C%B6%EF%BC%9F/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前阵子接到妈妈的电话，大意是要我在去英国旅行的时候给她带些英国的茶叶回来。我妈算是半个茶迷，这个要求本无可厚非，但偏偏又没告诉我具体的品牌和品种。在我的印象中，英式茶，是个打包的概念，与“颜值”二字是不可区分的：精巧的骨瓷茶具+花式的茶点+不知道哪的茶叶。前两点才是颜值核心，而第三点我还真没了解过。于是作为儿子，我还是查阅了一番，没想到英国茶还真是挺有意思的一个概念。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180105124342_%E7%9C%8B%E5%9B%BE%E7%8E%8B%281%29.jpg" alt="img"></p>
<a id="more"></a>
<hr>
<h1 id="英国茶的历史"><a href="#英国茶的历史" class="headerlink" title="英国茶的历史"></a>英国茶的历史</h1><p><strong>英国人的喝茶史，就是一部殖民史</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180105124913.jpg" alt="img"></p>
<p><strong>早上来一杯印度阿萨姆奶茶，中午来一杯斯里兰卡锡兰红茶，晚上再续点大吉岭红</strong></p>
<p><strong>分分钟让你喝出优越感，有木有！！！</strong></p>
<p><img src="http://mmbiz.qpic.cn/mmbiz/ibLgUdQXiaIVQVxs7GWOq55bZPiaicp5JwBZvKUTE1f0RBcuqQ3mIlYhEKUmbqSld3W1Wsc760giawnbzC0niaStPuJg/0?wx_fmt=gif&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="img"></p>
<h1 id="中国人和英国人喝茶的区别"><a href="#中国人和英国人喝茶的区别" class="headerlink" title="中国人和英国人喝茶的区别"></a>中国人和英国人喝茶的区别</h1><h2 id="中国式茶文化"><a href="#中国式茶文化" class="headerlink" title="中国式茶文化"></a>中国式茶文化</h2><p>在中国，人们习惯将茶叶按照制作方法（尤其是发酵程度）分为六大茶系：绿茶、白茶、黄茶、青茶（乌龙茶）、红茶和黑茶。<strong>绿茶在中国是饮用最多的茶，少数喝其他五大茶系。</strong>自明朝以来，产地和品种逐渐成为区分茶优劣的最重要因素，它们各自赋予茶独一无二的个性和风味。和葡萄酒、咖啡一样，喝茶，也讲究单一产地和特定品种。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180105130414.jpg" alt="img"></p>
<p><strong>说白了，中国人喝茶喝的是一种一品三十年的工匠式的情怀，以这种纯粹的情怀为基底，赋予茶艺不同的意味。</strong></p>
<h2 id="英国式茶文化"><a href="#英国式茶文化" class="headerlink" title="英国式茶文化"></a>英国式茶文化</h2><p><strong>而英国人喝茶，则不同，喝的其实是拼配和调味。以这种开放式的混合和接纳，体现出的是一种霸气和自在的优雅。</strong>（毕竟人家曾经是日不落帝国，我又能说什么呢。。。）</p>
<p>那什么是拼配和调味呢？</p>
<h1 id="英国茶品类"><a href="#英国茶品类" class="headerlink" title="英国茶品类"></a>英国茶品类</h1><h2 id="拼配茶（Blended-Tea）"><a href="#拼配茶（Blended-Tea）" class="headerlink" title="拼配茶（Blended Tea）"></a>拼配茶（Blended Tea）</h2><p>拿英国人消费的大头——红茶来说，和中国人喝单品茶不同，<strong>英国人主要用拼配和调味的方式来处理茶，这是英式茶最重要的特点。</strong></p>
<p>英国（以及欧美）有一种非常高大上的职业，叫做<strong>茶叶拼配师</strong>（职业感觉嘛大概就是新疆的西红柿配上非洲的土鸡蛋，做出来的番茄炒蛋更好吃的感觉吧。。。）拼配师专司茶叶拼配和调味。进行茶叶拼配需要对茶汤的色泽、香气、口感皆达到优秀并彼此协调，茶叶大小尺寸也要相似</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180105132128.jpg" alt="img"></p>
<p>拼配师将几种不同的茶叶按一定比例混合成<strong>拼配茶（Blended Tea）</strong>，目的是<strong>为了保持茶叶风味与品质稳定</strong>。拼配茶的原料，是来自不同茶园、不同产地和不同国家的茶，甚至连茶种都可以不同，不过通常都是红茶。</p>
<h3 id="早餐茶"><a href="#早餐茶" class="headerlink" title="早餐茶"></a>早餐茶</h3><p><strong>英国早餐茶（English Breakfast）</strong>可以说是历史最悠久也最常见的拼配茶。英国的大小茶商都有自己的独门配方，不过一般都会采用印度阿萨姆、斯里兰卡和肯尼亚产的茶叶混合而成，堪称英国国茶。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180105140351.jpg" alt="img"></p>
<h3 id="伯爵茶"><a href="#伯爵茶" class="headerlink" title="伯爵茶"></a>伯爵茶</h3><p>毫无疑问，<strong>英国茶的头牌——伯爵茶（Earl Grey）</strong>。伯爵茶的地位很特殊，它既属于拼配茶，也属于调味茶。伯爵茶的基础配方中，会加入佛手柑或者佛手柑精油。同时它的茶基里各有一份锡兰红茶（Cylon）、阿萨姆红茶（Assam）和大吉岭红茶（Darjeeling），浓浓的殖民地风格！</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180105134632.jpg" alt="img"></p>
<h2 id="调味茶（Flavoured-Tea）"><a href="#调味茶（Flavoured-Tea）" class="headerlink" title="调味茶（Flavoured Tea）"></a>调味茶（Flavoured Tea）</h2><p>而<strong>调味茶（Flavoured Tea）</strong>，则是在某种茶叶或拼配茶中，加入香料、香草、花瓣、香辛料、水果，或用熏香等方式，<strong>为茶叶增添茶叶所不具备的香味。</strong></p>
<h2 id="单一品种茶"><a href="#单一品种茶" class="headerlink" title="单一品种茶"></a>单一品种茶</h2><p>所谓单一品种茶，大体上就是单一品种的阿萨姆、大吉岭或锡兰红茶。虽然这三个产地的茶大多被用来制作切碎拼配茶，但现在也涌现出了不少高质量的单一园或单一品牌茶。</p>
<p>锡兰红茶有明亮的色泽和柔美的香气，阿萨姆则有麦芽香甜和浓郁口感，大吉岭带来优雅度和顺滑感。中国的祁门红茶除非我脑残了才会去英国买。</p>
<h2 id="花草茶"><a href="#花草茶" class="headerlink" title="花草茶"></a>花草茶</h2><p>英式花草茶，在古代常常担当了一部分草药的角色——就像中国人喝中药，常常是从功能性角度出发。薰衣草（Lavender）、洋甘菊（Chamomile）都是典型的花草茶，可独立成单品，也可以按需拼配，譬如薰衣草甘菊茶，就是使用两种宁神的花茶拼配在一起，制成香气馥郁的安神茶，晚上来一杯睡得不要太香！</p>
<h1 id="英国茶品牌"><a href="#英国茶品牌" class="headerlink" title="英国茶品牌"></a>英国茶品牌</h1><p>了解到这里，我不再认为查询某单一品种的茶叶是个好方向，毕竟中国式的品尝体验换个地方移植，差距不会太大。<strong>我应该将方向改换为：寻找合适的拼配茶品牌购买，给她一种不同的坐拥世界的喝茶体验（笑抽。。。）</strong></p>
<p>个人习惯，查了下英国茶市场现状：</p>
<p>英国茶的消费市场由五大公司把持：</p>
<blockquote>
<ol>
<li>Teltey, 占27% （这个母公司是TATA的全球饮料公司，最终控股是印度的TATA集团）。</li>
<li>PG-TIPS, 占24% （这个母公司是联合利华）</li>
<li>Premier Foods， 占13% （这个是私企，在伦敦上市，后来被印度的 Apeejay Surrendra 集团收购）</li>
<li>Associated British food， 占11%（这家就是川宁Twinings的母公司）</li>
<li>Bettys &amp; Taylors ， 占6% （60年代创立的家族企业，主要经营茶社和三个牌子的茶）</li>
<li>其它牌子的占有率都在1%以下。</li>
</ol>
</blockquote>
<p>恩。。。都是“可敬的东印度公司”的遗产啊。。。</p>
<p>下面是对比拼配茶品牌后，选择的目标产品：</p>
<h2 id="完美标准：Harney-amp-Sons"><a href="#完美标准：Harney-amp-Sons" class="headerlink" title="完美标准：Harney &amp; Sons"></a>完美标准：Harney &amp; Sons</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/762b20866fe32f2eddb6dba87c277bc6_b.jpg" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/159bf2ee8aeaf409dbdd9852f10e1f07_b.jpg" alt="img"></p>
<p>Harney &amp; Sons来自美国，是英国三大皇室专用茶之一，其中唯一一款非本土茶（打脸）。</p>
<p><strong>平衡是它的最大特点，在评测最终结果中，最接近我们的完美标准。</strong>香气稳定而悠长，茶味平衡而持久，无论是刚泡出来还是五分钟之后，<strong>感受到的都是一款堪称教科书典范的伯爵茶。</strong></p>
<h2 id="最好喝但贵：Mariage-Freres-—-Earl-Grey-Imperial"><a href="#最好喝但贵：Mariage-Freres-—-Earl-Grey-Imperial" class="headerlink" title="最好喝但贵：Mariage Frères — Earl Grey Imperial"></a>最好喝但贵：Mariage Frères — Earl Grey Imperial</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/ad917d607f348ae90aa9f2be82042abe_b.jpg" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/5bd9239fbf7e8fd1a9539520da51981a_b.jpg" alt="img"></p>
<p><strong>Mariege Freres是后台呼声最高的茶包品牌之一</strong>，是法国老牌茶商，价格不菲，说“茶中爱马仕”不算过分。</p>
<p>这是一款<strong>帝国伯爵茶</strong>。相比起传统伯爵茶，它的特点是加入更多香柑调味。</p>
<p>仿古的扎口棉布袋质感不错，扯开棉线能看茶叶，大部分完整度尚可。<strong>精油味道非常、非常、非常强烈，有人说“就像灌精油一样”</strong>，喜欢的人又<strong>欣赏它的热烈奔放</strong>，说想到了地中海的阳光，bling bling的感觉~</p>
<p>以柔和的大吉岭红茶作底，承托力不错，没有被精油完全压住；同时为了凸显精油，调配也没有刻意加重茶底的力度。在这次测评里名列最受欢迎第二名，算是一款<strong>以精油香气取胜的茶。</strong></p>
<h2 id="性价比：Ronnefeldt"><a href="#性价比：Ronnefeldt" class="headerlink" title="性价比：Ronnefeldt"></a>性价比：Ronnefeldt</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/cf2e0c711d6a394f1b8af7b06f1d8818_b.jpg" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/02df9f8c974d3b8589bf5cbf1fd5529a_b.jpg" alt="img"></p>
<p>德国品牌Ronnefeldt是评测中第三受欢迎的茶，以及，它在最受欢迎茶包中最便宜，就算与所有测评茶包比较，价格也属较低——<strong>平均1.88元每包，经济伐，实惠伐？</strong></p>
<p>纸袋独立包装，内里是扁形棉纸袋。香柑香味很优雅，夹杂着醇和的<strong>陈皮香</strong>，汤色橙红鲜亮，入口顺滑，茶甜且清浅，交织清新果香，<strong>滋味较平和。</strong></p>
<p>Ronnefeldt还被迪拜七星级帆船酒店选用，但是价格非常良心。</p>
<h2 id="新奇口味：David’s-Tea（香草味）"><a href="#新奇口味：David’s-Tea（香草味）" class="headerlink" title="新奇口味：David’s Tea（香草味）"></a>新奇口味：David’s Tea（香草味）</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/fe46139b67ea048da0cd62e731ac9a36_b.jpg" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/a246037dbdd66d9659f7792ce91cdb75_b.jpg" alt="img"></p>
<p>DAVID’s TEA是加拿大品牌，以各种天马行空的口味著称，<strong>与Mariage Freres并列最受欢迎第二名。</strong></p>
<p>红茶来自高地，添入了完整的黄色万寿菊和蓝色矢车菊花瓣，干茶颜值很高，风格有点接近于伯爵仕女茶Lady Grey。<strong>特别之处在于加入了香草调味，使得香气非常甜美，感觉像是在喝奶油蛋糕。</strong></p>
<p>茶体很厚，甜感明显，加点糖的话，香草风味会更加凸显。不过，也有同事吐槽香气人造感略重。</p>
<h2 id="包装好看：Whittard-of-Chelsea"><a href="#包装好看：Whittard-of-Chelsea" class="headerlink" title="包装好看：Whittard of Chelsea"></a>包装好看：Whittard of Chelsea</h2><p>这个是单一产地的茶品牌，也是英国一家百年老店，送礼的应该最喜欢这个，它不像别的牌子那么爱拼配，茶罐做得很好看，很有心思（就因为罐子，我把它放进来了，虽然我的箱子肯定装不下）。单一产地的茶都不错。但是这个牌子连年亏损，后来有家股权私募基金把它买了，不知道能不能做下去。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/edcbb4bdd6033c79e03268926da4b410_hd.jpg" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/0cbc61094f18b029e0976755870d7291_hd.jpg" alt="img"></p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a href="https://zhuanlan.zhihu.com/qiechihe" target="_blank" rel="noopener">企鹅吃喝指南</a></li>
<li><a href="https://www.zhihu.com/question/26483379/answer/32983491" target="_blank" rel="noopener">英国有哪些好喝的红茶品牌？</a></li>
<li><a href="https://www.zhihu.com/question/28162540/answer/39728484" target="_blank" rel="noopener">英式红茶和国内的正山小种、等有何不同？<em>英国</em>更偏爱做调配<em>茶</em>吗？伯爵<em>茶</em>怎样调配？</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 旅行 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 英国 </tag>
            
            <tag> 茶叶 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[利用3D打印破解face ID人脸识别]]></title>
      <url>/2018/01/03/%E5%88%A9%E7%94%A83D%E6%89%93%E5%8D%B0%E7%A0%B4%E8%A7%A3face-ID%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>新一年的第二天，我的手机微博突然要求重新登录（现在看来一股浓浓的套路的味道。。。）由于大学时的手机号早已弃用，我不得不更换微博注册手机号来验证。这时候突然跳出需要我的芝麻信用来担保，跳转支付宝APP后最终通过摄像头添加我的人脸数据来完成整个的验证过程（技术提供商是著名的旷视科技）。</p>
<p>继手机，邮箱，身份证和指纹后，我又向大佬们上缴了我的人脸ID，目的只是单纯的为了证明我是我自己（现在就只剩下虹膜ID和底裤的颜色他们不知道了吧）。</p>
<p>带着浓浓的不爽情绪，在这里我尝试利用3D打印破解下人脸识别中的“高富帅”——号称识别安全度超越普通人脸识别20倍以上的苹果face ID。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-1a8f57bb75fd4346f7967c2ad5856494_r.jpg" alt="img"></p>
<a id="more"></a>
<hr>
<h1 id="先来看看face-ID的技术文档"><a href="#先来看看face-ID的技术文档" class="headerlink" title="先来看看face ID的技术文档"></a>先来看看face ID的技术文档</h1><p>在Apple Inc.的<strong>US 20170132456</strong> <strong>Enhanced face detection using depth information</strong> 有提到他们使用的Face detection.</p>
<blockquote>
<p>A method for face detection, comprising:</p>
<p>capturing a depth map, comprising an array of three-dimensional coordinates, and a two-dimensional image of a scene;</p>
<p>selecting one or more locations in the image to test for presence of human faces;</p>
<p>at each selected location, defining a respective face detection window having a size that is scaled according to an expected face size, in pixels of the image, at a depth of the selected location that is indicated by the depth map; and</p>
<p>processing a part of the image that is contained within each face detection window to determine whether the face detection window contains a human face.</p>
</blockquote>
<p>再结合iPhone X的“刘海儿”结构图：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-1cd662141ddc3fe72106b9971727c161_hd.jpg" alt="img"></p>
<p>这货不就是微缩版的Kinect嘛！</p>
<p>iPhone X的Face ID采用了类似Kinect的结构光方案：数据采集由该机正面上方的景深感知摄像机（即“刘海儿”，TrueDepth Camera System）完成，其红外线发射器可以发射3万个侦测点，利用神经引擎（Neural Engine）将反射回来的数据与储存在A11芯片隔区内的数据进行对比，实现用户面部的3D读取与处理。（这里从侧面说明了A11芯片的强大处理性能，Kinect一般都需要至少2G的独立显卡加持才能正常运行）</p>
<p><strong>说白了，Face ID的人脸识别会通过摄像头得到人脸的<code>2D彩色图像</code>，同时还会利用红外线发射器收集到人脸的<code>3D模型数据</code>，正是这一点的差距造就了Face ID的领先优势（通过图片和视频的破解方式都无法凑效）</strong></p>
<h1 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h1><p>既然Face ID是采用结构光得到的3D数据来识别人脸，那我们就用同样采用结构光技术的Kinect<code>三维扫描仪</code>预先扫描出对象的3D人脸数据，再通过三维建模软件将人脸数据建模成面具三维模型，同时导出<code>色彩贴图</code>并2D打印，最后用3D打印技术将人脸<code>面具模型</code>打印出来，将色彩贴图贴上去，用制作出的3D人脸“骗过”Face ID。</p>
<p>过程如下：</p>
<p><strong><code>三维扫描</code>–&gt;<code>三维建模</code>–&gt;<code>3D打印</code>–&gt;<code>贴图</code></strong></p>
<h1 id="三维扫描"><a href="#三维扫描" class="headerlink" title="三维扫描"></a>三维扫描</h1><p>在这里先介绍下Kinect：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-6a8c3e794124fd7728ab2b9f51340913_r.jpg" alt="img"></p>
<p>新技术的立项，很多时候是着眼于未来，但最初的出发点往往并没有我们想象中那么复杂。 2009 年微软选择推出 Kinect 的初衷其实很简单：通过 Kinect 体感操控设备提升 Xbox 的市场竞争力。</p>
<p>虽然现在Kinect已经停产，但是其t留下的技术财富是巨大的：</p>
<ul>
<li>微软的 HoloLens AR 眼镜</li>
<li>Windows Hello 面部识别系统</li>
<li>leap motion 手势识别设备</li>
<li>50%的民用级手持式三维扫描仪的底层技术都来自于Kinect</li>
<li>Face ID（在这里黑下苹果）</li>
</ul>
<p>2013 年苹果公司以大约 3.6 亿美元的价格，收购了 PrimeSense 公司。而PrimeSense 正是此前为 Kinect 提供技术支持的主力公司。（又是苹果和微软的恩怨情仇。。。）</p>
<p><strong>来看下我们这次要用到的三维扫描设备：</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E9%94%90%E5%93%81%E4%B8%89%E7%BB%B4%E6%89%AB%E6%8F%8F%E4%BB%AA-REPIN-ONE-S_800x800_%E7%9C%8B%E5%9B%BE%E7%8E%8B.jpg" alt="img"></p>
<p>扫描对象：好友甲，开发大牛，粉丝无数。。。</p>
<p>连接笔记本（配置要求2G以上的独立显卡），对准头部旋转一周扫描，扫描过程大概10秒（如果只扫描脸部大约只需1-2秒）</p>
<p>输出为<code>.asc</code>（点云）格式，其中包含上百万组点数据，每个点数据包含其空间坐标信息与色彩信息。</p>
<h1 id="三维建模"><a href="#三维建模" class="headerlink" title="三维建模"></a>三维建模</h1><p>将得到的<code>.asc</code>点云数据导入Geomagic 建模软件，对点云数据进行<code>封装</code>、<code>去除噪音</code>、<code>填充</code>等修复处理（这里为三维扫描常规后处理，处理过程因情况而异，不难，就是耗时，我就不详述了，懒），处理后结果为：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20180103193343.png" alt="img"></p>
<p>在<code>显示</code>中取消<code>顶点颜色</code>显示，将选择模式调整为<code>选择贯通</code>，在侧视图中选中整张脸：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180103194210.png" alt="img"></p>
<p>右击<code>反转选区</code>，按<code>Delete</code>删除非脸部部分，得到一张人脸面片：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180103194629.png" alt="img"></p>
<p>在<code>显示</code>中打开<code>顶点颜色</code>显示，点击<code>工具</code>–&gt;<code>纹理贴图</code>–&gt;<code>生成纹理贴图</code>，点击<code>应用</code>。</p>
<p><code>纹理贴图</code>–&gt;<code>管理纹理贴图</code>将贴图<code>保存</code>出来，并打印，用作最后的模型贴图。</p>
<p><strong>如果你打算采用3DP彩色3D打印技术，这一步就不需要了，直接打印彩色三维模型即可</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180103205052.png" alt="img"></p>
<p>下面我们只需要将人脸面片拉出一个厚度即可完成人脸面具。</p>
<p>在<code>多边形</code>工具栏中选择<code>抽壳</code>工具，抽壳壁厚设置3mm（这里注意抽壳的箭头方向，如果反了就是 -3mm），点击<code>应用</code>.</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180103195523.png" alt="img"></p>
<p>将模型另存为<code>.stl</code>格式文件准备3D打印。</p>
<h1 id="3D打印"><a href="#3D打印" class="headerlink" title="3D打印"></a>3D打印</h1><p>3D打印可以采用多种技术方式：<code>3DP</code>（石膏粉末打印）、<code>SLA</code>（光明树脂打印）、<code>FDM</code>（塑料材料打印）均可。</p>
<p><code>3DP</code>技术最方便，直接打印彩色三维模型，但是成本较高，这个模型打印要上千元。</p>
<p><code>SLA</code>白色（推荐），模型表面精度好，成本大概200-300元。</p>
<p><code>FDM</code>同样建议白色材料打印，其成本最低，十几块钱即可搞定，但是模型表面粗糙，后面贴图较麻烦，而且打印需要添加支撑，去除较麻烦。</p>
<h1 id="贴图"><a href="#贴图" class="headerlink" title="贴图"></a>贴图</h1><p>这里要先介绍下图片人脸识别的原理：</p>
<p>一般来说图片人脸识别的算法都是基于特征点识别来完成的，如下图：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/3f5d60c1ab724fecbdc9e47537f9bdff_th_%E7%9C%8B%E5%9B%BE%E7%8E%8B.web.jpg" alt="img"></p>
<p>那么贴图就不需要将整张脸贴出来了，只需要将包含特征点的部分贴出即可。</p>
<p>贴图步骤如下：</p>
<ul>
<li>将导出来的贴图文件打印出来</li>
<li>将眼眶、鼻子和嘴唇部分剪下</li>
<li>用喷壶将纸片背后喷湿，待纸张软化</li>
<li>将软化后的贴纸，用胶水贴在打印出来的模型上（这里注意要保持特征点严格的对齐）</li>
</ul>
<p>最终效果大致如下：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/mianju.gif" alt="img"></p>
<h1 id="最重要的验证"><a href="#最重要的验证" class="headerlink" title="最重要的验证"></a>最重要的验证</h1><p><strong>ok，至此所有的准备工作的都已完成，就差一个iPhone X来进行最后的验证了！！！</strong></p>
<p><strong>口干舌燥地说了这么大半天，有兴趣的老爷可以扫描文章最后的支付宝链接，赞助小弟一台iPhone X呗！！！</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%8A%B1%E5%A4%A7%E8%85%BF.jpg" alt="img"></p>
<p>其实，一家叫做Bkav的安全公司已经通过类似的方式攻破了苹果的Face ID，并且发布了验证视频：</p>
<p>视频链接：<a href="http://www.bilibili.com/video/av16375904/" target="_blank" rel="noopener">http://www.bilibili.com/video/av16375904/</a></p>
<p><img src="http://pic1.zhimg.com/v2-ee342c741fc4ba3ab3afc8751b6fb910_r.gif" alt="img"></p>
<p>讲到这，你还觉得人脸识别安全吗？</p>
]]></content>
      
        <categories>
            
            <category> 3D打印 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 3D打印 </tag>
            
            <tag> face ID </tag>
            
            <tag> 人脸识别 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[纷彩绽放的2017年]]></title>
      <url>/2018/01/01/%E7%BA%B7%E5%BD%A9%E7%BB%BD%E6%94%BE%E7%9A%842017%E5%B9%B4/</url>
      <content type="html"><![CDATA[<p>2017年在和朋友一起滑雪后的聚餐happy中画上了句号。。。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180101231121.jpg" alt="img"></p>
<a id="more"></a>
<hr>
<p>回顾2017年：</p>
<p>读了17 本书：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%88%91%E7%9A%84%E7%9B%B8%E5%86%8C%20Books.png" alt="img"></p>
<p>去电影院看了39场电影，还做成了集邮册：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180101231127.jpg" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180101231135.jpg" alt="img"></p>
<p>电视剧、纪录片7部：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%88%91%E7%9A%84%E7%9B%B8%E5%86%8C%20%E7%94%B5%E8%A7%86%E5%89%A7%E3%80%81%E7%BA%AA%E5%BD%95%E7%89%87.png" alt="img"></p>
<p>新get的技能：</p>
<ul>
<li>python（基础语言、网络爬虫、数据分析、人脸识别）</li>
<li>mimics新版手术导板建立</li>
<li>VPN翻墙</li>
<li>攀岩</li>
<li>做点简单的家常菜（手残。。。）</li>
</ul>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180101235210.jpg" alt="img"></p>
<p>建立了自己的个人博客网站：<a href="hahajoker.github.io">hahajoker.github.io</a></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180101233304.png" alt="img"></p>
<p>懂得的道理：</p>
<ul>
<li><strong>人际交往中的期望值管理能力</strong></li>
</ul>
<p>公式：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/df2fde24bbdddfb2f8e7e88628175719_r.jpg" alt="img"></p>
<p>这是在看《芳华》中的刘峰深刻感受到的，他做了一辈子的活雷锋，后来谈个恋爱都就旁人看成强烈的背叛打入地狱。</p>
<p>影视剧中往往有这样的观感：一个地痞或者土匪，平日无恶不作。到了最后一集，哎，这货突然抗日了，这时候观众对其好感度会突然爆棚，甚至超过许多没有爆点的正面角色，前几十集的劣迹简直一笔勾销。这就是期望值在前期被编剧压低之后的福利。</p>
<p>这就需要我们对别人对我们的期望值进行有效管理。需要做到真正无迹可寻，并在所有非必要的时刻压抑自己的表现欲与虚荣心。</p>
<ul>
<li><strong>阈值自控意识</strong></li>
</ul>
<p>阈值又叫临界值，指释放一个行为反应所需要的最小刺激强度。</p>
<p>举个极端的例子，释迦牟尼本是个迦毗罗卫国的王子，很早就过着锦衣玉食的生活。美酒美女对他的边际效用已经小到忽略，食欲肉欲的一切无法使他获得更高的满足，只有离开世俗创造佛教去了。他一出生就享受物质的极大满足，导致他的阈值高到普通人难以想象的程度，最后凡是物质都无法使他快活。</p>
<p>当你深刻理解了阈值对个人幸福与快乐的影响后，你就知道这个概念不仅用在性和爱情上，更可以推广到人生幸福的方方面面。了解边际效用递减的规律，并学会一定程度的禁欲和自控，是防止阈值升高的不二法门，这绝对是需要在人生早期就要着力培养和锻炼的素质与意识，尤其对于男性。</p>
<ul>
<li><strong>应对时空扭曲的应对能力</strong></li>
</ul>
<p>这一点指的是主观的时间流逝感觉随着年龄开始加速，而且一发不可收拾。相信大部分人都有这样的感觉，时间过得越来越快快了。小学时是一个月一个月过，大学一学期一学期过，工作后就变成了一年一年过，越往上过的越快。</p>
<p>抗衡这种时空扭曲的方法：</p>
<p>我们在成年后的工作和生活都是在简单重复，所以大脑中的“总数据”并没有像儿时那样处在迅猛增长的阶段，大脑处理今天的24小时，只需要动用几年前就已经存好的索引，驾轻就熟，总信息量几乎没有增加，你主观上感受到的“新东西”当然就少，而体验“新东西”恰恰是放慢主观时间的命门。</p>
<p>要解决时空扭曲的问题，我们必须走出“熟悉区”，熟悉区是时空黑洞，会不断加速消耗，吞噬你的时间。你如果在自己身上多试验，会发现能找到很多适用于你个人的手段，但前提是你要有“摆脱熟悉区”的意识。</p>
<p>这是我认为人的一生所需要掌握的最重要能力之一，掌握了对抗时空扭曲的本领，你就能延长主观生命。</p>
<ul>
<li><strong>看见铁道就得看见火车</strong></li>
</ul>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180102002819.jpg" alt="img"></p>
<p>上面这张照片来自美国西部最后的印第安人勇士，以及他最后的话：“战胜我们的不是殖民者和他们的枪，我们的战士可以以一敌十，但是却挡不住随着眼前这条铁路源源不断运来的掠夺者和左轮手枪。。。”</p>
<p>有些人能看见铁道却看不见即将到来的火车，有些人连正在眼下建设的铁道都看不见。。。</p>
<p>我一直认为促使人类快速进步的不是幸福与自由，而是深埋于骨子里的恐惧。你必须时刻注意生活中的变化与多处衍发的信息，并努力思考背后所代表的意义，让自己拥有2-5年的洞察视觉，恐惧并且乐观地决定你的行动。</p>
<p>关于遗憾在2017：</p>
<p>我没有完成学会滑单板（滑雪）的计划</p>
<p>没有好好地完成学会10道家常菜的计划</p>
<p>英语单词每天50+的计划就坚持了3个月</p>
<p>2016年丢掉的八块腹肌还是没有回来</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180102135701.jpg" alt="img"></p>
<p>2017 是精彩纷呈的一年，2016年曾经的几个想法也都差不多实现，但也有很多不足的地方。2018 年先从早睡早起开始保护革命的本钱，提高对时间的利用率，确定好目标，撸起袖子加油干！愿我们每一个人在 2018 年都能成为一个有趣的人。Life is short, should be fun!</p>
<p><strong>再见2017，你好2018！</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180101225615.jpg" alt="img"></p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 年鉴 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[3-matic肝脏轻量化建模]]></title>
      <url>/2017/12/28/3-matic%E8%82%9D%E8%84%8F%E8%BD%BB%E9%87%8F%E5%8C%96%E5%BB%BA%E6%A8%A1/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>就目前来说肝脏模型的3D打印还十分的昂贵，究其原因，为了让医生能够看清肝脏内部的血管结构，我们不得不采用昂贵的光敏树脂透明材料来打印肝实质，并且打印机的选择只有 J250、J750等寥寥数种高端机型。</p>
<p>肝脏轻量化建模可以将模型转化为一个轻量化的框架结构，减少打印成本，材料选择多样化，并且保留了肝脏的外轮廓，在一定程度上给了医生一个有效参考。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228214825.png" alt="img"></p>
<a id="more"></a>
<hr>
<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><p>本篇需要利用3-matic的<code>Lightweights</code>轻量化模块，这个模块是3-matic工业版（<code>3-matic STL</code>）特有的功能，一般mimics附带的<code>3-matic Research</code>是不具备的，没有安装的同学请移步官网申请体验版安装，或者在评论区问我要下载链接。</p>
<h1 id="平滑处理"><a href="#平滑处理" class="headerlink" title="平滑处理"></a>平滑处理</h1><p>为了得到平滑的线框模型，我们需要提前对原模型进行平滑处理</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228230050.png" alt="img"></p>
<p>使用<code>warp</code>对肝脏进行平滑处理，<code>detail</code>设置为 3，表示3以下的特征都平滑掉，点<code>Apply</code>确定</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228230736.png" alt="img"></p>
<p>新生成的模型命名为<code>肝脏_wrapped</code>，接着可以使用<code>smooth</code>进行再平滑，处理结果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228231309.png" alt="img"></p>
<h1 id="生成线框"><a href="#生成线框" class="headerlink" title="生成线框"></a>生成线框</h1><p>先选择刚才平滑后得到的肝脏模型，点击工具栏中<code>Lightweights</code>–&gt;<code>Create Grid Graph</code>工具。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228231944.png" alt="img"></p>
<p>在工具设置中：</p>
<ul>
<li><code>Create grid</code>有两个选项，分别是在模型外表面生成线框和在内外两个面都生成线框，这里我们选择<code>surface</code>即可</li>
<li><code>Edge length</code>的意思是线框的间隔距离，肝脏的话15-20即可</li>
</ul>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228232723.png" alt="img"></p>
<p>效果如下，点<code>Apply</code>确定</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228232818.png" alt="img"></p>
<h1 id="线框实体化"><a href="#线框实体化" class="headerlink" title="线框实体化"></a>线框实体化</h1><p>在模型树中，<code>肝脏_wrapped</code>–&gt;<code>Graph List</code>下，选中所有上一步刚刚生成的<code>Graph</code></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228235051.png" alt="img"></p>
<p>点击工具栏中<code>Lightweights</code>–&gt;<code>Graph to STL</code>工具。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228235313.png" alt="img"></p>
<p>设置：</p>
<ul>
<li><strong>paramater</strong> ： Assign new parameters（分配新参数）</li>
<li><strong>Thickness</strong>    :  线框直径，设置为2 即可</li>
</ul>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228235951.png" alt="img"></p>
<p>点<code>Apply</code>确定，计算过程较长，大概1mins左右。</p>
<p>计算结果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171229000910.png" alt="img"></p>
<p>这时候，可以看到肝脏框架已经形成，但是在模型树中新生成的框架和肝脏还是一体的，下一步我们就将他们区分开来。</p>
<p>在模型树中，<code>肝脏_wrapped</code>–&gt;<code>Surface List</code>下有两个<code>Surface</code>，一个是肝脏另一个是框架，选择框架所对应的<code>Surface</code>右击鼠标<code>Separate</code>–&gt;<code>Move to Part</code>–&gt;<code>Create New</code></p>
<p>框架<code>Surface</code>会生成新的模型，然后将<code>肝脏_wrapped</code>使用右键菜单<code>Hide</code>隐藏掉</p>
<p>最后结果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/ganzangkuangjia.gif" alt="img"></p>
<p>注：框架的显示颜色需要在模型树中其<code>Surface List</code>下的<code>Surface</code>中修改。</p>
]]></content>
      
        <categories>
            
            <category> 3D打印 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 3-matic </tag>
            
            <tag> 轻量化 </tag>
            
            <tag> 3D打印 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[有哪些好听的入门口琴曲（持续更新）]]></title>
      <url>/2017/12/27/%E6%9C%89%E5%93%AA%E4%BA%9B%E5%A5%BD%E5%90%AC%E7%9A%84%E5%85%A5%E9%97%A8%E5%8F%A3%E7%90%B4%E6%9B%B2/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>什么是好乐器？能够在维也纳金色大厅引领全场的钢琴？还是科隆大教堂震撼人心的管风琴？在我看来，能够在出差酒店，出行路上，陪你度过寂寥夜晚的乐器才是好乐器。而口琴就是不错的选择。</p>
<p>复音口琴零零散散已经吹了两年有余了，在这里总结下好听的入门口琴曲，方便自己随时查看。本篇我会持续更新。。。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/6b52ca6c90e691e734fe2460bea1aaf4410ed2c9df9a-lyKoH0_fw658.jpg" alt="img"></p>
<a id="more"></a>
<hr>
<h1 id="《爱尔兰画眉》"><a href="#《爱尔兰画眉》" class="headerlink" title="《爱尔兰画眉》"></a>《爱尔兰画眉》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/timg%20%281%29.jpg" alt="img"></p>
<h1 id="《红河谷》"><a href="#《红河谷》" class="headerlink" title="《红河谷》"></a>《红河谷》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/honghegu.jpg" alt="img"></p>
<h1 id="《山楂树》"><a href="#《山楂树》" class="headerlink" title="《山楂树》"></a>《山楂树》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/shanzhashu.gif" alt="img"></p>
<h1 id="《虫儿飞》"><a href="#《虫儿飞》" class="headerlink" title="《虫儿飞》"></a>《虫儿飞》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-755d4d30d313a84c1f030beaff345612_r.jpg" alt="img"></p>
<h1 id="《友谊地久天长》"><a href="#《友谊地久天长》" class="headerlink" title="《友谊地久天长》"></a>《友谊地久天长》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-563ec888da1bbf3d96713c824789a7cb_r.jpg" alt="img"></p>
<h1 id="《千与千寻》"><a href="#《千与千寻》" class="headerlink" title="《千与千寻》"></a>《千与千寻》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-bb72d39e3f86a8c5a0cac57a56eb7a34_r.jpg" alt="img"></p>
<h1 id="《送别》"><a href="#《送别》" class="headerlink" title="《送别》"></a>《送别》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-a7a3059810a972ed46771aa0fe095a8a_r.jpg" alt="img"></p>
<h1 id="《绿袖子》"><a href="#《绿袖子》" class="headerlink" title="《绿袖子》"></a>《绿袖子》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E7%BB%BF%E8%A2%96%E5%AD%90.jpg" alt="img"></p>
<h1 id="《天空之城》"><a href="#《天空之城》" class="headerlink" title="《天空之城》"></a>《天空之城》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-612879bdcd48cc082081581ff7655239_r.jpg" alt="img"></p>
<h1 id="《星之所在》"><a href="#《星之所在》" class="headerlink" title="《星之所在》"></a>《星之所在》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E5%9B%BE%E7%89%8720171228004239.gif" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E5%9B%BE%E7%89%8720171228004251.jpg" alt="img"></p>
<h1 id="《我心永恒》"><a href="#《我心永恒》" class="headerlink" title="《我心永恒》"></a>《我心永恒》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/v2-433ecdb7f2a018de6d4c320e986530bd_r.jpg" alt="img"></p>
<h1 id="《同桌的你》"><a href="#《同桌的你》" class="headerlink" title="《同桌的你》"></a>《同桌的你》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180102160317.gif" alt="img"></p>
<h1 id="《董小姐》"><a href="#《董小姐》" class="headerlink" title="《董小姐》"></a>《董小姐》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E5%9B%BE%E7%89%8720171228004301.jpg" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E5%9B%BE%E7%89%8720171228004307.jpg" alt="img"></p>
<h1 id="《一千零一夜》"><a href="#《一千零一夜》" class="headerlink" title="《一千零一夜》"></a>《一千零一夜》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180102160326.gif" alt="img"></p>
<h1 id="《听妈妈讲那过去的事情》"><a href="#《听妈妈讲那过去的事情》" class="headerlink" title="《听妈妈讲那过去的事情》"></a>《听妈妈讲那过去的事情》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180102161227.jpg" alt="img"></p>
<h1 id="《又见炊烟》"><a href="#《又见炊烟》" class="headerlink" title="《又见炊烟》"></a>《又见炊烟》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180102161211.jpg" alt="img"></p>
<h1 id="《童年》"><a href="#《童年》" class="headerlink" title="《童年》"></a>《童年》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180102161152.jpg" alt="img"></p>
<h1 id="《一次就好》"><a href="#《一次就好》" class="headerlink" title="《一次就好》"></a>《一次就好》</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180102161219.jpg" alt="img"></p>
]]></content>
      
        <categories>
            
            <category> 爱好 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 口琴 </tag>
            
            <tag> 曲谱 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[圣诞节，给你的照片戴个帽子]]></title>
      <url>/2017/12/27/%E5%9C%A3%E8%AF%9E%E8%8A%82%EF%BC%8C%E7%BB%99%E4%BD%A0%E7%9A%84%E7%85%A7%E7%89%87%E6%88%B4%E4%B8%AA%E5%B8%BD%E5%AD%90/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>圣诞节来了，听说前两天有不少同志被一则“票圈发自己照片并@微信官方，就可收到带圣诞帽的照片”的消息骗了，在这里我就用python 的人脸识别模块写个小应用，自动给你的照片带帽。</p>
<p>之前看，已经有不少大神实现了这个功能，但是看下来，采用的方法不是<code>openCV</code>（觉得识别准确度较低），就是<code>dilb</code>（准确度可以，但代码太长），这次我使用的是前面讲过的<code>face_recognition</code>，虽然这货也是基于<code>dilb</code>的，但是好用啊！感受下：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/tmpsodasok0_%E7%9C%8B%E5%9B%BE%E7%8E%8B.bmp" alt="img"></p>
<a id="more"></a>
<hr>
<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul>
<li>Python 3.6.1</li>
<li>Windows 7  64位</li>
<li>PyCharm 2017.1.4</li>
</ul>
<h1 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h1><h2 id="库的安装"><a href="#库的安装" class="headerlink" title="库的安装"></a>库的安装</h2><ul>
<li><p><strong>face_recognition</strong>（之前说过说过，它是基于dlib的人脸检测，比OpenCV更好用）</p>
<p><a href="http://link.zhihu.com/?target=https%3A//github.com/ageitgey/face_recognition" target="_blank" rel="noopener">ageitgey/face_recognition</a></p>
<p>安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install face_recognition</span><br></pre></td></tr></table></figure>
<p>如果安装过程中出现问题，99%都是安装依赖的库时出现了问题，这货安装依赖较多：boost（boost_python），cmake，dlib这几个依赖和库，中间出现任何问题都可以通过Google解决（回头我写篇帖子吧这个坑填上）。</p>
</li>
<li><p><strong>PIL库</strong></p>
<p>安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pillow   #PIL库</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>准备两张图，一张头像，一张帽子。先<code>face_recognition</code>人脸识别定位图片中的人脸，得到人脸范围坐标；再根据这个坐标确定帽子放置的坐标；最后将两张图片拼接后输出。（需要注意的是，帽子是不规则图像，除了主体外背景应该是透明的，因此必须是四通道png格式）。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/hat.png" alt="img"></p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>我的代码注释还是比较清晰的，应该基本都能看懂：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">from PIL import Image</span><br><span class="line">import face_recognition</span><br><span class="line"></span><br><span class="line"># 头像图片的路径</span><br><span class="line">img_path = &quot;***********/test.jpg&quot;</span><br><span class="line"></span><br><span class="line">image = face_recognition.load_image_file(img_path)</span><br><span class="line">face_locations = face_recognition.face_locations(image)</span><br><span class="line"># 打印发现了几张脸</span><br><span class="line">print(&quot;Found &#123;&#125; face(s) in this photograph.&quot;.format(len(face_locations)))</span><br><span class="line"></span><br><span class="line"># 头像图像数据读入human_img中，并转换为四通道RGBA模式</span><br><span class="line">human_img = Image.open(img_path)</span><br><span class="line">human_img = human_img.convert(&quot;RGBA&quot;)</span><br><span class="line"></span><br><span class="line"># 帽子图像数据读入hat_img中，并转换为四通道RGBA模式</span><br><span class="line">hat_img = Image.open(&quot;./hat.png&quot;)</span><br><span class="line">hat_img = hat_img.convert(&quot;RGBA&quot;)</span><br><span class="line">proportion_hat = hat_img.size[1] / hat_img.size[0]   # 帽子长宽比（高/宽）</span><br></pre></td></tr></table></figure>
<p>至此，我们已经通过人脸识别得到了头像图片中的<code>face_locations</code>人脸数据列表，并且将头像图像数据<code>human_img</code>和帽子图像数据<code>hat_img</code>读入，同时得到了<code>proportion_hat</code>帽子长宽比（高/宽）,待后续调用。</p>
<p>接下来遍历每一张<code>face_locations</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">for face_location in face_locations:            # 对于每张脸</span><br><span class="line">    top, right, bottom, left = face_location    # 得到 top, right, bottom, left</span><br><span class="line">    top -= 0            # 帽子相对与人脸框上线的偏移量</span><br><span class="line">    print(&quot;A face is located at pixel location Top: &#123;&#125;, Left: &#123;&#125;, Bottom: &#123;&#125;, Right: &#123;&#125;&quot;.format(top, left, bottom, right))</span><br><span class="line"></span><br><span class="line">    head_h = bottom-top # 脸部高度</span><br><span class="line">    head_w = right-left # 脸部宽度</span><br><span class="line"></span><br><span class="line">    factor = 1.5        # 帽子缩放因子</span><br><span class="line">    hat_w = int(round( head_w * factor))</span><br><span class="line">    hat_h = int(round( hat_w * proportion_hat))</span><br><span class="line"></span><br><span class="line">    # 调整帽子的大小</span><br><span class="line">    hat_img = hat_img.resize((hat_w, hat_h))</span><br><span class="line">    # 将帽子图像作为顶部图层图像</span><br><span class="line">    hat_region = hat_img</span><br><span class="line">    #hat_region = hat_region.rotate(6)</span><br><span class="line"></span><br><span class="line">    # 确定底部图层（头像图片）被覆盖的区域（就是帽子放置区域）</span><br><span class="line">    axis = 0.38          # 帽子穿戴轴线位置</span><br><span class="line">    offset = int(round( ( hat_w * axis ) - ( head_w * 0.5 ) ) )  # 偏移量</span><br><span class="line">    human_region = ( left - offset , top - hat_h , left - offset + hat_w , top )</span><br><span class="line"></span><br><span class="line">    # 把顶部图层与底部图层拼接</span><br><span class="line">    human_img.paste(hat_region, human_region,mask=hat_img)</span><br><span class="line">    </span><br><span class="line"># 完成输出</span><br><span class="line">human_img.show()</span><br></pre></td></tr></table></figure>
<p>帽子相对与人脸框上线的偏移量，帽子缩放因子<code>factor</code> 和 帽子穿戴轴线位置<code>axis</code>是可人为调整的参数。</p>
<p>在这里解释下第21行偏移量<code>offset</code>的计算方法：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20171227173051.jpg" alt="img"></p>
<p>所以</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">offset = ( hat_w * axis ) - ( head_w * 0.5 )</span><br></pre></td></tr></table></figure>
<p>但是，最后被覆盖的区域<code>human_region</code>的输入数值必须是<code>int</code>,因此所有的计算结果都要先四舍五入<code>round()</code>后再<code>int()</code></p>
<p>最后：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/tmpdrcvu7m2_%E7%9C%8B%E5%9B%BE%E7%8E%8B.bmp" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/tmpx7x5qwxt_%E7%9C%8B%E5%9B%BE%E7%8E%8B.bmp" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/tmplvnloe92_%E7%9C%8B%E5%9B%BE%E7%8E%8B_%E7%9C%8B%E5%9B%BE%E7%8E%8B.jpg" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/tmp27kv6492_%E7%9C%8B%E5%9B%BE%E7%8E%8B_%E7%9C%8B%E5%9B%BE%E7%8E%8B.jpg" alt="img"></p>
]]></content>
      
        <categories>
            
            <category> 编程 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> python </tag>
            
            <tag> 人脸识别 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[利用face locations包实现刷脸签到小应用]]></title>
      <url>/2017/12/22/%E5%88%A9%E7%94%A8face-locations%E5%8C%85%E5%AE%9E%E7%8E%B0%E5%88%B7%E8%84%B8%E7%AD%BE%E5%88%B0%E5%B0%8F%E5%BA%94%E7%94%A8/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前段时间看了一篇帖子<a href="https://zhuanlan.zhihu.com/p/26431250" target="_blank" rel="noopener">老板来了：人脸识别+手机推送，老板来了你立刻知道。</a>作者利用<code>face_recognition</code>+<code>jpush-api-python-client</code>的方式完成了办公室摄像头识别BOSS脸型，自动手机推送同时切换电脑屏幕的功能。点子不错，也启发了我也许可以做个自动人脸识别签到的小应用，可以用在上课，晚宴，会展等需要签到的场景。</p>
<a id="more"></a>
<hr>
<h1 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20171222170328.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171222170958.png" alt="img"></p>
<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul>
<li>Python 3.6.1</li>
<li>Windows 7  64位</li>
<li>PyCharm 2017.1.4</li>
</ul>
<h1 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h1><h2 id="需要用到的库"><a href="#需要用到的库" class="headerlink" title="需要用到的库"></a>需要用到的库</h2><ul>
<li><p><strong>face_recognition</strong>（基于dlib的人脸检测，识别率高达99.38%，比OpenCV更好用）</p>
<p><a href="http://link.zhihu.com/?target=https%3A//github.com/ageitgey/face_recognition" target="_blank" rel="noopener">ageitgey/face_recognition</a></p>
<p>安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install face_recognition</span><br></pre></td></tr></table></figure>
<p>如果安装过程中出现问题，99%都是安装依赖的库时出现了问题，这货安装依赖较多：boost（boost_python），cmake，dlib这几个依赖和库，中间出现任何问题都可以通过Google解决（回头我写篇帖子吧这个坑填上）。</p>
</li>
<li><p><strong>cv2</strong> （用来获取对网络摄像头的引用）</p>
</li>
<li><p><strong>csv</strong>（用来创建并写入签到表）</p>
</li>
<li><p><strong>time</strong>（获取签到时间）</p>
</li>
</ul>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>1.将所有宾客人员的头像照片放在同一个文件夹下，并将文件名设置为人员<code>姓名</code>（由于CV2不能识别中文，这里只能用英文表示）。</p>
<p>2.利用<code>face_recognition</code>识别宾客人员集（学习集），并将<code>人脸姓名</code>、<code>人脸参数</code>形成一个<code>dict</code>等待调用。</p>
<p>3.用<code>CV2</code>调用摄像头，抓取单帧视频 ，用<code>face_recognition</code>在视频框架中查找所有的人脸，对比学习集中每张脸，查看是否与已知面孔匹配，识别匹配后在视频中标记姓名，并将<code>姓名</code>和<code>签到时间</code>写入<code>签到名单.csv</code>。</p>
<p>4.用<code>CV2</code>检测指定按键，当点击键盘上的 “f”时， 显示当前签到状态（名册总人数、目前已签到人数、未签到名单）。</p>
<h1 id="建立学习集"><a href="#建立学习集" class="headerlink" title="建立学习集"></a>建立学习集</h1><p>将所有宾客人员的头像照片放在同一个文件夹下并改好文件名后</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20171229113404.png" alt="img"></p>
<p>在项目根目录下建立一个<code>guests_collections.py</code>写入代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import face_recognition</span><br><span class="line"></span><br><span class="line"># 建立学习集人脸识别对比库</span><br><span class="line">path = &apos;*************\刷脸签到\宾客人员集&apos;    # 宾客人员集文件夹位置</span><br><span class="line">Learning = &#123;&#125;                               # 人脸姓名与参数 Dict</span><br><span class="line">for rt, dirs, face_names in os.walk(path):</span><br><span class="line">    for name in face_names:</span><br><span class="line">        # 人脸姓名</span><br><span class="line">        face_name = name[:-4]</span><br><span class="line">        # 人脸参数</span><br><span class="line">        dirpath = rt + &quot;\\&quot; + name</span><br><span class="line">        face_image = face_recognition.load_image_file(dirpath)</span><br><span class="line">        face_encoding = face_recognition.face_encodings(face_image)[0]</span><br><span class="line">        # 将人脸姓名、人脸参数加入Learning字典</span><br><span class="line">        Learning [face_name] = face_encoding</span><br><span class="line">        all_num = len(Learning)             # 计算宾客人员总人数</span><br><span class="line">        all_mames = Learning.keys()         # 宾客人员姓名表</span><br></pre></td></tr></table></figure>
<p>这里的Learning , all_num , all_mames都是等待下一步主程序调用的</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>在项目根目录下建立主程序，并写入代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line"># hahajoker-2017-11-02</span><br><span class="line"></span><br><span class="line">import face_recognition</span><br><span class="line">import cv2</span><br><span class="line">import csv</span><br><span class="line">import sys</span><br><span class="line">sys.path.append(&quot; *********\刷脸签到&quot;)    # 设置你的项目文件夹路径</span><br><span class="line"># 调用上一步学习集的Learning , all_num , all_mame参数</span><br><span class="line">from guests_collections import Learning , all_num , all_mames</span><br><span class="line">import time                              </span><br><span class="line"></span><br><span class="line"># 这是一个运行在现场从摄像头获取的人脸识别签到项目。</span><br><span class="line"></span><br><span class="line"># 获取对网络摄像头 #0 的引用 (默认值)</span><br><span class="line">video_capture = cv2.VideoCapture(0)</span><br><span class="line"></span><br><span class="line"># 建立签到名单.csv 模式为写入模式</span><br><span class="line">with open(&apos;签到名单.csv&apos;, &apos;w&apos;, newline=&apos;&apos;) as f:</span><br><span class="line">    csv_writer = csv.writer(f)</span><br><span class="line"></span><br><span class="line">    target_names = []</span><br><span class="line">    while True:</span><br><span class="line">        # 记录当前时间</span><br><span class="line">        now = time.strftime(&quot;%H:%M:%S&quot;)</span><br><span class="line"></span><br><span class="line">        # 抓取单帧视频                                                   </span><br><span class="line">        ret, frame = video_capture.read()</span><br><span class="line"></span><br><span class="line">        # 在视频框架中查找所有的面孔和面孔 enqcodings</span><br><span class="line">        face_locations = face_recognition.face_locations(frame)</span><br><span class="line">        face_encodings = face_recognition.face_encodings(frame, face_locations)</span><br><span class="line"></span><br><span class="line">        # 遍历视频帧中的每个脸</span><br><span class="line">        for (top, right, bottom, left), face_encoding in zip(face_locations, face_encodings):</span><br><span class="line">            name = &quot;Unknown&quot;</span><br><span class="line">            # 对于学习集中每张脸</span><br><span class="line">            for face_name, guests_face_encoding in Learning.items():</span><br><span class="line">                # 查看是否与已知面孔匹配</span><br><span class="line">                match = face_recognition.compare_faces([guests_face_encoding], face_encoding, tolerance=0.4)</span><br><span class="line"></span><br><span class="line">                # 为识别出来的脸命名，并将姓名添加到签到名单中</span><br><span class="line">                if match[0]:</span><br><span class="line">                    name = face_name</span><br><span class="line">                    if name not in target_names:</span><br><span class="line">                        target_names.append(face_name)</span><br><span class="line">                        csv_writer.writerow([face_name])  # 将姓名添加到签到名单.csv中</span><br><span class="line">                        print(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;)</span><br><span class="line">                        print(&quot;您好&quot;, name, &quot;，系统已经帮您签到 &quot;,now)</span><br><span class="line">                        target_num = len(target_names) # 签到人数</span><br><span class="line">                        Remaining_names = all_mames - target_names  # 当前未到人员列表</span><br><span class="line"></span><br><span class="line">                    break</span><br><span class="line"></span><br><span class="line">            # 在脸上画一个框</span><br><span class="line">            cv2.rectangle(frame, (left, top), (right, bottom), (0, 0, 255), 2)</span><br><span class="line"></span><br><span class="line">            # 在脸下面画一个名字的标签</span><br><span class="line">            cv2.rectangle(frame, (left, bottom - 35), (right, bottom), (0, 0, 255), cv2.FILLED)</span><br><span class="line">            font = cv2.FONT_HERSHEY_DUPLEX</span><br><span class="line">            cv2.putText(frame, name, (left + 6, bottom - 6), font, 1.0, (255, 255, 255), 1)</span><br><span class="line"></span><br><span class="line">        # 显示生成的图像</span><br><span class="line">        cv2.imshow(&apos;Video&apos;, frame)</span><br><span class="line"></span><br><span class="line">        # 点击键盘上的 &quot;f&quot; 显示当前签到状态！</span><br><span class="line">        if cv2.waitKey(1) &amp; 0xFF == ord(&apos;f&apos;):</span><br><span class="line">            print(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;)</span><br><span class="line">            print(now,&quot;——— 名册总人数为&quot;,all_num,&quot;人，目前已签到&quot;,target_num,&quot;人。&quot;)</span><br><span class="line">            print(&quot;未签到名单：&quot;)</span><br><span class="line">            for ever_name in Remaining_names:</span><br><span class="line">                print(ever_name)</span><br><span class="line"></span><br><span class="line">        # 点击键盘上的 &quot;q&quot; 退出!</span><br><span class="line">        if cv2.waitKey(1) &amp; 0xFF == ord(&apos;q&apos;):</span><br><span class="line">            break</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # 网络摄像头的释放手柄</span><br><span class="line">    video_capture.release()</span><br><span class="line">    cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>
<p>每一步我都做了注释，应该不难理解。</p>
]]></content>
      
        <categories>
            
            <category> 编程 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> python </tag>
            
            <tag> 人脸识别 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[德国签证被拒签又申诉成功的经历]]></title>
      <url>/2017/12/20/%E5%BE%B7%E5%9B%BD%E7%AD%BE%E8%AF%81%E8%A2%AB%E6%8B%92%E7%AD%BE%E5%8F%88%E7%94%B3%E8%AF%89%E6%88%90%E5%8A%9F%E7%9A%84%E7%BB%8F%E5%8E%86/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近正在准备和家人一起来次年后欧洲自由行，说实话行程还是定得挺满的，按照计划是3天德国（柏林、科隆）+4天英国（伦敦、剑桥）。有了之前自己办理英签顺利通过的经历，这次办理德国申根签证信心满满，想着自己英签都过了德签通过应该是小意思了，结果。。我迎来了人生第一次的拒签经历（打脸）。</p>
<p>在这里我就分享一下我的德国申根签证从申请、拒签到申诉成功的经历。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/56a1f140cdcf451bba0c8172fd58bfbd_th_%E7%9C%8B%E5%9B%BE%E7%8E%8B.web.jpg" alt="img"></p>
<a id="more"></a>
<hr>
<p>最重要的事情说在前面：<strong>如果你想愉快地拿到申根签证，最好就别申请德国！！！</strong></p>
<p>德国是按照你申请的日期，从入境到出境，完全卡死的。连个入境有效期都没有，也不会多给你几天。</p>
<p>如果有多旅程的，请出门右拐，从其他国家入境。法国，西班牙，荷兰，意大利，都比德国宽松。</p>
<p><strong>（当然了，如果你的行程中停留最长国是德国，你还是得乖乖回来往下看）</strong></p>
<p>如果你想以思维导图形式观看整个申请流程请点这里：<a href="https://www.processon.com/view/link/59dc7b52e4b06e9fd2fae6b2" target="_blank" rel="noopener">德国申根签证思维导图</a></p>
<h1 id="签证申请"><a href="#签证申请" class="headerlink" title="签证申请"></a>签证申请</h1><p>有两种方式申请德国申根签证:</p>
<ul>
<li>通过大使馆的服务商中智签证的签证申请受理中心递交申请<ul>
<li>预约后可获得两个工作日的递签时</li>
<li>减少在签证受理中心等待时间</li>
<li><a href="https://de.tlscontact.com/cn/BJS/index.php?l=zh_CN" target="_blank" rel="noopener">https://de.tlscontact.com/cn/BJS/index.php?l=zh_CN</a>网站上获得全面综合信息</li>
<li>通过签证中心电话 +86 21 6016 8558 (中国联通) 和 +86 21 2221 8500 (中国电信) 提供信息帮助</li>
<li>申请受理情况可随时在线查询</li>
<li>无需亲自面签</li>
<li>通过委托全权代表递交签证申请</li>
</ul>
</li>
<li>或者，直接向使馆/总领事馆的签证处递交申请：<a href="http://www.china.diplo.de/Vertretung/china/zh/02-visa/01-schengenvisa/02-botschaft-konsulat/00-antragstellung-in-av.html" target="_blank" rel="noopener">使馆或总领事馆入口</a><ul>
<li>签证申请人必需亲自来使领馆</li>
<li>签证申请人窗口面签</li>
<li>通过所在管辖区使领馆进行网上预约</li>
<li>等待时间大约需要两周</li>
</ul>
</li>
</ul>
<p>这次我果断向亲儿子低了头，准备通过中智递交申请。</p>
<h2 id="步骤1：选择正确的签证类型"><a href="#步骤1：选择正确的签证类型" class="headerlink" title="步骤1：选择正确的签证类型"></a>步骤1：选择正确的签证类型</h2><p>根据不同的出行目的，德国申根签证提供短期旅游、商务出行、参展、探亲访友、就医、学习等多种签证类型。</p>
<p>在申请签证前一定要确定好自己出行的目的，选择相应的签证类型，并且<strong>你准备的申请材料和接受电调话术一定要保持和你出行目的的一致性</strong>。（本次拒签我就是犯了这样的错误）</p>
<p>废话不多说，我这次的签证类型属于<strong>短期旅游</strong>。</p>
<h2 id="步骤2：建立帐号"><a href="#步骤2：建立帐号" class="headerlink" title="步骤2：建立帐号"></a>步骤2：建立帐号</h2><p>在中智官网建立账号用以在线填写申请表与预约面签</p>
<p>入口在这里：<a href="https://de.tlscontact.com/cn/BJS/register.php" target="_blank" rel="noopener">https://de.tlscontact.com/cn/BJS/register.php</a></p>
<h2 id="步骤3：在线填写申请表"><a href="#步骤3：在线填写申请表" class="headerlink" title="步骤3：在线填写申请表"></a>步骤3：在线填写申请表</h2><p>在您登录您的个人帐户后，需要新建申请来在线填写申请信息。另外，一起出行的所有申请人需要注册在同一个小组。</p>
<h2 id="步骤4：预约递交申请时间"><a href="#步骤4：预约递交申请时间" class="headerlink" title="步骤4：预约递交申请时间"></a>步骤4：预约递交申请时间</h2><ul>
<li>在线选择在签证中心递交您签证申请的时间。</li>
<li>记得打印成功预约申请时间的预约单，因为出席预约时需要您出示此凭证。</li>
</ul>
<h2 id="步骤5：准备材料"><a href="#步骤5：准备材料" class="headerlink" title="步骤5：准备材料"></a>步骤5：准备材料</h2><h3 id="基本材料"><a href="#基本材料" class="headerlink" title="基本材料"></a>基本材料</h3><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%B7%E5%9B%BD%E7%AD%BE%E8%AF%81_%E7%9C%8B%E5%9B%BE%E7%8E%8B.png" alt="img"></p>
<p><strong>记住你的行程计划，万一被电调会被问个遍</strong></p>
<p>在这里旅行计划建议用<a href="http://plan.qyer.com/" target="_blank" rel="noopener">穷游行程助手</a>来做，超级好用（也为我后面的拒签申诉起到了关键作用），优点如下：</p>
<ul>
<li>可直接导出送签英文行程单</li>
<li>全面的交通、景点、吃饭、住宿库拖拽式添加</li>
<li>智能行程自动优化</li>
<li>完美对接booking，爱比邻数据库</li>
<li>手机、地图、电脑，PDF等多种查看模式</li>
</ul>
<h3 id="特殊材料"><a href="#特殊材料" class="headerlink" title="特殊材料"></a>特殊材料</h3><p>特殊材料是根据出行人员的不同职业性质区分，需要提交不同的材料</p>
<h4 id="在职人员-（雇员，企业家）"><a href="#在职人员-（雇员，企业家）" class="headerlink" title="在职人员 （雇员，企业家）"></a>在职人员 （雇员，企业家）<img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%9C%A8%E8%81%8C%E4%BA%BA%E5%91%98%20%EF%BC%88%E9%9B%87%E5%91%98%EF%BC%8C%E4%BC%81%E4%B8%9A%E5%AE%B6%EF%BC%89.png" alt="img"></h4><h4 id="大学或培训机构的学生"><a href="#大学或培训机构的学生" class="headerlink" title="大学或培训机构的学生"></a>大学或培训机构的学生</h4><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171221211056.png" alt="img"></p>
<h2 id="步骤6：前往签证中心递交您的签证申请"><a href="#步骤6：前往签证中心递交您的签证申请" class="headerlink" title="步骤6：前往签证中心递交您的签证申请"></a>步骤6：前往签证中心递交您的签证申请</h2><ul>
<li>Add：北京市朝阳区东大桥路9号 侨福芳草地大厦C座3层05单元(可由南门进入） 邮编：100020       工作时间：08:30 -16:30 / 周一至周五</li>
<li>请携带预约单并准时出席您的预约。如果您未能出席或者未能按时出席您的预约，如您希望继续申请，你将需要重新注册并预约新的递交材料的时间</li>
<li>您需要在签证中心支付<a href=""><strong>签证费及服务费</strong></a>。(现金or刷卡)<ul>
<li><strong>签证费：475元</strong></li>
<li><strong>签证服务费：200元</strong></li>
</ul>
</li>
</ul>
<p>以上就是签证申请的主要步骤，需要注意：<strong>德国大使馆最多只能受理距您入境时间提前90天内的申请</strong>（我第一次就是提前了103天递签被中智拒绝了。。。）</p>
<p>另外，申请通过后会有邮件和短信的提示，取护照的方式，自提 or EMS ，中智EMS 64元（后来申诉通过大使馆给寄是32元）</p>
<h1 id="被德国大使馆拒签"><a href="#被德国大使馆拒签" class="headerlink" title="被德国大使馆拒签"></a>被德国大使馆拒签</h1><p>申请通过会邮件和短信提示，申请被拒会收到邮件和拒签信。</p>
<p>我是11月30号提交的申请，12月11号收到了来自大使馆的EMS，开心地拆开文件袋打算看看护照上的申根签证，Duang~ ，拒签信，拒签理由如下：</p>
<ul>
<li><strong>8.递交的关于计划逗留目的条件的信息不可信。</strong></li>
</ul>
<p>老子英签都过了德国申根签你居然给我拒签了！！！虽然没有给我盖拒签章，但是认真准备那么久，却被当成骗子，一阵心酸涌上心头，不行！要申诉！</p>
<h1 id="拒签申诉"><a href="#拒签申诉" class="headerlink" title="拒签申诉"></a>拒签申诉</h1><p>从你被大使馆拒签那天算起（拒签信签署日期）一个月内，德国大使馆为每一位申请人提供一次亲自前往签证处要求说明拒签原因的机会，以便在有需要的情况下决定申请人接下来可采取哪些步骤（提出书面申诉、递交新的申请）。</p>
<p>申诉的方式有两种：口头申诉和书面申诉</p>
<p>我建议采用去大使馆当面口头申诉，并同时带上你的申诉书的方式进行。</p>
<h2 id="确定拒签原因"><a href="#确定拒签原因" class="headerlink" title="确定拒签原因"></a>确定拒签原因</h2><p>无论你要以哪种方式申诉，都得先确定拒签你的具体原因</p>
<p>在德国大使馆官网上有对拒签通知的说明：<a href="http://www.china.diplo.de/Vertretung/china/zh/02-visa/01-schengenvisa/03-faq/19-erlaeuterungen-ablehnungsbescheid-sprungmarken.html" target="_blank" rel="noopener">http://www.china.diplo.de/Vertretung/china/zh/02-visa/01-schengenvisa/03-faq/19-erlaeuterungen-ablehnungsbescheid-sprungmarken.html</a></p>
<p>我找到了我拒签原因所对应的解释：</p>
<p>​       <strong>8. 递交的关于计划逗留目的条件的信息不可信。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">您可能未完整提交必需的材料。您的签证申请如因材料不全被拒绝，使馆建议您递交新的完整的签证申请</span><br><span class="line"></span><br><span class="line">- 您已提交酒店或机票预订单，但随后取消了酒店或机票预订</span><br><span class="line">- 您提交的商务邀请函未由邀请公司确认或不能核实</span><br><span class="line">- 您就逗留目的给出了自相矛盾的信息</span><br><span class="line">- 您未能在审核签证申请时就旅行目的给出详细充分的说明</span><br><span class="line">- 所申请的签证有效期与其他材料（酒店或机票预订单、来自德国的邀请函、医疗保险）上的日期不符</span><br><span class="line">- 申请探亲访友签证，但不能充分证明申请人与被探访者间的亲属或朋友关系</span><br><span class="line">- 申请旅游签证，所申请的签证有效期与假期申请的情况不符</span><br><span class="line"></span><br><span class="line">本馆提示：不排除因上述列举外的其他原因导致拒签。</span><br></pre></td></tr></table></figure>
<p>在这里要说明，由于机票订单未支付导致机票自动取消的情况一般不会成为大使馆拒签你的理由。</p>
<p>一项一项排除，我的问题应该是出在了第四条：</p>
<ul>
<li><strong>您未能在审核签证申请时就旅行目的给出详细充分的说明</strong></li>
</ul>
<p>在签证审核期间，我曾经收到了大使馆的电话调查，在被问了一通行程后。问了我选择去德国旅行的目的，我当时说我是从事3D打印行业的，德国工业设计世界闻名，十分向往，并且打算去柏林的stilwerk商场看设计展览（现在想来真想抽死自己，没事说那么多废话干嘛。。）</p>
<p>签证官肯定想歪了。。。</p>
<h2 id="准备申诉材料"><a href="#准备申诉材料" class="headerlink" title="准备申诉材料"></a>准备申诉材料</h2><p>申诉材料无非两个：申诉信（用来表达主诉）和补充材料（证明你的异议）</p>
<h3 id="申诉信"><a href="#申诉信" class="headerlink" title="申诉信"></a>申诉信</h3><p>写之前查阅了不少申诉的帖子，都说了一点：<strong>申诉信要用英文！！！</strong>中文写的那些，翻译根本不给翻译的，所以相当于没写一样。如果交流过程中再没办法很充分很有条理的表述自己，很容易就被当作狡辩。</p>
<p>我那用谷歌翻译+一点点语法知识强行揉出来的申述信就不在这里献丑了，<strong>在这里就把我申诉信的框架分享出来：</strong></p>
<p>Dear Visa Officer ,</p>
<p><strong>我的姓名、护照号、档案号（拒签信上7位数字）、我于哪天递交了签证申请、于哪天收到拒签信、拒签理由是……</strong></p>
<p>表达作为一个有正经工作的中国公民，被拒签后的愤懑之情，以及对签证官工作的理解</p>
<p><strong>查询使馆官网拒签理由后，针对有可能产生的误解解释如下：</strong></p>
<ul>
<li>您未能在审核签证申请时就旅行目的给出详细充分的说明</li>
</ul>
<p>在签证审核期间，曾经收到了签证官的问询电话，在这里拍了下马屁，我原文写的是A nice lady with a nice voice(left a deep impression on me)并大概讲述了对话过程。</p>
<p><strong>然后就是解释我到访德国目的的确是旅行</strong>，一方面是感受德国充满魅力的历史、艺术、社会、文化氛围，另一方面就是体验的世界一流而严谨的德国设计（我觉得这里的夸赞是有加分的）</p>
<p>而我的行程计划也能<strong>说明我的旅行计划与目的一致性</strong>，在计划中我到访的地方基本都是博物馆、教堂和商场，并解释stilwerk只是商场而不是展会，并且表示我会买一些产品带给我的朋友。</p>
<p>我有一份热爱的职业在北京，并且我深爱我的父母，<strong>所以我肯定会按照计划回到中国</strong>。我为此次出行已经准备了几周的时间，我比任何人都期望这次旅行能顺利进行（I expect more than anybody else that this should be a perfect journey. ）</p>
<p>感谢您耐心的阅读，热切地期盼您的回复。</p>
<p>Sincerely,</p>
<p>my name</p>
<h3 id="准备补充材料"><a href="#准备补充材料" class="headerlink" title="准备补充材料"></a>准备补充材料</h3><p><strong>记住申诉提交的是补充材料，切不可与之前的申请材料有冲突之处</strong></p>
<p>我用穷游行程助手导出了一份详细的行程计划书，4天计划足足22页，作为证明我旅游目的的补充材料</p>
<h2 id="去大使馆申诉"><a href="#去大使馆申诉" class="headerlink" title="去大使馆申诉"></a>去大使馆申诉</h2><p><strong>申诉不需要预约，</strong>不同地区的大使馆申诉开放时间不同，<strong>北京德国使馆的申诉时间是每周一下午两点到下午四点，地址是北京德国大使馆（北门）</strong><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171222093435.png" alt="img"></p>
<p>由于担心排不上，我提前了两小时去，门卫说平均每周申诉的就7、8个人，2点到就行，于是乖乖去喝杯咖啡。</p>
<p>申诉的时候是一个签证官加一个翻译，大厚玻璃隔着，跟探监似的用听筒对话，英语不行就只能跟翻译对话，翻译的作用是过滤+翻译，如果你的理由不充分她甚至会直接回绝你</p>
<p>我前面的就是一个准备去德国旅游的女孩，后天飞机，机票酒店都付钱了，结果签证被拒，理由是怀疑工作证明作假，原来女孩在提交申请后换了工作，电调的时候原来的公司前台一查没有此人，大使馆就拒签了她。女孩带来了新公司的工作证明，签证官表示新材料要重新递交申请，但后天飞机，时间显然不够了，女孩急的直哭，原本不错的英语也组织不起来，只能中文里面的翻译女孩帮忙解释下，结果被理由不充分拒绝翻译。</p>
<p>到我了，点头致意说了句临时抱佛脚的“Hallo”，签证官旁边有个电脑，里面会记录每个申请人的签证信息，包括当时拒签我的签证官给出的<strong>拒签理由</strong>：</p>
<ul>
<li>行程太短只有4天</li>
<li>加上电调的时候说了和出行目的冲突的话要去参加展会</li>
</ul>
<p>基于以上原因签证官认为我出行目的不可信，应该递交商务出行签证，所以拒签</p>
<p>签证官一开始很友好，但是他在电脑上读我的信息的时候，可以看到他的脸上的表情就像吃了麻辣火锅，一幅情况不好，我也无能为力的表情。</p>
<p><strong>我决定避开电调的话题，话我已经说出去了我怎么解释也无可奈何。</strong></p>
<p>我先表示自己由于假期时间有限只能安排4天的德国行程（这个看她表情是认可的，并在电脑上开始记录），然后我说我的出行目的是旅行，并且准备了一份详细的4天的行程说明书，并表示这个和我一开始提交的计划是一致的。这个时候那个签证官目瞪口呆地看着我22页的行程计划“it’s four days?”,我说自己为此次旅行花了两周时间做计划。然后开始一天一天地介绍。。。</p>
<p>翻译终于打断了我，说这并不能反驳你在电话里说的话，于是我打开行程介绍商场的那一页，并解释stilwerk商场里会有很多著名设计师的个人品牌店面和产品展览，我只是想去参观和购买产品。</p>
<p>签证官点头并示意我不要在多说，自顾自在电脑上开始记录起来，感觉签证官是满意的，最后笑着收了我的材料，并要了我邮箱号码，表示他们会验证资料确认真实性后无误后，会邮件我带passport去贴签证，时间大约是一周左右。</p>
<p>最终又卖弄了一下我才学的德语“Vielen Dank!”，但是好像那两人都没听懂，尴尬的我只好说了一句非常感谢就走了。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20171222091836.jpg" alt="img"></p>
<p>三天后我收到了使馆的邮件，说签证已通过，要我带护照送去大使馆，办完后就可以寄回给我</p>
<p>总之整个申诉过程还是挺愉快的，只要你的材料合理且完整，申诉成功率还是挺高的。</p>
]]></content>
      
        <categories>
            
            <category> 旅行 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 德国 </tag>
            
            <tag> 签证 </tag>
            
            <tag> 申诉 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[FDM3D打印常见问题及解决方案]]></title>
      <url>/2017/12/12/FDM3D%E6%89%93%E5%8D%B0%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>接触并使用<code>FDM</code>（熔融沉积）3D打印机已有三年的时间，前前后后打印过的模型估计有几百件，还做过一段时间的硬件开发，对于这种打印机不敢说精通，但算是个老玩家了了。说实话，相对于其他3D打印技术，FDM打印机在稳定性和打印精度上是不理想的，但是它的长处在于性价比，其低廉的价格使其成为了目前保有量最高的3D打印机类型。</p>
<p>在这里把我遇到过的FDM 3D打印常见问题，以及解决处理方法做了个总结，方便随时查看，让大家少走弯路轻松愉快地使用3D打印机。</p>
<a id="more"></a>
<hr>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><p><img src="http://p0cgjzhqf.bkt.clouddn.com/FDM%203D%E6%89%93%E5%8D%B0%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.png" alt="img"></p>
<p>我将这个目录内的常见问题及解决方案利用<a href="http://www.focusky.com.cn/" target="_blank" rel="noopener">focusky</a>做成了动画展示，方便大家查看和分享。</p>
<p>点此查看完整预览：<a href="http://fs.focusky.com.cn/wwdb/tcfa/index.html" target="_blank" rel="noopener">http://fs.focusky.com.cn/wwdb/tcfa/index.html</a></p>
<p><strong>注：建议大家收藏上面的网址，方便遇到问题随时查看</strong></p>
<h1 id="硬性问题"><a href="#硬性问题" class="headerlink" title="硬性问题"></a>硬性问题</h1><p>硬性问题是指3D打印机出现了较严重的问题，如果不解决问题就无法完成打印过程。我们可以根据打印中出现的问题现象来判断问题原因，找到对应的解决方案。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/FDM%203D%E6%89%93%E5%8D%B0%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98_%E7%A1%AC%E6%80%A7%E9%97%AE%E9%A2%98.png" alt="img"></p>
<h2 id="3D打印开始后，耗材挤不出如何解决？"><a href="#3D打印开始后，耗材挤不出如何解决？" class="headerlink" title="3D打印开始后，耗材挤不出如何解决？"></a>3D打印开始后，耗材挤不出如何解决？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212181313.png" alt="img"></p>
<h2 id="如何解决3D打印出现刨料问题？"><a href="#如何解决3D打印出现刨料问题？" class="headerlink" title="如何解决3D打印出现刨料问题？"></a>如何解决3D打印出现刨料问题？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182537.png" alt="img"></p>
<h2 id="如何解决喷头堵塞问题？"><a href="#如何解决喷头堵塞问题？" class="headerlink" title="如何解决喷头堵塞问题？"></a>如何解决喷头堵塞问题？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182604.png" alt="img"></p>
<h2 id="怎么解决打印的耗材没法粘到平台上？"><a href="#怎么解决打印的耗材没法粘到平台上？" class="headerlink" title="怎么解决打印的耗材没法粘到平台上？"></a>怎么解决打印的耗材没法粘到平台上？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182624.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182649.png" alt="img"></p>
<h2 id="如何解决打印中途，挤出停止"><a href="#如何解决打印中途，挤出停止" class="headerlink" title="如何解决打印中途，挤出停止"></a>如何解决打印中途，挤出停止</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182715.png" alt="img"></p>
<h2 id="如何解决3D打印出现层错位问题？"><a href="#如何解决3D打印出现层错位问题？" class="headerlink" title="如何解决3D打印出现层错位问题？"></a>如何解决3D打印出现层错位问题？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182729.png" alt="img"></p>
<h2 id="如何解决过热问题"><a href="#如何解决过热问题" class="headerlink" title="如何解决过热问题"></a>如何解决过热问题</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182742.png" alt="img"></p>
<h2 id="如何解决挤出不稳定问题？"><a href="#如何解决挤出不稳定问题？" class="headerlink" title="如何解决挤出不稳定问题？"></a>如何解决挤出不稳定问题？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182803.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182815.png" alt="img"></p>
<h2 id="什么3D建模软件可以支持3D打印？"><a href="#什么3D建模软件可以支持3D打印？" class="headerlink" title="什么3D建模软件可以支持3D打印？"></a>什么3D建模软件可以支持3D打印？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212182836.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/ext_020161130133951172.png" alt="img"></p>
<h1 id="打印优化"><a href="#打印优化" class="headerlink" title="打印优化"></a>打印优化</h1><p>打印优化问题一般是指打印机可以完成打印过程，但打印出的模型出现了不理想的偏差，我们可以根据模型呈现出的不同状态来判断和调整切片参数或者修复打印机，以达到模型打印的最优状态。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/FDM%203D%E6%89%93%E5%8D%B0%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98_%E6%89%93%E5%8D%B0%E4%BC%98%E5%8C%96.png" alt="img"></p>
<h2 id="打印件边角卷曲和毛糙解决方法"><a href="#打印件边角卷曲和毛糙解决方法" class="headerlink" title="打印件边角卷曲和毛糙解决方法"></a>打印件边角卷曲和毛糙解决方法</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183043.png" alt="img"></p>
<h2 id="如何解决3D打印中出现拉丝和垂料问题？"><a href="#如何解决3D打印中出现拉丝和垂料问题？" class="headerlink" title="如何解决3D打印中出现拉丝和垂料问题？"></a>如何解决3D打印中出现拉丝和垂料问题？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212190102.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183123.png" alt="img"></p>
<h2 id="如何解决3D打印出现振动和回环纹理"><a href="#如何解决3D打印出现振动和回环纹理" class="headerlink" title="如何解决3D打印出现振动和回环纹理"></a>如何解决3D打印出现振动和回环纹理</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183141.png" alt="img"></p>
<h2 id="如何解决填充不牢问题"><a href="#如何解决填充不牢问题" class="headerlink" title="如何解决填充不牢问题"></a>如何解决填充不牢问题</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183156.png" alt="img"></p>
<h2 id="如何解决底面边角上的孔洞和间隙"><a href="#如何解决底面边角上的孔洞和间隙" class="headerlink" title="如何解决底面边角上的孔洞和间隙"></a>如何解决底面边角上的孔洞和间隙</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183208.png" alt="img"></p>
<h2 id="如何解决侧面线性纹理问题？"><a href="#如何解决侧面线性纹理问题？" class="headerlink" title="如何解决侧面线性纹理问题？"></a>如何解决侧面线性纹理问题？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183224.png" alt="img"></p>
<h2 id="如何解决填充与轮廓之间出现间隙现象？"><a href="#如何解决填充与轮廓之间出现间隙现象？" class="headerlink" title="如何解决填充与轮廓之间出现间隙现象？"></a>如何解决填充与轮廓之间出现间隙现象？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183237.png" alt="img"></p>
<h2 id="如何解决细节打印不出来？"><a href="#如何解决细节打印不出来？" class="headerlink" title="如何解决细节打印不出来？"></a>如何解决细节打印不出来？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183251.png" alt="img"></p>
<h2 id="如何解决层开裂或断开问题？"><a href="#如何解决层开裂或断开问题？" class="headerlink" title="如何解决层开裂或断开问题？"></a>如何解决层开裂或断开问题？</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183303.png" alt="img"></p>
<h2 id="如何处理短线轴"><a href="#如何处理短线轴" class="headerlink" title="如何处理短线轴?"></a>如何处理短线轴?</h2><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171212183317.png" alt="img"></p>
]]></content>
      
        <categories>
            
            <category> 3D打印 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 3D打印 </tag>
            
            <tag> FDM </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[解决三维重建中CT各期数据不匹配问题]]></title>
      <url>/2017/11/13/%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA%E4%B8%ADCT%E5%90%84%E6%9C%9F%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%8C%B9%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这个情况一般出现在需要多组CT数据混合式三维建模中，即先分别从不同期的CT数据中提取相应的部分的3D模型，最后合并所有三维模型完成建模。但是出现各期CT数据不匹配的情况时（一般是患者在CT扫描的过程中出现了移位的现象），最后合并模型时就出现了问题。</p>
<p>在这里我将自己用Geomagic解决以上问题的方案分享一下，如果大家有更好的解决方案，欢迎讨论！</p>
<a id="more"></a>
<hr>
<h1 id="情况说明"><a href="#情况说明" class="headerlink" title="情况说明"></a>情况说明</h1><p>最近的一个病例正好出现了这个问题，在这里我先做下情况介绍：病例诊断为肝细胞癌，肿瘤位于肝脏右后叶下段，病人在两天前做了增强CT检查，由于肝硬化较严重，CT影像效果不是太理想。</p>
<p>CT三维建模提取要求为：肝实质、动脉、门脉、腔静脉以及肿瘤。</p>
<p>我先分别从CT各期数据中将肝脏、动脉、门脉、腔静脉以及肿瘤三维数据提取了出来，但是在合并的时候出现了问题：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171213172005.png" alt="img"></p>
<p>如图，当我要在输尿管期下导入之前建模出来的模型准备合并的时候，肝脏、门脉、腔静脉、肿瘤模型都是匹配的，但是动脉（红色部分）发生了位移。<img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171213173336.png" alt="img"></p>
<p>动脉（红色部分）是我从动脉期中提取出来的，和输尿管期的动脉（黄色部分）进行比较，动脉期的模型提取效果更加完整充盈，并且体现出了肿瘤（蓝色部分）的动脉供血支。</p>
<p>据此，我们确定目标：将动脉期的动脉（红色）匹配至输尿管期的动脉（黄色）。</p>
<h1 id="利用Geomagic进行全局注册"><a href="#利用Geomagic进行全局注册" class="headerlink" title="利用Geomagic进行全局注册"></a>利用Geomagic进行全局注册</h1><p>将两个动脉模型分别从mimics中导出，并保存为<code>动脉期.stl</code>和<code>输尿管期.stl</code></p>
<p>然后将它们导入Geomagic studio 软件：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171213193930.png" alt="img"></p>
<p>按住<code>Ctrl</code>将左侧模型管理器中的两个模型都选中。</p>
<p>然后在工具栏中找到<code>对齐</code>–&gt;<code>全局注册</code>，并点击。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171213194541.png" alt="img"></p>
<p>进入全局注册模式后，点击<code>应用</code>按钮。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C.gif" alt="img"></p>
<p>全局注册工具会自动计算并拟合两个模型的相似特征，如上图，点击<code>确定</code>按钮即可保存并退出全局注册。</p>
<p>如果这一步全局注册的效果不理想，我们还可以使用旁边的<code>手动注册</code>工具</p>
<p><code>手动注册</code>就是手动分别在两个模型上选取对应的特征点，系统会根据对应点拟合两个模型，如下图。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171213223643.png" alt="img"></p>
<p>最后将调整后的<code>动脉期.stl</code>保存出来，导回到<code>mimics</code>重新合并即可</p>
<p>最终效果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/ddfdfdfdfdfdfdf.png" alt="img"></p>
]]></content>
      
        <categories>
            
            <category> 3D打印 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> mimics </tag>
            
            <tag> Geomagic </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Xpath爬取链家二手房数据并利用Echarts可视化]]></title>
      <url>/2017/11/02/Xpath%E7%88%AC%E5%8F%96%E9%93%BE%E5%AE%B6%E4%BA%8C%E6%89%8B%E6%88%BF%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%88%A9%E7%94%A8Echarts%E5%8F%AF%E8%A7%86%E5%8C%96/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近在自学python语言的过程中，接触了多种爬虫的手段，我本爱挑剔私以为<code>Requests</code>+<code>Xpath</code>是用起来最优雅的，可惜一直没有找到称手的可视化工具。前两天在读知乎的高赞回答<a href="https://www.zhihu.com/question/19929609" target="_blank" rel="noopener">有哪些值得推荐的数据可视化工具？</a>时发现了<code>Echarts</code>，非常惊艳，遂决定爬取链家二手房数据进行可视化，在测试自己爬虫实力的同时检验下Echarts的实际效果。</p>
<a id="more"></a>
<hr>
<h1 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h1><ul>
<li><strong>采用<code>Requests</code>+<code>Xpath</code>工具采集链家网北京二手房前100页信息，数据标签：<code>名称</code>、<code>地址</code>、<code>每平米单价</code>、<code>网址</code>、<code>总价</code>，并保存为<code>CSV</code>（表格）</strong></li>
</ul>
<ul>
<li><strong>调用百度地图API ：实现具体地址到地图经纬度换算，并提取<code>名称</code>、<code>每平米单价</code>、<code>地址经纬度</code>三个标签保存为<code>json</code>格式（Echarts的数据导入只识别<code>json</code>格式）</strong></li>
</ul>
<ul>
<li><p><strong>将数据导入<code>Echarts</code>，设置图标样式，导入第三方地图脚本，完成！</strong></p>
<p> （这步虽然写得最短，但是我爬最多坑的地方，主要原因是这货是纯<code>Javascript</code>写的，还好官网提供了大量案例，这才摸着石头过了河）</p>
<p>来看下最终结果:</p>
<p><strong>3D图表：</strong><a href="http://gallery.echartsjs.com/preview.html?c=xSkIekbnuW&amp;v=2" target="_blank" rel="noopener">点此预览</a></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/Xpath%E7%88%AC%E5%8F%96%E9%93%BE%E5%AE%B6%E4%BA%8C%E6%89%8B%E6%88%BF%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%88%A9%E7%94%A8Echarts%E5%8F%AF%E8%A7%86%E5%8C%96.gif" alt="img"></p>
<p><strong>2D图表：</strong><a href="http://gallery.echartsjs.com/preview.html?c=xH1_0oxh_b&amp;v=5" target="_blank" rel="noopener">点此预览</a></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/2Dbeijingershoufang.gif" alt="img"></p>
</li>
</ul>
<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul>
<li>Python 3.6.1</li>
<li>Windows 7  64位</li>
<li>PyCharm 2017.1.4</li>
</ul>
<h1 id="爬取数据"><a href="#爬取数据" class="headerlink" title="爬取数据"></a>爬取数据</h1><h2 id="检查目标网页"><a href="#检查目标网页" class="headerlink" title="检查目标网页"></a>检查目标网页</h2><p>我们先来看看目标网页的情况</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171211173314.png" alt="img"></p>
<p>发现：</p>
<ul>
<li>链家不需要登录即可查阅二手房信息</li>
<li>用chrome检查网页请求，也没有<code>cookie</code>和<code>token</code>等一类变态的反爬手段</li>
</ul>
<p>至此，放心了一大半，说明我们不需要做太多的伪装即可直接获取到我们的目标数据</p>
<h2 id="定位目标数据"><a href="#定位目标数据" class="headerlink" title="定位目标数据"></a>定位目标数据</h2><p>下面我们来看下目标数据的页面格式</p>
<h3 id="翻页逻辑"><a href="#翻页逻辑" class="headerlink" title="翻页逻辑"></a>翻页逻辑</h3><p>链家二手房第一页的URL是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://bj.lianjia.com/ershoufang/</span><br></pre></td></tr></table></figure>
<p>这个url中并没有带有明显的页面标识，别急，我们来看看第二页的url：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://bj.lianjia.com/ershoufang/pg2/</span><br></pre></td></tr></table></figure>
<p>这下翻页逻辑就暴露了，这个<code>pg</code>后面的数字可能指代的就是页数，我们再看看后面的页数加以验证：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https://bj.lianjia.com/ershoufang/pg3/</span><br><span class="line">https://bj.lianjia.com/ershoufang/pg4/</span><br><span class="line">https://bj.lianjia.com/ershoufang/pg5/</span><br><span class="line">.......</span><br></pre></td></tr></table></figure>
<p>看来我们判断的没错，按照这个逻辑我们来看看/pg1/能不能打开第一页：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://bj.lianjia.com/ershoufang/pg1/</span><br></pre></td></tr></table></figure>
<p>打开没有问题！看来依次增加<code>pg</code>后面的数字即可实现翻页。</p>
<h3 id="数据定位"><a href="#数据定位" class="headerlink" title="数据定位"></a>数据定位</h3><p>用chrome右击的<code>检查</code>（Ctrl+shift+I）功能，我们可以方便地查看和定位网页元素：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171211181744.png" alt="img"></p>
<h4 id="名称"><a href="#名称" class="headerlink" title="名称"></a>名称</h4><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171211182348.png" alt="img"></p>
<h4 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h4><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171211182644.png" alt="img"></p>
<h4 id="每平米单价"><a href="#每平米单价" class="headerlink" title="每平米单价"></a>每平米单价</h4><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171211183123.png" alt="img"></p>
<h4 id="网址"><a href="#网址" class="headerlink" title="网址"></a>网址</h4><p>查看网页代码发现详情页面的网址就藏在之前存放名称的<code>&lt;a&gt;</code> 标签下的 <code>&lt;herf&gt;</code>标签内。</p>
<h4 id="总价"><a href="#总价" class="headerlink" title="总价"></a>总价</h4><p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171211183545.png" alt="img"></p>
<h2 id="编写爬虫代码"><a href="#编写爬虫代码" class="headerlink" title="编写爬虫代码"></a>编写爬虫代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">import requests</span><br><span class="line">import csv</span><br><span class="line">from lxml import html</span><br><span class="line"></span><br><span class="line">url=&apos;https://bj.lianjia.com/ershoufang/pg&#123;page&#125;/&apos;  #目标网页</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    start_page=0</span><br><span class="line">    end_page=100                                   #爬取终止页数</span><br><span class="line">    with open(&apos;bjrent.csv&apos;,&apos;w&apos;,newline=&apos;&apos;) as f:   #以读写模式打开CSV</span><br><span class="line">        csv_writer=csv.writer(f)</span><br><span class="line">        print(&apos;start.....&apos;)</span><br><span class="line">        while start_page&lt;=end_page:                #循环页数终止判断</span><br><span class="line">            start_page+=1</span><br><span class="line">            print(&apos;get:&#123;0&#125;&apos;.format(url.format(page=start_page)))</span><br><span class="line">            response=requests.get(url.format(page=start_page))</span><br><span class="line">            tree = html.fromstring(response.text)</span><br><span class="line">            el = tree.xpath(&apos;//div[@class=&quot;info clear&quot;]&apos;)</span><br><span class="line">            for house in el:                       #遍历每个房产项目</span><br><span class="line">                house_title = house.xpath(&apos;div[@class=&quot;title&quot;]/a/text()&apos;) #名称</span><br><span class="line">                house_addr = house.xpath(&apos;div[@class=&quot;address&quot;]/div[@class=&quot;houseInfo&quot;]/a/text()&apos;)[0] #地址</span><br><span class="line">                house_totalprice = house.xpath(&apos;div[@class=&quot;priceInfo&quot;]/div[@class=&quot;totalPrice&quot;]/span/text()&apos;) #单价</span><br><span class="line">                house_unitprice = house.xpath(&apos;div[@class=&quot;priceInfo&quot;]/div[@class=&quot;unitPrice&quot;]/span/text()&apos;)   #总价</span><br><span class="line">                house_url = house.xpath(&apos;div[@class=&quot;title&quot;]/a/@href&apos;)   #详情页url网址</span><br><span class="line">                #整理数据</span><br><span class="line">                house_title = &apos;&apos;.join(house_title)</span><br><span class="line">                house_addr = &apos;&apos;.join(house_addr)</span><br><span class="line">                house_totalprice = &apos;&apos;.join(house_totalprice)</span><br><span class="line">                house_unitprice = &apos;&apos;.join(house_unitprice)</span><br><span class="line">                house_url = &apos;&apos;.join(house_url)</span><br><span class="line"></span><br><span class="line">                #数据写入CSV</span><br><span class="line">                csv_writer.writerow([house_title, house_addr, house_unitprice, house_url, house_totalprice+str(&apos;万&apos;)])</span><br><span class="line">        print(&apos;end.....&apos;)</span><br></pre></td></tr></table></figure>
<p><strong>注：</strong></p>
<ul>
<li><strong><code>.join()</code>函数作用：<a href="http://blog.csdn.net/he_jian1/article/details/40980049" target="_blank" rel="noopener">Python ‘’.JOIN()的作用</a></strong></li>
<li><a href="http://www.w3school.com.cn/xpath/index.asp" target="_blank" rel="noopener">Xpath教程(W3C)</a></li>
</ul>
<h2 id="查看数据"><a href="#查看数据" class="headerlink" title="查看数据"></a>查看数据</h2><p>爬取完成后会在指定目录下生成一个<code>.csv</code>文件，我们可以打开它来查看爬取的数据。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171211185925.png" alt="img"></p>
<p>链家100页的爬取我们得到了3000个房源数据，实际上看链家的年销售数据，它的房源数据肯定是3W+的，也许我们可以通过在100页上继续叠加爬取实现，而事实也是这样的。</p>
<p>只不过我们目前的3000个样本数据已经很能说明问题了，在这里我就不全部爬完了。</p>
<h1 id="调用百度地图API实现经纬度换算"><a href="#调用百度地图API实现经纬度换算" class="headerlink" title="调用百度地图API实现经纬度换算"></a>调用百度地图API实现经纬度换算</h1><p>百度API的调用方法可看<a href="http://www.jianshu.com/p/773ff5f08a2c" target="_blank" rel="noopener">这篇文章</a>，写得很好。</p>
<h2 id="获取密匙（AK）"><a href="#获取密匙（AK）" class="headerlink" title="获取密匙（AK）"></a>获取密匙（AK）</h2><p>经纬度换算前，需要注册百度地图api（你要用百度的账号）以获取免费的密钥，才能完全使用该api。登录网址：<a href="https://link.jianshu.com/?t=http://lbsyun.baidu.com/" target="_blank" rel="noopener">百度开放平台</a></p>
<p>首页点击申请密钥按钮，经过填写个人信息、邮箱注册等，成功之后在开放平台上点击“创建应用”，填写相关信息，在这里特别说明的是，在IP白名单框里，如果不清楚自己的IP地址，最好设置为：0.0.0.0/0，虽然百度提醒它会有泄露使用的风险，但是有时候你把你自己的IP地址输进去可能也不行。提交后，在你创建应用的访问应用（AK）那一栏就是你的密钥。</p>
<h2 id="经纬度换算"><a href="#经纬度换算" class="headerlink" title="经纬度换算"></a>经纬度换算</h2><p>注册密钥后就可以在百度Web服务API下的Geocoding API接口来获取你所需要地址的经纬度坐标并转化为json结构的数据。</p>
<p>官方API文档：<a href="http://lbsyun.baidu.com/index.php?title=webapi/guide/webservice-geocoding" target="_blank" rel="noopener">点这里</a></p>
<p>多的不说，直接上代码，每一步注释都写在后面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">import json</span><br><span class="line">from urllib.request import urlopen, quote</span><br><span class="line">import csv</span><br><span class="line"></span><br><span class="line">def getlnglat(address):</span><br><span class="line">    url = &apos;http://api.map.baidu.com/geocoder/v2/&apos;</span><br><span class="line">    output = &apos;json&apos;</span><br><span class="line">    ak = &apos;***************&apos;                  #在这里填写你的密匙</span><br><span class="line">    add = quote(str(&apos;北京市&apos;) + address)    #由于本文城市变量为中文，为防止乱码，先用quote进行编码</span><br><span class="line">    uri = url + &apos;?&apos; + &apos;address=&apos; + add  + &apos;&amp;output=&apos; + output + &apos;&amp;ak=&apos; + ak   #传参指定格式，见API文档</span><br><span class="line">    req = urlopen(uri)</span><br><span class="line">    res = req.read().decode() #将其他编码的字符串解码成unicode</span><br><span class="line">    temp = json.loads(res) #对json数据进行解析</span><br><span class="line">    return temp</span><br><span class="line"></span><br><span class="line">file = open(r&apos;D:\demo\tanjinhouse\beijinghouse\point.json&apos;,&apos;w&apos;,encoding=&apos;utf-8&apos;) #建立json数据文件</span><br><span class="line">with open(r&apos;D:\demo\tanjinhouse\beijinghouse\bjrent.csv&apos;, &apos;r&apos;) as csvfile: #打开上一步爬取出来csv保存地址</span><br><span class="line">    reader = csv.reader(csvfile)</span><br><span class="line">    for line in reader: #读取csv里的数据</span><br><span class="line">        try:</span><br><span class="line">            # 忽略第一行</span><br><span class="line">            # if reader.line_num == 1: #由于第一行为变量名称，故忽略掉</span><br><span class="line">            #    continue</span><br><span class="line">            # line是个list，取得所有需要的值</span><br><span class="line">            b = line[1].strip()  # 将第二列addr读取出来并清除不需要字符</span><br><span class="line">            c = line[2].strip(&apos;单价元/平米&apos;)  # 将第三列price读取出来并清除不需要字符</span><br><span class="line">            lng = getlnglat(b)[&apos;result&apos;][&apos;location&apos;][&apos;lng&apos;]  # 采用构造的函数来获取经度</span><br><span class="line">            lat = getlnglat(b)[&apos;result&apos;][&apos;location&apos;][&apos;lat&apos;]  # 获取纬度</span><br><span class="line">            # str_temp = &apos;&#123;&quot;lat&quot;:&apos; + str(lat) + &apos;,&quot;lng&quot;:&apos; + str(lng) + &apos;,&quot;count&quot;:&apos; + str(c) +&apos;&#125;,&apos;</span><br><span class="line">            str_temp = &apos;&#123;&quot;name&quot;:&quot;&apos; + str(b) + &apos;&quot;,&quot;value&quot;:[&apos; + str(lng) + &apos;,&apos; + str(lat) + &apos;,&apos; + str(c) + &apos;]&#125;,&apos;</span><br><span class="line">            # print(str_temp) #也可以通过打印出来，把数据copy到百度热力地图api的相应位置上</span><br><span class="line">            file.write(str_temp)  # 写入文档</span><br><span class="line">        except:</span><br><span class="line">            print(&quot;something wrong about city:&quot; + str(b))   #转换失败即打印错误项目</span><br><span class="line">file.close() #保存</span><br></pre></td></tr></table></figure>
<p><strong>注：百度开发平台的经纬度转换对于免费账户来说每天是有上限的，如果你的转换出现了连续的报错，有可能就是这个原因。</strong></p>
<p>最终保存出来的是<code>json</code>文档。</p>
<h1 id="使用Echarts实现可视化"><a href="#使用Echarts实现可视化" class="headerlink" title="使用Echarts实现可视化"></a>使用Echarts实现可视化</h1><p><code>ECharts</code>是一个免费的，功能强大的图表和可视化库，为您的提供了一种简单的方法，即添加直观，交互式和高度可定制的图表。它是用纯<code>JavaScript</code>编写的，基于<a href="https://github.com/ecomfe/zrender" target="_blank" rel="noopener">zrender</a>，这是一个全新的轻量图表库。</p>
<p>使用前请看：</p>
<ul>
<li><a href="http://echarts.baidu.com/feature.html" target="_blank" rel="noopener">Echarts官方文档</a></li>
</ul>
<p>当你发现看不进去（和我一样），趁早看这个：</p>
<ul>
<li><a href="http://echarts.baidu.com/examples.html" target="_blank" rel="noopener">Echarts官方实例</a></li>
</ul>
<p>ECharts 提供了常规的<a href="http://echarts.baidu.com/option.html#series-line" target="_blank" rel="noopener">折线图</a>，<a href="http://echarts.baidu.com/option.html#series-line" target="_blank" rel="noopener">柱状图</a>，<a href="http://echarts.baidu.com/option.html#series-scatter" target="_blank" rel="noopener">散点图</a>，<a href="http://echarts.baidu.com/option.html#series-pie" target="_blank" rel="noopener">饼图</a>，<a href="http://echarts.baidu.com/option.html#series-candlestick" target="_blank" rel="noopener">K线图</a>，用于统计的<a href="http://echarts.baidu.com/option.html#series-boxplot" target="_blank" rel="noopener">盒形图</a>，用于地理数据可视化的<a href="http://echarts.baidu.com/option.html#series-map" target="_blank" rel="noopener">地图</a>，<a href="http://echarts.baidu.com/option.html#series-heatmap" target="_blank" rel="noopener">热力图</a>，<a href="http://echarts.baidu.com/option.html#series-lines" target="_blank" rel="noopener">线图</a>，用于关系数据可视化的<a href="http://echarts.baidu.com/option.html#series-graph" target="_blank" rel="noopener">关系图</a>，<a href="http://echarts.baidu.com/option.html#series-treemap" target="_blank" rel="noopener">treemap</a>，多维数据可视化的<a href="http://echarts.baidu.com/option.html#series-parallel" target="_blank" rel="noopener">平行坐标</a>，还有用于 BI 的<a href="http://echarts.baidu.com/option.html#series-funnel" target="_blank" rel="noopener">漏斗图</a>，<a href="http://echarts.baidu.com/option.html#series-gauge" target="_blank" rel="noopener">仪表盘</a>。</p>
<p><strong>但这都不是其最强大之处，ECharts最让人惊艳之处在于其图表的超高交互性和可定制性，以及最新的多维可视化图表（GL图表）。</strong></p>
<p>感受一下：</p>
<p>来自<a href="http://gallery.echartsjs.com/explore.html?u=bd-2215764494" target="_blank" rel="noopener">pissang</a>的 <a href="http://gallery.echartsjs.com/editor.html?c=xSyMekmcTx" target="_blank" rel="noopener">Bar3D - Global Population</a>图表（我也是参考了他的GL图表）</p>
<p>ECharts图表的制作过程分为以下几步:</p>
<ul>
<li>首先我们需注册ECharts账号（百度账号）</li>
<li>创建一个新的图表</li>
<li>导入数据</li>
<li>编写图表设置代码（JavaScript）</li>
<li>添加第三方脚本</li>
<li>保存分享</li>
</ul>
<h2 id="制作2D图表"><a href="#制作2D图表" class="headerlink" title="制作2D图表"></a>制作2D图表</h2><p>新建图表后，点击<code>导入数据</code>将我们之前保存的<code>json</code>数据导入</p>
<p>然后编写图表设置代码</p>
<p>这里我直接上代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><span class="line">var uploadedDataURL = &quot;/asset/get/s/data-1503645606962-ryy3JIad-.json&quot;; # 导入的数据</span><br><span class="line"></span><br><span class="line">var t_pos = &#123;</span><br><span class="line">    left: 0,</span><br><span class="line">    top: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var last_point = [0, 0];</span><br><span class="line">var counter = 0;</span><br><span class="line">myChart.showLoading();</span><br><span class="line">myChart.setOption(option = &#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">        x: &apos;right&apos;,</span><br><span class="line">        text: &quot;北京房价可视化&quot;,</span><br><span class="line">        subtext: &apos;数据提取自链家 By--Hahajoker&apos;,</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            color: &apos;#fff&apos;,</span><br><span class="line">            fontSize: 30</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    tooltip: &#123;</span><br><span class="line">        trigger: &apos;item&apos;,</span><br><span class="line">        transitionDuration: 0,</span><br><span class="line">        position: function(point, params, dom, rect, size) &#123;</span><br><span class="line">            var least_area = 20;</span><br><span class="line">            var offset_x = 30; /* 相对于point的偏移 */</span><br><span class="line">            var offset_y = 30;</span><br><span class="line"></span><br><span class="line">            /* last_point的least_area范围内不会产生新的t_pos */</span><br><span class="line">            if (Math.abs(point[0] - last_point[0]) &lt; least_area &amp;&amp;</span><br><span class="line">                Math.abs(point[1] - last_point[1]) &lt; least_area &amp;&amp;</span><br><span class="line">                counter &gt;= 2) &#123;</span><br><span class="line">                return t_pos;</span><br><span class="line">            &#125;</span><br><span class="line">            if (Math.abs(point[0] - last_point[0]) &gt;= least_area ||</span><br><span class="line">                Math.abs(point[1] - last_point[1]) &gt;= least_area) &#123;</span><br><span class="line">                counter = 0;</span><br><span class="line">            &#125;</span><br><span class="line">            counter += 1;</span><br><span class="line">            /* 使real_x,real_y有数值 */</span><br><span class="line">            if (counter == 1) &#123;</span><br><span class="line">                t_pos.left = point[0] + offset_x;</span><br><span class="line">                t_pos.top = point[1] + offset_y;</span><br><span class="line">                last_point = [point[0], point[1]];</span><br><span class="line">            &#125;</span><br><span class="line">            /* 此处进行修正tooltip的位置 */</span><br><span class="line">            if (counter == 2) &#123;</span><br><span class="line">                var real_x = $(dom).position().left;</span><br><span class="line">                var real_y = $(dom).position().top;</span><br><span class="line">                t_pos.left += point[0] - real_x + offset_x;</span><br><span class="line">                t_pos.top += point[1] - real_y + offset_y;</span><br><span class="line">            &#125;</span><br><span class="line">            return t_pos;</span><br><span class="line">        &#125;,</span><br><span class="line">        formatter: function(params) &#123;</span><br><span class="line">            return params.name + &apos; : &apos; + params.value[2] + &apos;元/平方米&apos;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    animation: false,</span><br><span class="line">    bmap: &#123;</span><br><span class="line">        center: [116.39, 39.90],             # 地图中心坐标</span><br><span class="line">        zoom: 11,                            # 地图大小</span><br><span class="line">        roam: true,</span><br><span class="line">        mapStyle: &#123;</span><br><span class="line">            &apos;styleJson&apos;: [&#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;water&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;all&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#021019&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;highway&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry.fill&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#000000&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;highway&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry.stroke&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#147a92&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;arterial&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry.fill&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#000000&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;arterial&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry.stroke&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#0b3d51&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;local&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#000000&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;land&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;all&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#08304b&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;railway&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry.fill&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#000000&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;railway&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry.stroke&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#08304b&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;subway&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;lightness&quot;: -70</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;building&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry.fill&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#000000&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;all&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;labels.text.fill&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#857f7f&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;all&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;labels.text.stroke&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#000000&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;building&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#022338&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;green&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;geometry&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#062032&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;boundary&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;all&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#1e1c1c&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                &quot;featureType&quot;: &quot;manmade&quot;,</span><br><span class="line">                &quot;elementType&quot;: &quot;all&quot;,</span><br><span class="line">                &quot;stylers&quot;: &#123;</span><br><span class="line">                    &quot;color&quot;: &quot;#022338&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    visualMap: &#123;</span><br><span class="line">        //type: &apos;piecewise&apos;,</span><br><span class="line">        top: &apos;5%&apos;,</span><br><span class="line">        splitNumber: 5,</span><br><span class="line">        min: 0,</span><br><span class="line">        max: 10,</span><br><span class="line">        seriesIndex: 0,</span><br><span class="line">        calculable: true,</span><br><span class="line">        inRange: &#123;</span><br><span class="line">            color: [&apos;green&apos;, &apos;#eac736&apos;, &apos;#d94e5d&apos;]</span><br><span class="line">        &#125;,</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            color: &apos;#fff&apos;,</span><br><span class="line">            formatter: &apos;aaaa&#123;value&#125;bbbb&#123;value2&#125;&apos; // 范围标签显示内容。</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    series: [&#123;</span><br><span class="line">        type: &apos;scatter&apos;,</span><br><span class="line">        coordinateSystem: &apos;bmap&apos;,</span><br><span class="line">        symbolSize: 8,</span><br><span class="line">        label: &#123;</span><br><span class="line">            normal: &#123;</span><br><span class="line">                show: false</span><br><span class="line">            &#125;,</span><br><span class="line">            emphasis: &#123;</span><br><span class="line">                show: false</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br><span class="line">if (!app.inNode) &#123;</span><br><span class="line">    // 添加百度地图插件</span><br><span class="line">    var bmap = myChart.getModel().getComponent(&apos;bmap&apos;).getBMap();</span><br><span class="line">    bmap.addControl(new BMap.MapTypeControl());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if (option &amp;&amp; typeof option === &quot;object&quot;) &#123;</span><br><span class="line">    myChart.setOption(option, true);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">;</span><br><span class="line">$.getJSON(uploadedDataURL, function(linedata) &#123;</span><br><span class="line"></span><br><span class="line">    myChart.hideLoading();</span><br><span class="line">    myChart.setOption(&#123;</span><br><span class="line"></span><br><span class="line">        visualMap: &#123;</span><br><span class="line">            max: linedata[1]</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">            data: linedata[0]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>在这个图表中我们引入了两个第三方脚本url：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://api.map.baidu.com/api?v=2.0&amp;ak=ZUONbpqGBsYGXNIYHicvbAbM</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dep/echarts/latest/extension/bmap.min.js</span><br></pre></td></tr></table></figure>
<p>在<code>脚本</code>选项中将他们依次添加</p>
<p>点击<code>刷新</code>即可生成图表：</p>
<p><a href="http://gallery.echartsjs.com/preview.html?c=xH1_0oxh_b&amp;v=5" target="_blank" rel="noopener">点此预览</a></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/2Dbeijingershoufang.gif" alt="img"></p>
<h2 id="制作3D图表"><a href="#制作3D图表" class="headerlink" title="制作3D图表"></a>制作3D图表</h2><p>新建图表后，点击<code>导入数据</code>将我们之前保存的<code>json</code>数据导入</p>
<p>然后编写图表设置代码</p>
<p>我的图表代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">var uploadedDataURL = &quot;/asset/get/s/data-1503645606962-ryy3JIad-.json&quot;;   #导入数据</span><br><span class="line"></span><br><span class="line">mapboxgl.accessToken = mapboxglToken;</span><br><span class="line"></span><br><span class="line">myChart.showLoading();</span><br><span class="line"></span><br><span class="line">$.getJSON(uploadedDataURL, function(linedata) &#123;</span><br><span class="line">    </span><br><span class="line">    myChart.hideLoading();</span><br><span class="line">    </span><br><span class="line">    myChart.setOption(&#123;</span><br><span class="line"></span><br><span class="line">        visualMap: &#123;</span><br><span class="line">            show: false,</span><br><span class="line">            calculable: true,</span><br><span class="line">            realtime: false,</span><br><span class="line">            inRange: &#123;</span><br><span class="line">                color: [&apos;#313695&apos;, &apos;#4575b4&apos;, &apos;#74add1&apos;, &apos;#abd9e9&apos;, &apos;#e0f3f8&apos;, &apos;#ffffbf&apos;, &apos;#fee090&apos;, &apos;#fdae61&apos;, &apos;#f46d43&apos;, &apos;#d73027&apos;, &apos;#a50026&apos;]</span><br><span class="line">            &#125;,</span><br><span class="line">            outOfRange: &#123;</span><br><span class="line">                colorAlpha: 0</span><br><span class="line">            &#125;,</span><br><span class="line">            max: linedata[1]</span><br><span class="line">        &#125;,</span><br><span class="line">        mapbox: &#123;</span><br><span class="line">            center: [116.39, 39.90],           #地图中心坐标</span><br><span class="line">            zoom: 10,</span><br><span class="line">            pitch: 50,</span><br><span class="line">            bearing: -10,</span><br><span class="line">            style: &apos;mapbox://styles/mapbox/light-v9&apos;,</span><br><span class="line">            boxHeight: 50,</span><br><span class="line">            // altitudeScale: 3e2,</span><br><span class="line">            postEffect: &#123;</span><br><span class="line">                enable: true,</span><br><span class="line">                SSAO: &#123;</span><br><span class="line">                    enable: true,</span><br><span class="line">                    radius: 2,</span><br><span class="line">                    intensity: 1.5</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            light: &#123;</span><br><span class="line">                main: &#123;</span><br><span class="line">                    intensity: 1,</span><br><span class="line">                    shadow: true,</span><br><span class="line">                    shadowQuality: &apos;high&apos;</span><br><span class="line">                &#125;,</span><br><span class="line">                ambient: &#123;</span><br><span class="line">                    intensity: 0.</span><br><span class="line">                &#125;,</span><br><span class="line">                ambientCubemap: &#123;</span><br><span class="line">                    texture: &apos;/asset/get/s/data-1491896094618-H1DmP-5px.hdr&apos;,</span><br><span class="line">                    exposure: 1,</span><br><span class="line">                    diffuseIntensity: 0.5</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">            type: &apos;bar3D&apos;,</span><br><span class="line">            shading: &apos;realistic&apos;,</span><br><span class="line">            coordinateSystem: &apos;mapbox&apos;,</span><br><span class="line">            barSize: 0.2,</span><br><span class="line">            silent: true,</span><br><span class="line">            data: linedata[0]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>在这个图表中我们引入了三个第三方脚本url：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://api.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.js</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://echarts.baidu.com/resource/echarts-gl-latest/mapboxgl-token.js</span><br></pre></td></tr></table></figure>
<p>在<code>脚本</code>选项中将他们依次添加</p>
<p>点击<code>刷新</code>即可生成图表：</p>
<p><a href="http://gallery.echartsjs.com/preview.html?c=xSkIekbnuW&amp;v=2" target="_blank" rel="noopener">点此预览</a></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/Xpath%E7%88%AC%E5%8F%96%E9%93%BE%E5%AE%B6%E4%BA%8C%E6%89%8B%E6%88%BF%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%88%A9%E7%94%A8Echarts%E5%8F%AF%E8%A7%86%E5%8C%96.gif" alt="img"></p>
<p>在这里，我本来在考虑看能不能有方法将3D图表的三维数据导出，这样我就能利用3D打印将这个图表实体化了打印出来了，可惜Echarts并没有给出这样的接口，如果你们有好的建议请告诉我，不胜感激。</p>
]]></content>
      
        <categories>
            
            <category> 编程 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> python </tag>
            
            <tag> 爬虫 </tag>
            
            <tag> xpath </tag>
            
            <tag> javascript </tag>
            
            <tag> echarts </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[基于mimics的椎弓根钉导板建立]]></title>
      <url>/2017/10/27/%E5%9F%BA%E4%BA%8Emimics%E7%9A%84%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BF%E5%BB%BA%E7%AB%8B/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近一个神外的朋友强烈推荐我做一些关于骨科导板这方面的模型。考虑到目前利用<code>mimics</code>进行术前导板设计和规划的需求越来越多，经过了一段时间的摸索，在这里写一个<code>椎弓根钉导板</code>的建立方法，供大家参考，欢迎讨论交流和各种指正。</p>
<a id="more"></a>
<hr>
<h1 id="建立目标骨骼mask（C1-C6）"><a href="#建立目标骨骼mask（C1-C6）" class="headerlink" title="建立目标骨骼mask（C1-C6）"></a>建立目标骨骼mask（C1-C6）</h1><p>本次建模的目标是颈椎C4的椎弓根钉导板</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%9B%BE%E7%89%871.png" alt="img"></p>
<p>确定目标骨骼<code>阈值区间</code>，<code>区域增长</code>，<code>填充孔隙</code>后<code>分割</code>枕骨和颈1（懒癌犯了…..其中细节我就不在这里说了）</p>
<p>分割后并生成3D：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/2.png" alt="img"><strong>整个的建模过程中要注意：我们不要使用<code>smooth</code>或者<code>warp</code>等功能修改骨骼表面形态，无论是mask还是生成3D后。因为我们要保持骨骼表面最真实的形态用以生成相应导板。</strong></p>
<h1 id="制作导板基底"><a href="#制作导板基底" class="headerlink" title="制作导板基底"></a>制作导板基底</h1><h2 id="利用Morphology功能生成导板壁厚"><a href="#利用Morphology功能生成导板壁厚" class="headerlink" title="利用Morphology功能生成导板壁厚"></a>利用Morphology功能生成导板壁厚</h2><p>选择颈椎mask</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BFC43.png" alt="img"></p>
<p>点击Morphology工具</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/mimics%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BF4.png" alt="img"></p>
<p>在<code>Morphology</code>工具条中选择<code>Dilat</code>（扩张），扩张系数选择5，新mask命名“C4导板”，然后<code>Apply</code>。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/5.png" alt="img"></p>
<p>点击<code>Apply</code>后可以看到生成的蓝色部分，可作为导板外壁，后期我们用<code>bool</code>减去里面的颈椎即可得到导板。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/6.png" alt="img"></p>
<h2 id="修剪导板"><a href="#修剪导板" class="headerlink" title="修剪导板"></a>修剪导板</h2><p>在<code>Edit mask in 3D</code>模式下打开C4导板mask，将导板的外形修出。</p>
<p><strong>注意，在这里要考虑导板的可装配性和定位性。模板必须是手术中能暴露到骨面的部分，否则术中无法放置。面积一般不小于4平方厘米，并且有骨性突起最好。我们尽量选择大且突出的特征进行包覆。</strong></p>
<p>另外，保留导板下和颈椎重合的多余部分，方便后期布尔减生成接触面。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/mimicszhuigonggendingdaoban7.png" alt="img"></p>
<h2 id="在3-matic下平滑导板"><a href="#在3-matic下平滑导板" class="headerlink" title="在3-matic下平滑导板"></a>在3-matic下平滑导板</h2><p>将修剪后的导板<code>Calculate 3D</code>（生成3D模型）并导入<code>3-matic</code>。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BFC48.png" alt="img"></p>
<p>在3-matic中用<code>smooth</code>工具进行平滑。</p>
<p>平滑前：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/mimics%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BF9.png" alt="img"></p>
<p>N次平滑后：（是不是好看不少？）</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/mimics%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BF10.png" alt="img"></p>
<p>然后将平滑后的导板导回<code>mimics</code>。（快捷键Ctrl+C，Ctrl+V）</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/11.png" alt="img"></p>
<p>看看这颜值！！Ok，导板的基底就完成了，下面就是钉孔的设计了。</p>
<h1 id="设计骨钉导向套"><a href="#设计骨钉导向套" class="headerlink" title="设计骨钉导向套"></a>设计骨钉导向套</h1><p>椎弓根钉之所以需要导板的辅助是因为这个过程对其精准度有极高的要求，骨钉穿入偏差1-2mm就有可能损伤中间的脊髓，造成严重后果。骨钉导向器可以帮助医生在术前规划好入钉路径，减少术中风险。</p>
<p>所以在设计引导孔之前我们要先设计好骨钉的穿刺路径</p>
<h2 id="设计钉道"><a href="#设计钉道" class="headerlink" title="设计钉道"></a>设计钉道</h2><p>在横断位图上找到C4椎弓根，找到椎弓根直径最宽层面</p>
<p>利用<code>Madcad</code>工具栏下<code>cylinder</code>（圆柱）工具绘制椎孔（三点绘制：起点、终点、半径）</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/12.png" alt="img"><strong>注意：这里入钉角度和钉型要与主刀医生沟通，严格按照其手术计划设计，为了保证钉子的稳固性，神外医生一般会选择直径3mm以上的钉子插入，所以下图的圆柱半径一般不小于1.5mm</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BFC413.png" alt="img"></p>
<p>同时我们也可在矢状位上调整钉子的俯仰角度，一般的椎弓根钉都是先两侧旁开再向上有个仰角。</p>
<p>建议：圆柱在骨外需留够3cm左右的长度</p>
<p>两侧都绘制完成后：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/14.png" alt="img"></p>
<p>在<code>CAD Objects</code>栏目中我们可以看见刚才创建的钉孔</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BFC415.png" alt="img"></p>
<h2 id="设计导向孔"><a href="#设计导向孔" class="headerlink" title="设计导向孔"></a>设计导向孔</h2><p>思路：将钉孔复制一下，扩大其中一组的直径，再布尔减去原来的钉孔即可得到导向套</p>
<p>首先在<code>CAD Objects</code>栏目中选择钉孔右击，利用<code>Duplicat</code>功能将两个钉孔复制一份，并重新命名修改颜色方便区分</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BFC416.png" alt="img"></p>
<p>修改直径：</p>
<p><strong>这里要注意，如果你的模型要3D打印，为满足3D打印的要求（壁厚不能低于1mm），导向套的半径至少要比钉孔半径扩大1mm</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BFC417.png" alt="img"></p>
<p>结果为：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/mimics%E6%A4%8E%E5%BC%93%E6%A0%B9%E9%92%89%E5%AF%BC%E6%9D%BF18.png" alt="img"></p>
<p>这时我们发现导向套太长了，可利用<code>simulation</code>–&gt;<code>cut</code>–&gt;<code>Orthogonal to Screen</code>工具切割并删除多余部分</p>
<p><strong>注意：切割时要画出一个封闭线框，最后一个点一定要双击，以封闭线框。</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/19.png" alt="img"></p>
<p>导向套设计完成。</p>
<h1 id="布尔并生成导板"><a href="#布尔并生成导板" class="headerlink" title="布尔并生成导板"></a>布尔并生成导板</h1><p>布尔工具</p>
<p><code>simulation</code>–&gt;<code>boolean</code></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/20.png" alt="img"></p>
<p>从上至下：减，加，相交</p>
<p><strong>注意：为了防止混乱，每一步结束后都要合理命名，以及删除无用项目。</strong></p>
<p>最后的几步：</p>
<ul>
<li>1.合并所有导向套</li>
</ul>
<ul>
<li>2.用合并后的导向套依次减去钉孔1和钉孔2</li>
</ul>
<ul>
<li>3.合并导板基底和导向套。</li>
</ul>
<ul>
<li>4.整体导向器再减去原始颈椎模型。</li>
</ul>
<ul>
<li>5.导入3-matic中去除掉零星的小碎渣</li>
</ul>
<p>ok，导板的建立就完成了，来看看最终效果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/21.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171208113142.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171208113510.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171208113532.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171208113632.png" alt="img"></p>
<h2 id="聊聊关于其他的建模方式"><a href="#聊聊关于其他的建模方式" class="headerlink" title="聊聊关于其他的建模方式"></a>聊聊关于其他的建模方式</h2><p>之前看资料的时候发现了一个问题，很多的资料上都采用的都是：在mask的层面上进行合并和加减，最后再生成3D的策略，在这里我并不认同。</p>
<p>Mask的相减是基于体素的减法，精度比较低，出来的导板往往与骨的接触的表面较粗糙，这时再生成3D平滑处理的话就肯定失真。所以我并不推荐这种做法，我现在采用的是生成3D后再bool的方法。</p>
<p>欢迎讨论交流和各种指正。</p>
<h1 id="关于3D打印"><a href="#关于3D打印" class="headerlink" title="关于3D打印"></a>关于3D打印</h1><p>这个模型我最后并没有3D打印，所以我没图发给你们，但在这里我可以给出一些建议：</p>
<p>导板在术中需要直接接触患者创面，最好采用专用的<code>医用陶瓷材料</code>打印，这种材料属于医用二级材料可直接高温消毒，比较安全，打印方式为<code>SLS（选择性激光烧结）</code>，缺点是比较贵，赶得上羟基磷灰石了T_T。</p>
<p>有很多人问我用光敏树脂打印行不行。<code>光固化打印（SLA）</code>虽然成型快精度高，但是超过55℃即发生形变，达到80℃你就可以任意捏它了。而且，光敏树脂是出了名的不耐腐蚀，所以光敏树脂类3D打印术中导板是肯定不行的。</p>
<p>不过，你可以用光敏树脂打印的导板动物实验啊！我就用过，还不错！</p>
<p>－－－－－－－－－－－－－<strong>下图可能引起不适！！！圣母请自觉退散。。。</strong>－－－－－－－－－－－</p>
<p>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊<br>＊</p>
<p>－－－－－－－－－－－－－－－－－－－<strong>我是邪恶的分割线</strong>－－－－－－－－－－－－－－－－－－－</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/23.png" alt="img"></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20171208120130_%E7%9C%8B%E5%9B%BE%E7%8E%8B.jpg" alt="img"></p>
<p>最后，来一张上台前的自拍美照。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/22.png" alt="img"></p>
]]></content>
      
        <categories>
            
            <category> 3D打印 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 3D打印 </tag>
            
            <tag> mimics </tag>
            
            <tag> 导板 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[习大大十九大讲话词云分析]]></title>
      <url>/2017/10/20/%E4%B9%A0%E5%A4%A7%E5%A4%A7%E5%8D%81%E4%B9%9D%E5%A4%A7%E8%AE%B2%E8%AF%9D%E8%AF%8D%E4%BA%91%E5%88%86%E6%9E%90/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>10月18日上午9:00，中国共产党第十九次全国代表大会开幕会在人民大会堂大礼堂举行，习近平总书记代表十八届中央委员会向大会作了报告。报告全文3万多字，讲话时长3个多小时，铿锵有力，振奋人心。</p>
<p>会后，本着认证学习并贯彻十九大精神的目的，本人使用用<code>jieba</code>+<code>wordcloud</code>对习总书记在十九大开幕式上的发言做了词云分析，以作为学习资料。</p>
<a id="more"></a>
<hr>
<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul>
<li>Python 3.6.1</li>
<li>Windows 7  64位</li>
<li>PyCharm 2017.1.4</li>
</ul>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>首先获取分析文本，然后使用<code>jieba</code>包进行分词，最后用<code>wordcloud</code>包生成词云图。</p>
<h1 id="获取分析文本"><a href="#获取分析文本" class="headerlink" title="获取分析文本"></a>获取分析文本</h1><p>讲话当天很多网站便刊登了报告全文，在这里我选择了其中公信力较强的<a href="http://www.china.com.cn/" target="_blank" rel="noopener">中国网</a>发表的文章<a href="http://www.china.com.cn/cppcc/2017-10/18/content_41752399.htm" target="_blank" rel="noopener">《中共十九大开幕，习近平代表十八届中央委员会作报告（直播全文）》</a>作为文本来源</p>
<p>首先复制文本并转存为<code>习近平十九大报告全文.txt</code>文件，放入根目录下待处理。</p>
<h1 id="jieba分词"><a href="#jieba分词" class="headerlink" title="jieba分词"></a>jieba分词</h1><p>“结巴”中文分词：做最好的 Python 中文分词组件。</p>
<p><a href="https://github.com/fxsjy/jieba" target="_blank" rel="noopener">jieba官方文档查看点这里</a></p>
<p>“Jieba” (Chinese for “to stutter”) Chinese text segmentation: built to be the best Python Chinese word segmentation module.</p>
<ul>
<li><em>Scroll down for English documentation.</em></li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>代码对 Python 2/3 均兼容</p>
<p>安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install jieba</span><br></pre></td></tr></table></figure>
<h2 id="开始分词"><a href="#开始分词" class="headerlink" title="开始分词"></a>开始分词</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import jieba</span><br><span class="line"></span><br><span class="line">text = open(u&apos;习近平十九大报告全文.txt&apos;,&apos;r&apos;).read()  #以只读模式打开.txt</span><br><span class="line">wordlist_after_jieba =jieba.cut(text,cut_all=True)</span><br><span class="line">wl_space_split =&quot; &quot;.join(wordlist_after_jieba)</span><br></pre></td></tr></table></figure>
<h1 id="wordcloud词云"><a href="#wordcloud词云" class="headerlink" title="wordcloud词云"></a>wordcloud词云</h1><p>构建词云的方法很多, 但是个人觉得python的wordcloud包功能最为强大,可以自定义图片.<br>官网: <a href="https://amueller.github.io/word_cloud/" target="_blank" rel="noopener">https://amueller.github.io/word_cloud/</a><br>github: <a href="https://github.com/amueller/word_cloud" target="_blank" rel="noopener">https://github.com/amueller/word_cloud</a></p>
<h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><p>方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install wordcloud</span><br></pre></td></tr></table></figure>
<p><strong>如果使用pip安装时出现以下错误</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/20170629180712520.jpg" alt="这里写图片描述"></p>
<p><strong>解决方案</strong></p>
<p>在<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#wordcloud" target="_blank" rel="noopener">http://www.lfd.uci.edu/~gohlke/pythonlibs/#wordcloud</a>下载<br>wrapt‑1.10.10‑cp36‑cp36m‑win_amd64.whl文件,然后到本文件所在目录执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install wrapt‑1.10.10‑cp36‑cp36m‑win_amd64.whl</span><br></pre></td></tr></table></figure>
<p>即可安装。</p>
<h2 id="生成词云"><a href="#生成词云" class="headerlink" title="生成词云"></a>生成词云</h2><p>首先我们把想要设置的词云背景图片存入根目录下（在这里我采用的是党徽）</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171210104456.png" alt="img"></p>
<p>生成词云的代码，具体逻辑看代码注释：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import os</span><br><span class="line">from wordcloud import WordCloud, ImageColorGenerator</span><br><span class="line">import numpy as np</span><br><span class="line">import PIL.Image as Image</span><br><span class="line"></span><br><span class="line"># 获取当前文件路径</span><br><span class="line"># __file__为当前文件，在ide中运行时会报错，可改为</span><br><span class="line"># d = os.path.dirname(&apos;.&apos;)</span><br><span class="line">d = os.path.dirname(__file__)</span><br><span class="line"># 设置背景图片</span><br><span class="line">alice_coloring = np.array(Image.open(os.path.join(d, &quot;党徽.jpg&quot;)))</span><br><span class="line"># 词云参数设置</span><br><span class="line"># win的字体在c:/windows／Fonts中</span><br><span class="line">my_wordcloud = WordCloud(font_path=&quot;HYQiHei-65J.ttf&quot;, # 设置字体</span><br><span class="line">                         background_color=&quot;white&quot;, # 背景颜色</span><br><span class="line">                         max_words=2000, # 词云显示的最大词数</span><br><span class="line">                         mask=alice_coloring, # 设置背景图片</span><br><span class="line">                         max_font_size=70, # 字体最大值</span><br><span class="line">                         random_state=42, # 随机程度</span><br><span class="line">                         ).generate(wl_space_split) # 生成词云, 可以用generate输入全部文本</span><br><span class="line"># 从背景图片生成颜色值</span><br><span class="line">image_colors = ImageColorGenerator(alice_coloring)</span><br><span class="line"># 采用颜色值生成图片</span><br><span class="line">plt.imshow(my_wordcloud.recolor(color_func=image_colors))</span><br><span class="line"></span><br><span class="line">plt.imshow(my_wordcloud)</span><br><span class="line">plt.axis(&quot;off&quot;)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">my_wordcloud.to_file(os.path.join(d, &quot;nineteen_cloud.png&quot;)) #保存图片</span><br></pre></td></tr></table></figure>
<h1 id="结果展示"><a href="#结果展示" class="headerlink" title="结果展示"></a>结果展示</h1><p>生成的过程可能较慢（我的笔记本大概花了1mins）中间会生成一个预览窗口，关闭后才会将.png保存出来</p>
<p>最后出来的效果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/nineteen_cloud.png" alt="img"></p>
<p><strong>注：关于图中出现的错误分词可在jieba分词的设置中逐个忽略掉。</strong></p>
<p>最后，还是那句话：认证学习贯彻党的十九大精神，把学习作为自己的重要任务，不断在汲取各方面的知识，并在实践中不断磨练自己！（认真脸）</p>
]]></content>
      
        <categories>
            
            <category> 编程 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[申请英国签证]]></title>
      <url>/2017/10/12/%E7%94%B3%E8%AF%B7%E8%8B%B1%E5%9B%BD%E7%AD%BE%E8%AF%81/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>明年2月份打算和家人一起来次欧洲自由行，计划中有5天的时间在英国伦敦逛吃，于是就申请了英国的签证，在这里我就把我从资料准备到递交签证的整个流程做下记录，积累下经验，方便以后签证能安排得更加完善。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/u=1572814728,3310672166&amp;fm=27&amp;gp=0.jpg" alt="img"></p>
<a id="more"></a>
<hr>
<p>总体来说我英签的整个流过程还是比较顺利的，整体资料的准备到拿到签证花了我3周的时间（现在来看，你若有一个清晰的框架，其实只需要1周就可以完成）</p>
<p>本次申请英国签证我是通过英国签证中心办理的</p>
<p>如果你想以思维导图形式观看整个申请流程请点这里：<a href="https://www.processon.com/view/link/59c107aae4b01b5a4438d552" target="_blank" rel="noopener">英国签证思维导图</a></p>
<p>#确定你的签证类型</p>
<p>访问 <a href="https://www.gov.uk/check-uk-visa" target="_blank" rel="noopener">英国签证及移民局网站 </a>并且 通过<a href="https://www.gov.uk/check-uk-visa" target="_blank" rel="noopener">Access UK</a>来确定你的签证类型。</p>
<p>像我这次的短期旅游就属于<a href="https://www.gov.uk/standard-visitor-visa" target="_blank" rel="noopener">标准访客签证</a></p>
<h1 id="准备材料"><a href="#准备材料" class="headerlink" title="准备材料"></a>准备材料</h1><p>根据你所对应的签证类型准备相应材料</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%87%86%E5%A4%87%E6%9D%90%E6%96%99.png" alt="img"></p>
<h1 id="申请流程"><a href="#申请流程" class="headerlink" title="申请流程"></a>申请流程</h1><h2 id="在线申请"><a href="#在线申请" class="headerlink" title="在线申请"></a>在线申请</h2><ul>
<li>访问<a href="">www.gov.uk/apply-uk-visa</a> 在线提交签证申请表</li>
<li>支付签证申请费并预约签证申请中心</li>
<li>收到一封包含有您的申请号码（即“GWF参考号码”）的电子邮件。请记录好这个号码。</li>
</ul>
<h3 id="在线填写签证申请表"><a href="#在线填写签证申请表" class="headerlink" title="在线填写签证申请表"></a>在线填写签证申请表</h3><ul>
<li>签证申请表一经提交便无法修改所填内容。</li>
<li>您完成在线申请后，需要打印申请表格并签名。</li>
</ul>
<h3 id="预约签证申请中心"><a href="#预约签证申请中心" class="headerlink" title="预约签证申请中心"></a>预约签证申请中心</h3><ul>
<li>预约日期必须在您完成并提交在线申请表之后的90天内。</li>
</ul>
<h3 id="在线支付签证费"><a href="#在线支付签证费" class="headerlink" title="在线支付签证费"></a>在线支付签证费</h3><ul>
<li>您可以访问 <a href="https://visa-fees.homeoffice.gov.uk/" target="_blank" rel="noopener">https://visa-fees.homeoffice.gov.uk/</a> 查询签证申请费</li>
<li>必需使用人民币通过VISA或万事达（Mastercard）信用卡或者借记卡在线支付。</li>
</ul>
<h2 id="前往签证申请中心"><a href="#前往签证申请中心" class="headerlink" title="前往签证申请中心"></a>前往签证申请中心</h2><h3 id="材料注意事项"><a href="#材料注意事项" class="headerlink" title="材料注意事项"></a>材料注意事项</h3><ul>
<li>提交的所有文件需为 A4 尺寸。</li>
<li>请将所有非A4尺寸的文件使用A4尺寸的纸张进行复印。这也包括您递交的旧护照页。</li>
<li>文件不可使用订书钉或夹子装订。</li>
<li>用条形码分类纸将不同类型的文件进行分类。例如，资金类文件和英语语言证明。使用带有操作说明的条形码分类纸将文件进行分类是申请人的责任。</li>
</ul>
<h2 id="领取护照"><a href="#领取护照" class="headerlink" title="领取护照"></a>领取护照</h2><h3 id="自提or快递or代领"><a href="#自提or快递or代领" class="headerlink" title="自提or快递or代领"></a>自提or快递or代领</h3><ul>
<li>代领人领取材料时需出示您签名的委托书、您的收据以及他们本人的身份证明。</li>
</ul>
<h3 id="关于时间"><a href="#关于时间" class="headerlink" title="关于时间"></a>关于时间</h3><ul>
<li><p>非定居类申请标准服务15个工作日</p>
</li>
<li><p>24小时超级优先服务* 24小时（1个工作日）</p>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 旅行 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 英国 </tag>
            
            <tag> 签证 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[3D打印材料属性一览表]]></title>
      <url>/2017/08/22/3D%E6%89%93%E5%8D%B0%E6%9D%90%E6%96%99%E5%B1%9E%E6%80%A7%E4%B8%80%E8%A7%88%E8%A1%A8/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近接到了很多关于3D打印耗材选择的问询。大家不清楚的无非以下几点：1.不同3D打印技术分别可以选择哪几种耗材 2.不同3D打印耗材的强度、精度、表面、熔点如何。</p>
<p>在这里我就针对 FDM、SLA、DLP、3DP、SLS、SLM这几种打印技术，分别为大家介绍他们的常用耗材以及耗材的材料属性，方便大家快速查阅。</p>
<a id="more"></a>
<hr>
<h1 id="3D打印材料属性一览表"><a href="#3D打印材料属性一览表" class="headerlink" title="3D打印材料属性一览表"></a>3D打印材料属性一览表</h1><table>
<thead>
<tr>
<th><strong>材料</strong></th>
<th><strong>型号</strong></th>
<th><strong>价格</strong></th>
<th><strong>精度</strong></th>
<th><strong>最小细节</strong></th>
<th><strong>推荐壁厚</strong></th>
<th><strong>表面</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>PLA</td>
<td>NA</td>
<td>0.8</td>
<td>0.2</td>
<td>0.4</td>
<td>0.8mm以上</td>
<td>有层纹</td>
</tr>
<tr>
<td>普通光敏树脂</td>
<td>9000</td>
<td>1.7</td>
<td>0.1</td>
<td>0.3</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>高精度树脂</td>
<td>128</td>
<td>3</td>
<td>0.1</td>
<td>0.3</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>半透明树脂</td>
<td>11122</td>
<td>6</td>
<td>0.1</td>
<td>0.3</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>全透明树脂</td>
<td>11122</td>
<td>8</td>
<td>0.1</td>
<td>0.3</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>红蜡</td>
<td>RC90</td>
<td>35</td>
<td>0.017</td>
<td>0.1</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>蓝蜡</td>
<td>3Zmodel</td>
<td>60</td>
<td>0.017</td>
<td>0.1</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>耐高温树脂（70度）</td>
<td>8000</td>
<td>6</td>
<td>0.1</td>
<td>0.3</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>耐高温树脂（100度）</td>
<td>8001</td>
<td>12</td>
<td>0.1</td>
<td>0.3</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>耐高温树脂（140度）</td>
<td>8002</td>
<td>15</td>
<td>0.1</td>
<td>0.3</td>
<td>具体看模型</td>
<td>光滑</td>
</tr>
<tr>
<td>尼龙</td>
<td>PA12</td>
<td>8</td>
<td>0.15</td>
<td>0.5</td>
<td>1mm以上</td>
<td>轻度磨砂</td>
</tr>
<tr>
<td>尼龙</td>
<td>PA1172</td>
<td>8</td>
<td>0.15</td>
<td>0.5</td>
<td>1mm以上</td>
<td>轻度磨砂</td>
</tr>
<tr>
<td>尼龙加玻纤</td>
<td>PA12+30%GF</td>
<td>9</td>
<td>0.15</td>
<td>0.5</td>
<td>1mm以上</td>
<td>轻度磨砂</td>
</tr>
<tr>
<td>不锈钢</td>
<td>316L</td>
<td>15</td>
<td>0.15</td>
<td>0.5</td>
<td>1mm以上</td>
<td>轻度磨砂</td>
</tr>
<tr>
<td>钛合金</td>
<td>TI6Al4V</td>
<td>45</td>
<td>0.15</td>
<td>0.5</td>
<td>1mm以上</td>
<td>轻度磨砂</td>
</tr>
</tbody>
</table>
<p><strong>精度：</strong>指打印物品与模型比较的准确程度，跟层厚设置、定位精度和光斑精度有关系，还可能与打印物品的大小，以及打印完成时间有关。</p>
<p><strong>最小细节：</strong>最小打印细节主要由3D打印机的分辨率决定，如果模型上的特征小于最小细节，就有可能造成打印成品细节的丢失。</p>
<p><strong>壁厚：</strong>3D打印的模型必须是有厚度的实体，为保证模型结构强度，3D打印有最小壁厚限制。</p>
<h1 id="FDM打印耗材"><a href="#FDM打印耗材" class="headerlink" title="FDM打印耗材"></a>FDM打印耗材</h1><h2 id="PLA塑料"><a href="#PLA塑料" class="headerlink" title="PLA塑料"></a>PLA塑料</h2><p>材料属性</p>
<ul>
<li><p>工艺</p>
<p>FDM(塑料熔融沉积)</p>
</li>
<li><p>精度</p>
<p>0.10mm</p>
</li>
<li><p>最小细节</p>
<p>0.40</p>
</li>
<li><p>推荐壁厚</p>
<p>0.80</p>
</li>
<li><p>表面质量</p>
<p>有层纹</p>
</li>
<li><p>特点</p>
<p>PLA塑料 价格低 强度高 环保材料 成型尺寸大 适合对精度和完成表面要求不高的物品</p>
</li>
<li><p>适合做</p>
<p>低价原型制作、机械零件原型 大型雕像、艺术品模种</p>
</li>
<li><p>不适合做</p>
<p>复杂设计 对精度要求较高件</p>
</li>
</ul>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/05567338305609715.png" alt="img"></p>
<h1 id="SLA打印耗材"><a href="#SLA打印耗材" class="headerlink" title="SLA打印耗材"></a>SLA打印耗材</h1><h2 id="普通光敏树脂"><a href="#普通光敏树脂" class="headerlink" title="普通光敏树脂"></a>普通光敏树脂</h2><ul>
<li><p>工艺</p>
<p>SLA立体光刻</p>
</li>
<li><p>精度</p>
<p>0.10mm</p>
</li>
<li><p>材料型号</p>
<p>9000</p>
</li>
<li><p>最小细节</p>
<p>0.30</p>
</li>
<li><p>推荐壁厚</p>
<p>具体看模型</p>
</li>
<li><p>表面质量</p>
<p>光滑</p>
</li>
<li><p>特点</p>
<p>进口光敏树脂 精度高，表面细腻，既可做外形外观，又可做结构、装配和功能验证。</p>
</li>
<li><p>适合做</p>
<p>复杂的设计和各类雕塑,高精度模型, 工业手板</p>
</li>
<li><p>不适合做</p>
<p>功能件，承力件</p>
<p><img src="http://pic.mohou.com/shop/article/04758509344069509.jpg" alt="光敏树脂打印样品">  </p>
<p>​     光敏树脂材料的3D打印的成品细节很好，表面质量高，可通过喷漆等工艺上色。光敏树脂如果长时间曝露在光照条件下，会逐渐变脆。这种材料多用于打印对模型精度和表面质量要求较高的精细模型,比方说手办，首饰或者精密装配件。</p>
<p>普通光敏树脂物性表如下：</p>
<p><img src="http://pic.mohou.com/shop/article/05567354939156231.jpg" alt="img"></p>
</li>
</ul>
<h2 id="高精度树脂"><a href="#高精度树脂" class="headerlink" title="高精度树脂"></a>高精度树脂</h2><ul>
<li><p>工艺</p>
<p>SLA立体光刻</p>
</li>
<li><p>精度</p>
<p>0.10mm</p>
</li>
<li><p>材料型号</p>
<p>128</p>
</li>
<li><p>最小细节</p>
<p>0.30</p>
</li>
<li><p>推荐壁厚</p>
<p>具体看模型</p>
</li>
<li><p>表面质量</p>
<p>光滑</p>
</li>
<li><p>特点</p>
<p>工程塑料，有韧性，类似ABS塑料性能，表面光泽好，易打磨上色，可抛光。</p>
</li>
<li><p>适合做</p>
<p>复杂、精细件，装配件等</p>
</li>
<li><p>不适合做</p>
<p>长期光照，户外承力</p>
</li>
</ul>
<p>高精度光敏树脂物性表如下：</p>
<p><img src="http://pic.mohou.com/shop/article/05567352434002622.jpg" alt="img"></p>
<h2 id="半-全透明光敏树脂"><a href="#半-全透明光敏树脂" class="headerlink" title="半/全透明光敏树脂"></a>半/全透明光敏树脂</h2><ul>
<li><p>工艺</p>
<p>SLA立体光刻</p>
</li>
<li><p>精度</p>
<p>0.10mm</p>
</li>
<li><p>材料型号</p>
<p>11122</p>
</li>
<li><p>最小细节</p>
<p>0.30</p>
</li>
<li><p>推荐壁厚</p>
<p>具体看模型</p>
</li>
<li><p>表面质量</p>
<p>光滑</p>
</li>
<li><p>特点</p>
<p>成品为半透明，经处理可达到全透明；产品高通透性，颜色晶莹剔透，光亮度高，吸水率低。</p>
</li>
<li><p>适合做</p>
<p>对透光要求比较高的物件</p>
</li>
<li><p>不适合做</p>
<p>需要暴露于紫外光之下的</p>
</li>
</ul>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/05567366536866793.jpg" alt="img"></p>
<h2 id="耐高温树脂"><a href="#耐高温树脂" class="headerlink" title="耐高温树脂"></a>耐高温树脂</h2><p>一般3D打印的树脂耐温性能在40-50之间，大厂stratasys的所谓耐高温树脂不超过60度，现在市面上出现了三款耐高温树脂，可以耐受70-80. 100,140度的耐高温树脂，可以很好解决一些对应用环境温度有要求的客户，树脂本身打印性能和普通光敏树脂类似，精度0.1mm, 壁厚要求大于0.4mm。 具体物理性能表如下：</p>
<p><img src="http://pic.mohou.com/shop/article/05562873767785715.jpg" alt="img"></p>
<p>特点：具有良好的尺寸精度及稳定性；低收缩，高强度。</p>
<h1 id="DLP成型材料"><a href="#DLP成型材料" class="headerlink" title="DLP成型材料"></a>DLP成型材料</h1><h2 id="红蜡"><a href="#红蜡" class="headerlink" title="红蜡"></a>红蜡</h2><ul>
<li><p>工艺</p>
<p>DLP 光固化</p>
</li>
<li><p>精度</p>
<p>0.01mm</p>
</li>
<li><p>材料型号</p>
<p>RC90</p>
</li>
<li><p>最小细节</p>
<p>0.10</p>
</li>
<li><p>推荐壁厚</p>
<p>具体看模型</p>
</li>
<li><p>表面质量</p>
<p>光滑</p>
</li>
<li><p>特点</p>
<p>3D打印所能达到的最高精度,只用于失蜡法铸造</p>
</li>
<li><p>适合做</p>
<p>高精度浇铸模具</p>
</li>
<li><p>不适合做</p>
<p>其他用途</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171222120507.png" alt="img"></p>
</li>
</ul>
<h2 id="蓝蜡"><a href="#蓝蜡" class="headerlink" title="蓝蜡"></a>蓝蜡</h2><ul>
<li><p>SCP弧度平滑打印技术</p>
</li>
<li><p>精度</p>
<p>0.01mm</p>
</li>
<li><p>材料型号</p>
<p>3Zmodel</p>
</li>
<li><p>最小细节</p>
<p>0.10</p>
</li>
<li><p>推荐壁厚</p>
<p>具体看模型</p>
</li>
<li><p>表面质量</p>
<p>光滑</p>
</li>
<li><p>特点</p>
<p>3D打印所能达到的最高精度,只用于失蜡法铸造</p>
</li>
<li><p>适合做</p>
<p>高精度浇铸模具</p>
</li>
<li><p>不适合做</p>
<p>其他用途</p>
</li>
</ul>
<h1 id="3DP打印材料"><a href="#3DP打印材料" class="headerlink" title="3DP打印材料"></a>3DP打印材料</h1><h2 id="石膏粉末"><a href="#石膏粉末" class="headerlink" title="石膏粉末"></a>石膏粉末</h2><ul>
<li><p>3DP粉末床3D打印</p>
</li>
<li><p>精度</p>
<p>0.10mm</p>
</li>
<li><p>最小细节</p>
<p>1.00</p>
</li>
<li><p>推荐壁厚</p>
<p>3.00</p>
</li>
<li><p>表面质量</p>
<p>颗粒感强</p>
</li>
<li><p>特点</p>
<p>基于石膏粉末制作，质感类岩石，有一定强度，易碎，适合3d人像、工业模型展示等应用。</p>
</li>
<li><p>适合做</p>
<p>对颜色要求高的物品，如3D人像</p>
</li>
<li><p>不适合做</p>
<p>对强度有要求的物品</p>
</li>
</ul>
<h1 id="SLS成型材料"><a href="#SLS成型材料" class="headerlink" title="SLS成型材料"></a>SLS成型材料</h1><h2 id="尼龙"><a href="#尼龙" class="headerlink" title="尼龙"></a>尼龙</h2><ul>
<li><p>工艺</p>
<p>SLS选择性激光烧结</p>
</li>
<li><p>精度</p>
<p>0.15mm</p>
</li>
<li><p>材料型号</p>
<p>PA12，PA1172</p>
</li>
<li><p>最小细节</p>
<p>0.50</p>
</li>
<li><p>推荐壁厚</p>
<p>1.00</p>
</li>
<li><p>表面质量</p>
<p>轻度磨砂</p>
</li>
<li><p>特点</p>
<p>尼龙有优良的韧性、自润滑性、耐磨性、耐化学性、气体透过性、及耐油性、无毒和容易着色等优点，可以说是一种全能型材料，所以在工业上得到广泛应用。</p>
</li>
<li><p>适合做</p>
<p>高精度打印,功能性终产品,需要后期打磨／抛光和上色的产品</p>
</li>
<li><p>不适合做</p>
<p>空心打印（除非设计中自带材料脱出孔）</p>
</li>
</ul>
<p><strong>尼龙PA12物性表：</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/05567369214091254.jpg" alt="img"></p>
<p><strong>尼龙PA1172物性表：</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/05567365215897790.png" alt="img"></p>
<h2 id="尼龙玻纤"><a href="#尼龙玻纤" class="headerlink" title="尼龙玻纤"></a>尼龙玻纤</h2><p>尼龙玻纤是指由尼龙和玻纤混合粉末激光烧结的材料，尼龙玻纤一方面继承了尼龙的工程性能，另一方面在耐热性能上有进一步提升，可以达到大约110度，因此尼龙玻纤很适合做一些需要在较热环境下使用的功能件测试。这种材料的硬度、密度，拉伸性能都很优秀，是一款应用面很广的材料。</p>
<p><strong>打印指标</strong></p>
<p>典型打印周期： 2-4天</p>
<p>标准精度： ± 0.3%</p>
<p>最小壁厚： 建议最小1 mm, 特殊情况可以0.4mm</p>
<p>层厚：0.12mm</p>
<p>最大打印空间： 650x330x560 mm</p>
<p>表面: 磨砂效果，可后续上色，喷漆、打磨等</p>
<p><strong>物理性能</strong></p>
<p><strong><img src="http://pic.mohou.com/shop/article/05562068053260446.png" alt="img"></strong></p>
<p><strong><img src="http://pic.mohou.com/shop/article/05562067416511669.png" alt="img"></strong></p>
<p><strong>打印工艺简介SLS</strong></p>
<p><img src="http://pic.mohou.com/shop/article/05562067738166283.png" alt="img"></p>
<h1 id="SLM成型材料"><a href="#SLM成型材料" class="headerlink" title="SLM成型材料"></a>SLM成型材料</h1><h2 id="不锈钢"><a href="#不锈钢" class="headerlink" title="不锈钢"></a>不锈钢</h2><ul>
<li><p>工艺</p>
<p>SLM选择性激光熔融</p>
</li>
<li><p>精度</p>
<p>0.15mm</p>
</li>
<li><p>材料型号</p>
<p>316L</p>
</li>
<li><p>最小细节</p>
<p>0.50</p>
</li>
<li><p>推荐壁厚</p>
<p>1.00</p>
</li>
<li><p>表面质量</p>
<p>轻度磨砂</p>
</li>
<li><p>特点</p>
<p>不锈钢 以其耐空气、蒸汽、水等弱腐蚀介质和酸碱、盐等化学浸蚀性介质腐蚀而得到广泛应用。</p>
</li>
<li><p>适合做</p>
<p>打印尺寸较大的物品</p>
</li>
</ul>
<p><img src="http://pic.mohou.com/shop/article/05615488017557087.jpg" alt="不锈钢3D打印材料316L"></p>
<p><img src="http://pic.mohou.com/shop/article/05615488389765625.jpg" alt="不锈钢3D打印材料316L  2"></p>
<h2 id="钛合金"><a href="#钛合金" class="headerlink" title="钛合金"></a>钛合金</h2><ul>
<li><p>工艺</p>
<p>SLS选择性激光烧结</p>
</li>
<li><p>精度</p>
<p>0.15mm</p>
</li>
<li><p>材料型号</p>
<p>TI6Al4V</p>
</li>
<li><p>最小细节</p>
<p>0.50</p>
</li>
<li><p>推荐壁厚</p>
<p>1.00</p>
</li>
<li><p>表面质量</p>
<p>轻度磨砂</p>
</li>
<li><p>特点</p>
<p>重量轻、强度高、韧性好、耐腐蚀</p>
</li>
</ul>
<p><img src="http://pic.mohou.com/shop/article/05615492454400229.jpg" alt="钛合金3D打印材料"></p>
<p><img src="http://pic.mohou.com/shop/article/05615492776762071.jpg" alt="钛合金3D打印材料"></p>
]]></content>
      
        <categories>
            
            <category> 3D打印 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 材料 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hexo搭建个人博客（三）]]></title>
      <url>/2017/08/04/Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%89%EF%BC%89/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>看了之前的文章，博客已经配置完成，你自己写文章已经OK了。如果你想把博客变得<code>更炫酷</code>，做一些不在官方文档中的个性配置，可以往后看。我会教大家一步步把博客变成我现在的样子。我推荐看<a href="https://segmentfault.com/a/1190000009544924" target="_blank" rel="noopener">这篇文章</a>，我也是看的这个配置的，写的很好。</p>
<a id="more"></a>
<hr>
<h1 id="修改标题栏背景及字体"><a href="#修改标题栏背景及字体" class="headerlink" title="修改标题栏背景及字体"></a>修改标题栏背景及字体</h1><p>实现效果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/header.png" alt="img"></p>
<h2 id="修改标题栏背景"><a href="#修改标题栏背景" class="headerlink" title="修改标题栏背景"></a>修改标题栏背景</h2><p>首先将要使用的背景图片<code>header_background.jpg</code>保存至<code>\themes\next\source\images</code>文件夹下，方便后面引用。</p>
<p>然后在<code>\themes\next\source\css_common\components\header</code>路径下找到header.styl文件，将其中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.header &#123; background: xxxxxxxxxx; &#125;</span><br></pre></td></tr></table></figure>
<p>改为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.header &#123; background: url(/images/header_background.jpg); &#125;</span><br></pre></td></tr></table></figure>
<p>标题栏背景修改成功！</p>
<h2 id="修改标题栏字体"><a href="#修改标题栏字体" class="headerlink" title="修改标题栏字体"></a>修改标题栏字体</h2><p>同样的，在<code>\themes\next\source\css_common\components\header</code>路径下找到site-meta.styl文件，修改如下字段</p>
<ul>
<li>去除背景</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.brand &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  padding: 0 40px;</span><br><span class="line">  color: $brand-color;</span><br><span class="line">  background: none;                   # 新设置（去除标题字体背景）</span><br><span class="line">  /*background: $brand-bg;*/          # 原设置（已注释）</span><br><span class="line">  border-bottom: none;</span><br><span class="line">  &amp;:hover &#123; color: $brand-hover-color; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>修改标题字号</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.site-title &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  vertical-align: top;</span><br><span class="line">  line-height: 36px;</span><br><span class="line">  font-size: 50px;                      # 新设置（修改标题字号）</span><br><span class="line">  /*font-size: $logo-font-size;*/       # 原设置（已注释）</span><br><span class="line">  font-weight: normal;</span><br><span class="line">  font-family: $font-family-logo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="修改菜单栏"><a href="#修改菜单栏" class="headerlink" title="修改菜单栏"></a>修改菜单栏</h1><p>在<code>\themes\next\source\css\_common\components\header</code>路径下找到<code>menu.styl</code>文件</p>
<ul>
<li>修改菜单栏字体大小：</li>
</ul>
<p>修改<code>.menu .menu-item</code>标签下的<code>font-size</code> 字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">font-size: 14px;             # 菜单栏字体大小，原参数为13px</span><br></pre></td></tr></table></figure>
<ul>
<li>设置菜单栏形式：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.menu &#123;</span><br><span class="line">  margin-top: 35px;                    # 与标题距离，原参数20px</span><br><span class="line">  padding-left: 0;</span><br><span class="line">  text-align: center;</span><br><span class="line">  background: rgba(255,255,255,0.8);   # 菜单栏背景色值和透明度（原透明度0.65）</span><br><span class="line">  margin-left: auto;                   # 居中</span><br><span class="line">  margin-right: auto;                  # 居中</span><br><span class="line">  width: 450px;                        # 菜单栏长度</span><br><span class="line">  border-radius: initial;              # 新设置</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="修改移动端菜单栏按钮显示"><a href="#修改移动端菜单栏按钮显示" class="headerlink" title="修改移动端菜单栏按钮显示"></a>修改移动端菜单栏按钮显示</h1><p>效果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171228112830.png" alt="img"></p>
<p>在<code>\themes\next\source\css\_common\components\header</code>路径下找到<code>site-nav.styl</code>文件，修改<code>button</code>标签下的<code>background</code>字段（#eee为色值）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">button &#123;</span><br><span class="line">  margin-top: 2px;</span><br><span class="line">  padding: 9px 10px;</span><br><span class="line">  /*background: transparent;*/    # 按钮背景色，原设置为透明</span><br><span class="line">  background-color: #eee;         # 按钮背景色，原参数为transparent            </span><br><span class="line">  border: none;                   # 按钮凸起</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="搜索功能"><a href="#搜索功能" class="headerlink" title="搜索功能"></a>搜索功能</h1><p>打开<code>主题配置文件</code>，找到这个：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/flashlab/hexo-generator-search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  # if auto, trigger search by changing input</span><br><span class="line">  # if manual, trigger search by pressing enter key or search button</span><br><span class="line">  trigger: auto</span><br><span class="line">  # show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br></pre></td></tr></table></figure>
<p><code>enable</code>默认为false，改为true。可以看到本地search依赖一个包，需要<code>npm install</code>一下。</p>
<p>博客根目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure>
<p>即可安装依赖包。</p>
<p><code>博客配置文件</code>中加入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  # 如只想索引文章，可设置为post</span><br><span class="line">  field: post</span><br></pre></td></tr></table></figure>
<p>这样，<code>搜索功能</code>就加入了~</p>
<h1 id="修改文章内链接文本样式"><a href="#修改文章内链接文本样式" class="headerlink" title="修改文章内链接文本样式"></a>修改文章内链接文本样式</h1><p><strong>实现效果图</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/1476089622-592591ca23485_articlex.gif" alt="img"></p>
<p><strong>具体实现方法</strong></p>
<p>修改文件 <code>themes\next\source\css\_common\components\post\post.styl</code>，在末尾添加如下css样式，：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 文章内链接文本样式</span><br><span class="line">.post-body p a&#123;</span><br><span class="line">  color: #0593d3;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-bottom: 1px solid #0593d3;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    color: #fc6423;</span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-bottom: 1px solid #fc6423;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中选择<code>.post-body</code> 是为了不影响标题，选择 <code>p</code> 是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。</p>
<h1 id="修改文章底部的那个带-号的标签"><a href="#修改文章底部的那个带-号的标签" class="headerlink" title="修改文章底部的那个带#号的标签"></a>修改文章底部的那个带#号的标签</h1><p><strong>实现效果图</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/2180655111-592591cf7fb00_articlex.png" alt="img"></p>
<p><strong>具体实现方法</strong></p>
<p>修改模板<code>/themes/next/layout/_macro/post.swig</code>，搜索 <code>rel=&quot;tag&quot;&gt;#</code>，将 # 换成</p>
<h1 id="修改-代码块自定义样式"><a href="#修改-代码块自定义样式" class="headerlink" title="修改``代码块自定义样式"></a>修改``代码块自定义样式</h1><p><strong>实现效果图</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/2153573132-592591d0b59c4_articlex.png" alt="img"></p>
<p><strong>具体实现方法</strong></p>
<p>打开<code>\themes\next\source\css\_custom\custom.styl</code>,向里面加入：(颜色可以自己定义)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line">code &#123;</span><br><span class="line">    color: #ff7600;</span><br><span class="line">    background: #fbf7f8;</span><br><span class="line">    margin: 2px;</span><br><span class="line">&#125;</span><br><span class="line">// 大代码块的自定义样式</span><br><span class="line">.highlight, pre &#123;</span><br><span class="line">    margin: 5px 0;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    border-radius: 3px;</span><br><span class="line">&#125;</span><br><span class="line">.highlight, code, pre &#123;</span><br><span class="line">    border: 1px solid #d6d6d6;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="添加文章评论区"><a href="#添加文章评论区" class="headerlink" title="添加文章评论区"></a>添加文章评论区</h1><p><strong>实现效果图</strong></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E6%96%87%E7%AB%A0%E8%AF%84%E8%AE%BA.png" alt="img"></p>
<p>最近因为各种你知道的原因，不少第三方评论插件都停止了运营，在这里我用暂时还没有受到影响的<a href="https://valine.js.org/#/" target="_blank" rel="noopener">Valine</a> 做介绍。</p>
<h2 id="Leancloud"><a href="#Leancloud" class="headerlink" title="Leancloud"></a>Leancloud</h2><p>先登录<a href="http://leancloud.cn/" target="_blank" rel="noopener">Leancloud官网</a></p>
<h2 id="获取appid和appkey"><a href="#获取appid和appkey" class="headerlink" title="获取appid和appkey"></a>获取appid和appkey</h2><p>请先<a href="https://leancloud.cn/dashboard/login.html#/signin" target="_blank" rel="noopener">登录</a>或<a href="https://leancloud.cn/dashboard/login.html#/signup" target="_blank" rel="noopener">注册</a> <code>LeanCloud</code>, 进入<a href="https://leancloud.cn/dashboard/applist.html#/apps" target="_blank" rel="noopener">控制台</a>后点击左下角<a href="https://leancloud.cn/dashboard/applist.html#/newapp" target="_blank" rel="noopener">创建应用</a>：</p>
<p><img src="https://ws1.sinaimg.cn/large/006qRazegy1fkwo2fpoetj30h40coaak.jpg" alt="img"></p>
<p>应用创建好以后，进入刚刚创建的应用，选择左下角的<code>设置</code>&gt;<code>应用Key</code>，然后就能看到你的<code>appid</code>和<code>appkey</code>了：</p>
<p><img src="https://ws1.sinaimg.cn/large/006qRazegy1fkwo6w2b6uj30xe0etjt4.jpg" alt="img"></p>
<p>为了您的数据安全，请注意设置自己的<code>安全域名</code>：</p>
<p><img src="https://ws1.sinaimg.cn/large/006qRazegy1fkxqmddfh1j30qd0go40h.jpg" alt="设置安全域名"></p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p> 打开<code>主题配置文件</code>，搜索以下字段：<code>Valine</code>，并修改相应配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># Valine.</span><br><span class="line"># You can get your appid and appkey from https://leancloud.cn</span><br><span class="line"># more info please open https://valine.js.org</span><br><span class="line">valine:</span><br><span class="line">  enable: ture</span><br><span class="line">  appid: cBBhByL05OPQ0U2iEYevPbBO-gzGzoHsz  # 填写上面的appid</span><br><span class="line">  appkey: 8xukFA5M2WEeFUUWalVjSYY5          # 填写上面的appkey</span><br><span class="line">  notify: true                              # 邮件提醒  https://github.com/xCss/Valine/wiki</span><br><span class="line">  verify: true                              # Verification code</span><br><span class="line">  placeholder: 在这里填写评论...        # comment box placeholder</span><br><span class="line">  avatar: mm # gravatar style</span><br><span class="line">  guest_info: nick,mail,link # custom comment header</span><br><span class="line">  pageSize: 10 # pagination size</span><br></pre></td></tr></table></figure>
<p>评论区添加完成！</p>
<p><strong>如需取消某个 页面/文章 的评论，在 md 文件的 <a href="https://hexo.io/docs/front-matter.html" target="_blank" rel="noopener">front-matter </a>中增加 <code>comments: false</code></strong></p>
<h1 id="第三方图床设置"><a href="#第三方图床设置" class="headerlink" title="第三方图床设置"></a>第三方图床设置</h1><p>第三方图床其实我推荐使用<a href="https://www.qiniu.com/" target="_blank" rel="noopener">七牛云</a>。</p>
<p>使用也十分简单，首先注册登录并新建应用，之后：</p>
<p>选择<code>对象存储</code>：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171204232142.png" alt="img"></p>
<p>选择<code>内容管理</code>：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171204232214.png" alt="img"></p>
<p>选择<code>上传文件</code>：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171204232301.png" alt="img"></p>
<p>选择需要引用的资源上传后，在<code>内容管理</code>列表中找到相应资源即可<code>复制外链</code></p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171204232351.png" alt="img"></p>
<p>这样我们在我们的博客中就可以利用其URL链接直接引用这些资源了。</p>
<h1 id="侧边栏名言警句"><a href="#侧边栏名言警句" class="headerlink" title="侧边栏名言警句"></a>侧边栏名言警句</h1><p>添加效果：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171219232834.png" alt="img"></p>
<p>在<code>\Hexo\themes\next\layout\_macro</code>文件夹下的<code>sidebar.swig</code>文件中</p>
<p>在最后一个<code>% endif %</code>标签下面插入你想输入的文字：<img src="http://p0cgjzhqf.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20171220011237.png" alt="img"></p>
<p>然后在<code>\Hexo\themes\next\source\css\_common\components\sidebar</code>文件夹下新建<code>sidebar-motto-links.styl</code>文件并写入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.links-of-motto &#123;</span><br><span class="line">  margin-top: 40px;                   #这是名言警句的摆放位置</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.links-of-motto a &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 10px;</span><br><span class="line">  margin-bottom: 10px;</span><br><span class="line">  border-bottom-color: $black-light;</span><br><span class="line">  font-size: 13px;</span><br><span class="line"></span><br><span class="line">  &amp;:before &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    margin-right: 3px;</span><br><span class="line">    content: &quot; &quot;;</span><br><span class="line">    width: 4px;</span><br><span class="line">    height: 4px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    background: rgb(random-color(0, 255) - 50%, random-color(0, 255) - 50%, random-color(0, 255) - 50%);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后在<code>\Hexo\themes\next\source\css\_common\components\sidebar</code>文件夹下的<code>sidebar.styl</code>文件中末尾添加一行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;sidebar-motto-links&quot;;</span><br></pre></td></tr></table></figure>
<p>搞定！</p>
<hr>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a href="https://segmentfault.com/a/1190000009544924" target="_blank" rel="noopener">next主题个性化配置教程</a></li>
<li><a href="https://valine.js.org/#/" target="_blank" rel="noopener">Valine官方文档</a></li>
<li><a href="http://blog.csdn.net/yanzi1225627/article/details/77890414" target="_blank" rel="noopener">Hexo博客框架下的Gitment</a></li>
<li><a href="http://www.aisun.org/2017/10/hexo-next+dingzhi/" target="_blank" rel="noopener">hexo框架基于next主题定制</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> node.js </tag>
            
            <tag> git </tag>
            
            <tag> 博客 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hexo搭建个人博客（二）]]></title>
      <url>/2017/08/03/Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在上篇文章<code>Hexo搭建个人博客（一）</code>中，我介绍了博客的基本搭建环境，如果你已经成功完成，那么可以往后来看，我会教大家一步步把博客变成我现在的样子。本篇文章主要介绍如何配置Hexo博客和配置Next主题，以及如何写作并发布文章。</p>
<a id="more"></a>
<hr>
<h1 id="博客的配置"><a href="#博客的配置" class="headerlink" title="博客的配置"></a>博客的配置</h1><p>在 Hexo 中有两份主要的配置文件，其名称都是 <code>_config.yml</code>。 其中，一份位于站点根目录下，主要包含 Hexo 本身的配置；另一份位于\themes\next文件夹内，这份配置由主题作者提供，主要用于配置主题相关的选项。</p>
<p>为了描述方便，在以下说明中，将前者称为 <code>站点配置文件</code>， 后者称为 <code>主题配置文件</code>。接下来我们对博客的配置主要将在两个<code>_config.yml</code>文件中进行。</p>
<h2 id="站点配置文件"><a href="#站点配置文件" class="headerlink" title="站点配置文件"></a>站点配置文件</h2><p>首先让我们看看<code>站点配置文件</code>都有什么：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"># Hexo Configuration</span><br><span class="line">## Docs: https://hexo.io/docs/configuration.html</span><br><span class="line">## Source: https://github.com/hexojs/hexo/</span><br><span class="line"></span><br><span class="line"># Site</span><br><span class="line">title: Hello World         # 网站标题</span><br><span class="line">subtitle:                  # 副标题</span><br><span class="line">description: 一只热爱编程的3D打印攻城狮  # 签名</span><br><span class="line">author: hahajoker           # 作者</span><br><span class="line">language: zh-Hans           # 语言，zh-Hans为中文简体</span><br><span class="line">timezone:                   #网站时区。Hexo 默认使用您电脑的时区</span><br><span class="line"></span><br><span class="line"># URL                       # URL 网址</span><br><span class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</span><br><span class="line">url: http://yoursite.com</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br><span class="line"></span><br><span class="line"># Directory                 目录配置</span><br><span class="line">source_dir: source</span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br><span class="line"></span><br><span class="line"># Writing                   文章</span><br><span class="line">new_post_name: :title.md    # 新建文章默认文件名</span><br><span class="line">default_layout: post        # 默认布局</span><br><span class="line">titlecase: false      # Transform title into titlecase</span><br><span class="line">external_link: true   # 在新标签中打开一个外部链接，默认为true</span><br><span class="line">filename_case: 0      #转换文件名，1代表小写；2代表大写；默认为0，意思就是创建文章的时候，是否自动帮你转换文件名，默认就行，意义不大。</span><br><span class="line">render_drafts: false      #是否渲染_drafts目录下的文章，默认为false</span><br><span class="line">post_asset_folder: false   #启动 Asset 文件夹</span><br><span class="line">relative_link: false       #把链接改为与根目录的相对位址，默认false</span><br><span class="line">future: true               #显示未来的文章，默认false</span><br><span class="line">highlight:                 #代码块的设置</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace:</span><br><span class="line">  </span><br><span class="line"># Home page setting            主页设置</span><br><span class="line"># path: Root path for your blogs index page. (default = &apos;&apos;)</span><br><span class="line"># per_page: Posts displayed per page. (0 = disable pagination)</span><br><span class="line"># order_by: Posts order. (Order by date descending by default)</span><br><span class="line">index_generator:</span><br><span class="line">  path: &apos;&apos;</span><br><span class="line">  per_page: 10</span><br><span class="line">  order_by: -date</span><br><span class="line">  </span><br><span class="line"># Category &amp; Tag               分类和标签的设置</span><br><span class="line">default_category: uncategorized   #默认分类</span><br><span class="line">category_map:                     #分类别名</span><br><span class="line">tag_map:                          #标签别名</span><br><span class="line"></span><br><span class="line"># Date / Time format          日期时间格式</span><br><span class="line">## Hexo uses Moment.js to parse and display date</span><br><span class="line">## You can customize the date format as defined in</span><br><span class="line">## http://momentjs.com/docs/#/displaying/format/</span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line"></span><br><span class="line"># Pagination                    分页</span><br><span class="line">## Set per_page to 0 to disable pagination</span><br><span class="line">per_page: 10                    #每页显示的文章量 (0 = 关闭分页功能)</span><br><span class="line">pagination_dir: page            #分页目录</span><br><span class="line"></span><br><span class="line"># Extensions                    第三方插件</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: next</span><br><span class="line"></span><br><span class="line"># Deployment# Deployment</span><br><span class="line">## Docs: http://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: https://github.com/hahajoker/hahajoker.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">  plugins: -hexo-generator-feed</span><br></pre></td></tr></table></figure>
<p>大家可以根据自己的情况进行设置，具体可参考<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo官方文档</a>。</p>
<h2 id="主题配置文件"><a href="#主题配置文件" class="headerlink" title="主题配置文件"></a>主题配置文件</h2><p>接下来是主题的配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br></pre></td><td class="code"><pre><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Theme Core Configuration Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Set to true, if you want to fully override the default configuration.</span><br><span class="line"># Useful if you don&apos;t want to inherit the theme _config.yml configurations.</span><br><span class="line">override: false</span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Site Information Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># To get or check favicons visit: https://realfavicongenerator.net</span><br><span class="line"># Put your favicons into `hexo-site/source/` (recommend) or `hexo-site/themes/next/source/images/` directory.</span><br><span class="line"></span><br><span class="line"># Default NexT favicons placed in `hexo-site/themes/next/source/images/` directory.</span><br><span class="line"># And if you want to place your icons in `hexo-site/source/` root directory, you must remove `/images` prefix from pathes.</span><br><span class="line"></span><br><span class="line"># For example, you put your favicons into `hexo-site/source/images` directory.</span><br><span class="line"># Then need to rename &amp; redefine they on any other names, otherwise icons from Next will rewrite your custom icons in Hexo.</span><br><span class="line">favicon:                            #站标</span><br><span class="line">  small: /images/favicon-16x16-next.png</span><br><span class="line">  medium: /images/favicon-32x32-next.png</span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png</span><br><span class="line">  safari_pinned_tab: /images/logo.svg</span><br><span class="line">  #android_manifest: /images/manifest.json</span><br><span class="line">  #ms_browserconfig: /images/browserconfig.xml</span><br><span class="line"></span><br><span class="line"># Set default keywords (Use a comma to separate)</span><br><span class="line">keywords: &quot;hahajoker&quot;              #网站关键字</span><br><span class="line"></span><br><span class="line"># Set rss to false to disable feed link.</span><br><span class="line"># Leave rss as empty to use site&apos;s feed link.</span><br><span class="line"># Set rss to specific value if you have burned your feed already.</span><br><span class="line">rss:      #此处需要安装插件npm install hexo-generator-feed --save</span><br><span class="line"></span><br><span class="line">footer:</span><br><span class="line">  # Specify the date when the site was setup.</span><br><span class="line">  since: 2017                #网站时间 从xx开始 类似 1990-2016</span><br><span class="line">  # If not defined, current year will be used.</span><br><span class="line">  #since: 2015</span><br><span class="line"></span><br><span class="line">  # Icon between year and copyright info.</span><br><span class="line">  icon: user</span><br><span class="line"></span><br><span class="line">  # If not defined, will be used `author` from Hexo main config.</span><br><span class="line">  copyright:</span><br><span class="line">  # -------------------------------------------------------------</span><br><span class="line">  # Hexo link (Powered by Hexo).</span><br><span class="line">  powered: true</span><br><span class="line"></span><br><span class="line">  theme:</span><br><span class="line">    # Theme &amp; scheme info link (Theme - NexT.scheme).</span><br><span class="line">    enable: true</span><br><span class="line">    # Version info of NexT after scheme info (vX.X.X).</span><br><span class="line">    version: true</span><br><span class="line">  # -------------------------------------------------------------</span><br><span class="line">  # Any custom text can be defined here.</span><br><span class="line">  #custom_text: Hosted by &lt;a target=&quot;_blank&quot; href=&quot;https://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt;</span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># SEO Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Canonical, set a canonical link tag in your hexo, you could use it for your SEO of blog.</span><br><span class="line"># See: https://support.google.com/webmasters/answer/139066</span><br><span class="line"># Tips: Before you open this tag, remember set up your URL in hexo _config.yml ( ex. url: http://yourdomain.com )</span><br><span class="line">canonical: true</span><br><span class="line"></span><br><span class="line"># Change headers hierarchy on site-subtitle (will be main site description) and on all post/pages titles for better SEO-optimization.</span><br><span class="line">seo: false</span><br><span class="line"></span><br><span class="line"># If true, will add site-subtitle to index page, added in main hexo config.</span><br><span class="line"># subtitle: Subtitle</span><br><span class="line">index_with_subtitle: false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Menu Settings   菜单设置</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash from link value (/archives -&gt; archives).</span><br><span class="line"># Usage: `Key: /link/ || icon`</span><br><span class="line"># Key is the name of menu item. If translate for this menu will find in languages - this translate will be loaded; if not - Key name will be used. Key is case-senstive.</span><br><span class="line"># Value before `||` delimeter is the target link.</span><br><span class="line"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, question icon will be loaded.</span><br><span class="line">menu:</span><br><span class="line">  home: /                           #主页</span><br><span class="line">  categories: /categories/ || th    #分类页（需手动创建） 教程请往下看！</span><br><span class="line">  archives: /archives/ || archive   #归档页</span><br><span class="line">  tags: /tags/ || tags              #标签页（需手动创建）</span><br><span class="line">  about: /about/ || user            #关于页面（需手动创建）</span><br><span class="line">  #schedule: /schedule/ || calendar  #日程表</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap  #站点地图</span><br><span class="line">  #commonweal: /404/ || heartbeat</span><br><span class="line"></span><br><span class="line"># Enable/Disable menu icons.         设定菜单项的图标</span><br><span class="line">menu_icons:</span><br><span class="line">  enable: true</span><br><span class="line">  # Icon Mapping.</span><br><span class="line">  home: home</span><br><span class="line">  about: user</span><br><span class="line">  categories: th</span><br><span class="line">  tags: tags</span><br><span class="line">  archives: archive</span><br><span class="line">  commonweal: heartbeat</span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Scheme Settings   主题外观设置</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Schemes</span><br><span class="line">scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">#scheme: Pisces</span><br><span class="line">#scheme: Gemini</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Sidebar Settings     #侧栏设置</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Social Links.         #社交链接</span><br><span class="line"># Usage: `Key: permalink || icon`</span><br><span class="line"># Key is the link label showing to end users.</span><br><span class="line"># Value before `||` delimeter is the target permalink.</span><br><span class="line"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, globe icon will be loaded.</span><br><span class="line">social:</span><br><span class="line">  Google: https://plus.google.com/yourname || google</span><br><span class="line">  GitHub: https://github.com/yourname || github</span><br><span class="line">  E-Mail: mailto:yourname@gmail.com || envelope</span><br><span class="line">  #Twitter: https://twitter.com/yourname || twitter</span><br><span class="line">  #FB Page: https://www.facebook.com/yourname || facebook</span><br><span class="line">  #VK Group: https://vk.com/yourname || vk</span><br><span class="line">  #StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span><br><span class="line">  #YouTube: https://youtube.com/yourname || youtube</span><br><span class="line">  #Instagram: https://instagram.com/yourname || instagram</span><br><span class="line">  #Skype: skype:yourname?call|chat || skype</span><br><span class="line"></span><br><span class="line">social_icons:           #社交的图标</span><br><span class="line">  enable: true</span><br><span class="line">  icons_only: false</span><br><span class="line">  transition: false</span><br><span class="line"></span><br><span class="line"># Blog rolls</span><br><span class="line">links_icon: link</span><br><span class="line">links_title: Links</span><br><span class="line">links_layout: block</span><br><span class="line">#links_layout: inline</span><br><span class="line">#links:</span><br><span class="line">  #Title: http://example.com/</span><br><span class="line"></span><br><span class="line"># Sidebar Avatar             头像设置</span><br><span class="line"># in theme directory(source/images): /images/my_logo.jpg</span><br><span class="line"># in site  directory(source/uploads): /uploads/avatar.gif</span><br><span class="line">avatar: /images/my_logo.jpg</span><br><span class="line"></span><br><span class="line"># Table Of Contents in the Sidebar         侧栏内容</span><br><span class="line">toc:</span><br><span class="line">  enable: true                             #文章自动显示目录</span><br><span class="line"></span><br><span class="line">  # Automatically add list number to toc.</span><br><span class="line">  number: true                             #目录是否自动显示数字序号</span><br><span class="line"></span><br><span class="line">  # If true, all words will placed on next lines if header width longer then sidebar width.</span><br><span class="line">  wrap: false                               #目录是否换行</span><br><span class="line"></span><br><span class="line"># Creative Commons 4.0 International License.   国际许可证</span><br><span class="line"># http://creativecommons.org/</span><br><span class="line"># Available: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span><br><span class="line">creative_commons: by-nc-sa</span><br><span class="line">#creative_commons:</span><br><span class="line"></span><br><span class="line">sidebar:                         # 侧栏位置及其他设置</span><br><span class="line">  # Sidebar Position, available value: left | right (only for Pisces | Gemini).</span><br><span class="line">  position: left</span><br><span class="line">  #position: right</span><br><span class="line"></span><br><span class="line">  # Sidebar Display, available value (only for Muse | Mist):</span><br><span class="line">  #  - post    expand on posts automatically. Default.</span><br><span class="line">  #  - always  expand for all pages automatically</span><br><span class="line">  #  - hide    expand only when click on the sidebar toggle icon.</span><br><span class="line">  #  - remove  Totally remove sidebar including sidebar toggle.</span><br><span class="line">  #display: post</span><br><span class="line">  display: always</span><br><span class="line">  #display: hide</span><br><span class="line">  #display: remove</span><br><span class="line"></span><br><span class="line">  # Sidebar offset from top menubar in pixels (only for Pisces | Gemini).</span><br><span class="line">  offset: 12                  # 侧边栏由顶部的偏移像素</span><br><span class="line"></span><br><span class="line">  # Back to top in sidebar (only for Pisces | Gemini).</span><br><span class="line">  b2t: true</span><br><span class="line"></span><br><span class="line">  # Scroll percent label in b2t button.</span><br><span class="line">  scrollpercent: true          # 显示滚动百分比</span><br><span class="line"></span><br><span class="line">  # Enable sidebar on narrow view (only for Muse | Mist).</span><br><span class="line">  onmobile: false              #在窄视图上启用侧栏</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Post Settings       帖子设置</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Automatically scroll page to section which is under &lt;!-- more --&gt; mark.</span><br><span class="line">scroll_to_more: true</span><br><span class="line"></span><br><span class="line"># Automatically saving scroll position on each post/page in cookies.</span><br><span class="line">save_scroll: false</span><br><span class="line"></span><br><span class="line"># Automatically excerpt description in homepage as preamble text.</span><br><span class="line">excerpt_description: true</span><br><span class="line"></span><br><span class="line"># Automatically Excerpt. Not recommend.</span><br><span class="line"># Please use &lt;!-- more --&gt; in the post to control excerpt accurately.</span><br><span class="line">auto_excerpt:</span><br><span class="line">  enable: false</span><br><span class="line">  length: 150</span><br><span class="line"></span><br><span class="line"># Post meta display settings</span><br><span class="line">post_meta:</span><br><span class="line">  item_text: true</span><br><span class="line">  created_at: true</span><br><span class="line">  updated_at: false</span><br><span class="line">  categories: true</span><br><span class="line"></span><br><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/willin/hexo-wordcount</span><br><span class="line">post_wordcount:</span><br><span class="line">  item_text: true</span><br><span class="line">  wordcount: false</span><br><span class="line">  min2read: false</span><br><span class="line">  totalcount: false</span><br><span class="line">  separated_meta: true</span><br><span class="line"></span><br><span class="line"># Wechat Subscriber                  # 微信公众号</span><br><span class="line">#wechat_subscriber:</span><br><span class="line">  #enabled: true</span><br><span class="line">  #qcode: /path/to/your/wechatqcode ex. /uploads/wechat-qcode.jpg</span><br><span class="line">  #description: ex. subscribe to my blog by scanning my public wechat account</span><br><span class="line"></span><br><span class="line"># Reward                             # 文章末尾是否显示打赏按钮</span><br><span class="line">reward_comment: 用钱砸我，不要停！  # 求赏文案</span><br><span class="line">#wechatpay: /images/wechatpay.jpg</span><br><span class="line">alipay: /images/alipay.jpg</span><br><span class="line">#bitcoin: /images/bitcoin.png</span><br><span class="line"></span><br><span class="line"># Declare license on posts          帖子许可证</span><br><span class="line">post_copyright:</span><br><span class="line">  enable: false</span><br><span class="line">  license: CC BY-NC-SA 3.0</span><br><span class="line">  license_url: https://creativecommons.org/licenses/by-nc-sa/3.0/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Misc Theme Settings                主题设置</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Reduce padding / margin indents on devices with narrow width.</span><br><span class="line">mobile_layout_economy: false</span><br><span class="line"></span><br><span class="line"># Android Chrome header panel color ($black-deep).</span><br><span class="line">android_chrome_color: &quot;#222&quot;</span><br><span class="line"></span><br><span class="line"># Custom Logo.                      浏览器logo</span><br><span class="line"># !!Only available for Default Scheme currently.</span><br><span class="line"># Options:</span><br><span class="line">#   enabled: [true/false] - Replace with specific image</span><br><span class="line">#   image: url-of-image   - Images&apos;s url</span><br><span class="line">custom_logo:</span><br><span class="line">  enabled: false</span><br><span class="line">  image:</span><br><span class="line"></span><br><span class="line"># Code Highlight theme</span><br><span class="line"># Available value:</span><br><span class="line">#    normal | night | night eighties | night blue | night bright</span><br><span class="line"># https://github.com/chriskempson/tomorrow-theme</span><br><span class="line">highlight_theme: normal</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Font Settings                       字体设置</span><br><span class="line"># - Find fonts on Google Fonts (https://www.google.com/fonts)</span><br><span class="line"># - All fonts set here will have the following styles:</span><br><span class="line">#     light, light italic, normal, normal italic, bold, bold italic</span><br><span class="line"># - Be aware that setting too much fonts will cause site running slowly</span><br><span class="line"># - Introduce in 5.0.1</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># CAUTION! Safari Version 10.1.2 bug: https://github.com/iissnan/hexo-theme-next/issues/1844</span><br><span class="line"># To avoid space between header and sidebar in Pisces / Gemini themes recommended to use Web Safe fonts for `global` (and `logo`):</span><br><span class="line"># Arial | Tahoma | Helvetica | Times New Roman | Courier New | Verdana | Georgia | Palatino | Garamond | Comic Sans MS | Trebuchet MS</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line">font:</span><br><span class="line">  enable: false</span><br><span class="line"></span><br><span class="line">  # Uri of fonts host. E.g. //fonts.googleapis.com (Default).</span><br><span class="line">  host:</span><br><span class="line"></span><br><span class="line">  # Font options:</span><br><span class="line">  # `external: true` will load this font family from `host` above.</span><br><span class="line">  # `family: Times New Roman`. Without any quotes.</span><br><span class="line">  # `size: xx`. Use `px` as unit.</span><br><span class="line"></span><br><span class="line">  # Global font settings used on &lt;body&gt; element.</span><br><span class="line">  global:</span><br><span class="line">    external: true</span><br><span class="line">    family: Lato</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  # Font settings for Headlines (h1, h2, h3, h4, h5, h6).</span><br><span class="line">  # Fallback to `global` font settings.</span><br><span class="line">  headings:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  # Font settings for posts.</span><br><span class="line">  # Fallback to `global` font settings.</span><br><span class="line">  posts:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line"></span><br><span class="line">  # Font settings for Logo.</span><br><span class="line">  # Fallback to `global` font settings.</span><br><span class="line">  logo:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  # Font settings for &lt;code&gt; and code blocks.</span><br><span class="line">  codes:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Third Party Services Settings              第三方服务设置</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># MathJax Support</span><br><span class="line">mathjax:</span><br><span class="line">  enable: false</span><br><span class="line">  per_page: false</span><br><span class="line">  cdn: //cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML</span><br><span class="line"></span><br><span class="line"># Han Support docs: https://hanzi.pro/</span><br><span class="line">han: false</span><br><span class="line"></span><br><span class="line"># Swiftype Search API Key</span><br><span class="line">#swiftype_key:</span><br><span class="line"></span><br><span class="line"># Baidu Analytics ID</span><br><span class="line">#baidu_analytics:</span><br><span class="line"></span><br><span class="line"># Duoshuo ShortName</span><br><span class="line">#duoshuo_shortname:</span><br><span class="line"></span><br><span class="line"># Disqus</span><br><span class="line">disqus:</span><br><span class="line">  enable: false</span><br><span class="line">  shortname:</span><br><span class="line">  count: true</span><br><span class="line"></span><br><span class="line"># Hypercomments</span><br><span class="line">#hypercomments_id:</span><br><span class="line"></span><br><span class="line"># changyan</span><br><span class="line">changyan:</span><br><span class="line">  enable: false</span><br><span class="line">  appid:</span><br><span class="line">  appkey:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Valine.</span><br><span class="line"># You can get your appid and appkey from https://leancloud.cn</span><br><span class="line"># more info please open https://valine.js.org</span><br><span class="line">valine:</span><br><span class="line">  enable: ture</span><br><span class="line">  appid: cBBhByL05OPQ0U2iEYevPbBO-gzGzoHsz  # your leancloud application appid</span><br><span class="line">  appkey: 8xukFA5M2WEeFUUWalVjSYY5 # your leancloud application appkey</span><br><span class="line">  notify: true # mail notifier , https://github.com/xCss/Valine/wiki</span><br><span class="line">  verify: true # Verification code</span><br><span class="line">  placeholder: 在这里填写评论... # comment box placeholder</span><br><span class="line">  avatar: mm # gravatar style</span><br><span class="line">  guest_info: nick,mail,link # custom comment header</span><br><span class="line">  pageSize: 10 # pagination size</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Support for youyan comments system.</span><br><span class="line"># You can get your uid from http://www.uyan.cc</span><br><span class="line">#youyan_uid: your uid</span><br><span class="line"></span><br><span class="line"># Support for LiveRe comments system.</span><br><span class="line"># You can get your uid from https://livere.com/insight/myCode (General web site)</span><br><span class="line">#livere_uid: your uid</span><br><span class="line"></span><br><span class="line"># Gitment</span><br><span class="line"># Introduction: https://imsun.net/posts/gitment-introduction/</span><br><span class="line"># You can get your Github ID from https://api.github.com/users/&lt;Github username&gt;</span><br><span class="line">gitment:</span><br><span class="line">  enable: false</span><br><span class="line">  mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway</span><br><span class="line">  count: true # Show comments count in post meta area</span><br><span class="line">  lazy: false # Comments lazy loading with a button</span><br><span class="line">  cleanly: false # Hide &apos;Powered by ...&apos; on footer, and more</span><br><span class="line">  language: # Force language, or auto switch by theme</span><br><span class="line">  github_user: # MUST HAVE, Your Github ID</span><br><span class="line">  github_repo: # MUST HAVE, The repo you use to store Gitment comments</span><br><span class="line">  client_id: # MUST HAVE, Github client id for the Gitment</span><br><span class="line">  client_secret: # EITHER this or proxy_gateway, Github access secret token for the Gitment</span><br><span class="line">  proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect</span><br><span class="line">  redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled</span><br><span class="line"></span><br><span class="line"># Baidu Share</span><br><span class="line"># Available value:</span><br><span class="line">#    button | slide</span><br><span class="line"># Warning: Baidu Share does not support https.</span><br><span class="line">#baidushare:</span><br><span class="line">##  type: button</span><br><span class="line"></span><br><span class="line"># Share</span><br><span class="line"># This plugin is more useful in China, make sure you known how to use it.</span><br><span class="line"># And you can find the use guide at official webiste: http://www.jiathis.com/.</span><br><span class="line"># Warning: JiaThis does not support https.</span><br><span class="line">#jiathis:</span><br><span class="line">  ##uid: Get this uid from http://www.jiathis.com/</span><br><span class="line">#add_this_id:</span><br><span class="line"></span><br><span class="line"># Share</span><br><span class="line">#duoshuo_share: true</span><br><span class="line"></span><br><span class="line"># NeedMoreShare2</span><br><span class="line"># This plugin is a pure javascript sharing lib which is useful in China.</span><br><span class="line"># See: https://github.com/revir/need-more-share2</span><br><span class="line"># Also see: https://github.com/DzmVasileusky/needShareButton</span><br><span class="line"># iconStyle: default | box</span><br><span class="line"># boxForm: horizontal | vertical</span><br><span class="line"># position: top / middle / bottom + Left / Center / Right</span><br><span class="line"># networks: Weibo,Wechat,Douban,QQZone,Twitter,Linkedin,Mailto,Reddit,</span><br><span class="line">#           Delicious,StumbleUpon,Pinterest,Facebook,GooglePlus,Slashdot,</span><br><span class="line">#           Technorati,Posterous,Tumblr,GoogleBookmarks,Newsvine,</span><br><span class="line">#           Evernote,Friendfeed,Vkontakte,Odnoklassniki,Mailru</span><br><span class="line">needmoreshare2:</span><br><span class="line">  enable: false</span><br><span class="line">  postbottom:</span><br><span class="line">    enable: false</span><br><span class="line">    options:</span><br><span class="line">      iconStyle: box</span><br><span class="line">      boxForm: horizontal</span><br><span class="line">      position: bottomCenter</span><br><span class="line">      networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span><br><span class="line">  float:</span><br><span class="line">    enable: false</span><br><span class="line">    options:</span><br><span class="line">      iconStyle: box</span><br><span class="line">      boxForm: horizontal</span><br><span class="line">      position: middleRight</span><br><span class="line">      networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span><br><span class="line"></span><br><span class="line"># Google Webmaster tools verification setting</span><br><span class="line"># See: https://www.google.com/webmasters/</span><br><span class="line">#google_site_verification:</span><br><span class="line"></span><br><span class="line"># Google Analytics</span><br><span class="line">#google_analytics:</span><br><span class="line"></span><br><span class="line"># Bing Webmaster tools verification setting</span><br><span class="line"># See: https://www.bing.com/webmaster/</span><br><span class="line">#bing_site_verification:</span><br><span class="line"></span><br><span class="line"># Yandex Webmaster tools verification setting</span><br><span class="line"># See: https://webmaster.yandex.ru/</span><br><span class="line">#yandex_site_verification:</span><br><span class="line"></span><br><span class="line"># CNZZ count</span><br><span class="line">#cnzz_siteid:</span><br><span class="line"></span><br><span class="line"># Application Insights</span><br><span class="line"># See https://azure.microsoft.com/en-us/services/application-insights/</span><br><span class="line"># application_insights:</span><br><span class="line"></span><br><span class="line"># Make duoshuo show UA</span><br><span class="line"># user_id must NOT be null when admin_enable is true!</span><br><span class="line"># you can visit http://dev.duoshuo.com get duoshuo user id.</span><br><span class="line">duoshuo_info:</span><br><span class="line">  ua_enable: true</span><br><span class="line">  admin_enable: false</span><br><span class="line">  user_id: 0</span><br><span class="line">  #admin_nickname: Author</span><br><span class="line"></span><br><span class="line"># Post widgets &amp; FB/VK comments settings.</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Facebook SDK Support.</span><br><span class="line"># https://github.com/iissnan/hexo-theme-next/pull/410</span><br><span class="line">facebook_sdk:</span><br><span class="line">  enable:       false</span><br><span class="line">  app_id:       #&lt;app_id&gt;</span><br><span class="line">  fb_admin:     #&lt;user_id&gt;</span><br><span class="line">  like_button:  #true</span><br><span class="line">  webmaster:    #true</span><br><span class="line"></span><br><span class="line"># Facebook comments plugin</span><br><span class="line"># This plugin depends on Facebook SDK.</span><br><span class="line"># If facebook_sdk.enable is false, Facebook comments plugin is unavailable.</span><br><span class="line">facebook_comments_plugin:</span><br><span class="line">  enable:       false</span><br><span class="line">  num_of_posts: 10    # min posts num is 1</span><br><span class="line">  width:        100%  # default width is 550px</span><br><span class="line">  scheme:       light # default scheme is light (light or dark)</span><br><span class="line"></span><br><span class="line"># VKontakte API Support.</span><br><span class="line"># To get your AppID visit https://vk.com/editapp?act=create</span><br><span class="line">vkontakte_api:</span><br><span class="line">  enable:       false</span><br><span class="line">  app_id:       #&lt;app_id&gt;</span><br><span class="line">  like:         true</span><br><span class="line">  comments:     true</span><br><span class="line">  num_of_posts: 10</span><br><span class="line"></span><br><span class="line"># Star rating support to each article.</span><br><span class="line"># To get your ID visit https://widgetpack.com</span><br><span class="line">rating:</span><br><span class="line">  enable: false</span><br><span class="line">  id:     #&lt;app_id&gt;</span><br><span class="line">  color:  fc6423</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Show number of visitors to each article.</span><br><span class="line"># You can visit https://leancloud.cn get AppID and AppKey.</span><br><span class="line">leancloud_visitors:</span><br><span class="line">  enable: false</span><br><span class="line">  app_id: #&lt;app_id&gt;</span><br><span class="line">  app_key: #&lt;app_key&gt;</span><br><span class="line"></span><br><span class="line"># Another tool to show number of visitors to each article.</span><br><span class="line"># visit https://console.firebase.google.com/u/0/ to get apiKey and projectId</span><br><span class="line"># visit https://firebase.google.com/docs/firestore/ to get more information about firestore</span><br><span class="line">firestore:</span><br><span class="line">  enable: false</span><br><span class="line">  collection: articles #required, a string collection name to access firestore database</span><br><span class="line">  apiKey: #required</span><br><span class="line">  projectId: #required</span><br><span class="line">  bluebird: false #enable this if you want to include bluebird 3.5.1(core version) Promise polyfill</span><br><span class="line"></span><br><span class="line"># Show PV/UV of the website/page with busuanzi.</span><br><span class="line"># Get more information on http://ibruce.info/2015/04/04/busuanzi/</span><br><span class="line">busuanzi_count:</span><br><span class="line">  # count values only if the other configs are false</span><br><span class="line">  enable: false</span><br><span class="line">  # custom uv span for the whole site</span><br><span class="line">  site_uv: true</span><br><span class="line">  site_uv_header: &lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;</span><br><span class="line">  site_uv_footer:</span><br><span class="line">  # custom pv span for the whole site</span><br><span class="line">  site_pv: true</span><br><span class="line">  site_pv_header: &lt;i class=&quot;fa fa-eye&quot;&gt;&lt;/i&gt;</span><br><span class="line">  site_pv_footer:</span><br><span class="line">  # custom pv span for one page only</span><br><span class="line">  page_pv: true</span><br><span class="line">  page_pv_header: &lt;i class=&quot;fa fa-file-o&quot;&gt;&lt;/i&gt;</span><br><span class="line">  page_pv_footer:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Tencent analytics ID</span><br><span class="line"># tencent_analytics:</span><br><span class="line"></span><br><span class="line"># Tencent MTA ID</span><br><span class="line"># tencent_mta:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Enable baidu push so that the blog will push the url to baidu automatically which is very helpful for SEO</span><br><span class="line">baidu_push: false</span><br><span class="line"></span><br><span class="line"># Google Calendar</span><br><span class="line"># Share your recent schedule to others via calendar page</span><br><span class="line">#</span><br><span class="line"># API Documentation:</span><br><span class="line"># https://developers.google.com/google-apps/calendar/v3/reference/events/list</span><br><span class="line">calendar:</span><br><span class="line">  enable: false</span><br><span class="line">  calendar_id: &lt;required&gt;</span><br><span class="line">  api_key: &lt;required&gt;</span><br><span class="line">  orderBy: startTime</span><br><span class="line">  offsetMax: 24</span><br><span class="line">  offsetMin: 4</span><br><span class="line">  timeZone:</span><br><span class="line">  showDeleted: false</span><br><span class="line">  singleEvents: true</span><br><span class="line">  maxResults: 250</span><br><span class="line"></span><br><span class="line"># Algolia Search</span><br><span class="line">algolia_search:</span><br><span class="line">  enable: false</span><br><span class="line">  hits:</span><br><span class="line">    per_page: 10</span><br><span class="line">  labels:</span><br><span class="line">    input_placeholder: Search for Posts</span><br><span class="line">    hits_empty: &quot;We didn&apos;t find any results for the search: $&#123;query&#125;&quot;</span><br><span class="line">    hits_stats: &quot;$&#123;hits&#125; results found in $&#123;time&#125; ms&quot;</span><br><span class="line"></span><br><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/flashlab/hexo-generator-search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  # if auto, trigger search by changing input</span><br><span class="line">  # if manual, trigger search by pressing enter key or search button</span><br><span class="line">  trigger: auto</span><br><span class="line">  # show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Tags Settings                 标签设置</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># External URL with BASE64 encrypt &amp; decrypt.</span><br><span class="line"># Usage: &#123;% exturl text url &quot;title&quot; %&#125;</span><br><span class="line"># Alias: &#123;% extlink text url &quot;title&quot; %&#125;</span><br><span class="line">exturl: false</span><br><span class="line"></span><br><span class="line"># Note tag (bs-callout).</span><br><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line">  style: simple</span><br><span class="line">  icons: false</span><br><span class="line">  border_radius: 3</span><br><span class="line">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span><br><span class="line">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span><br><span class="line">  light_bg_offset: 0</span><br><span class="line"></span><br><span class="line"># Label tag.</span><br><span class="line">label: true</span><br><span class="line"></span><br><span class="line"># Tabs tag.</span><br><span class="line">tabs:</span><br><span class="line">  enable: true</span><br><span class="line">  transition:</span><br><span class="line">    tabs: false</span><br><span class="line">    labels: true</span><br><span class="line">  border_radius: 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#! ---------------------------------------------------------------</span><br><span class="line">#! DO NOT EDIT THE FOLLOWING SETTINGS</span><br><span class="line">#! UNLESS YOU KNOW WHAT YOU ARE DOING</span><br><span class="line">#! ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Use velocity to animate everything.</span><br><span class="line">motion:</span><br><span class="line">  enable: true</span><br><span class="line">  async: false</span><br><span class="line">  transition:</span><br><span class="line">    # Transition variants:</span><br><span class="line">    # fadeIn | fadeOut | flipXIn | flipXOut | flipYIn | flipYOut | flipBounceXIn | flipBounceXOut | flipBounceYIn | flipBounceYOut</span><br><span class="line">    # swoopIn | swoopOut | whirlIn | whirlOut | shrinkIn | shrinkOut | expandIn | expandOut</span><br><span class="line">    # bounceIn | bounceOut | bounceUpIn | bounceUpOut | bounceDownIn | bounceDownOut | bounceLeftIn | bounceLeftOut | bounceRightIn | bounceRightOut</span><br><span class="line">    # slideUpIn | slideUpOut | slideDownIn | slideDownOut | slideLeftIn | slideLeftOut | slideRightIn | slideRightOut</span><br><span class="line">    # slideUpBigIn | slideUpBigOut | slideDownBigIn | slideDownBigOut | slideLeftBigIn | slideLeftBigOut | slideRightBigIn | slideRightBigOut</span><br><span class="line">    # perspectiveUpIn | perspectiveUpOut | perspectiveDownIn | perspectiveDownOut | perspectiveLeftIn | perspectiveLeftOut | perspectiveRightIn | perspectiveRightOut</span><br><span class="line">    post_block: fadeIn</span><br><span class="line">    post_header: slideDownIn</span><br><span class="line">    post_body: slideDownIn</span><br><span class="line">    coll_header: slideLeftIn</span><br><span class="line">    # Only for Pisces | Gemini.</span><br><span class="line">    sidebar: slideUpIn</span><br><span class="line"></span><br><span class="line"># Fancybox</span><br><span class="line">fancybox: true</span><br><span class="line"></span><br><span class="line"># Progress bar in the top during page loading.</span><br><span class="line">pace: false</span><br><span class="line"># Themes list:</span><br><span class="line">#pace-theme-big-counter</span><br><span class="line">#pace-theme-bounce</span><br><span class="line">#pace-theme-barber-shop</span><br><span class="line">#pace-theme-center-atom</span><br><span class="line">#pace-theme-center-circle</span><br><span class="line">#pace-theme-center-radar</span><br><span class="line">#pace-theme-center-simple</span><br><span class="line">#pace-theme-corner-indicator</span><br><span class="line">#pace-theme-fill-left</span><br><span class="line">#pace-theme-flash</span><br><span class="line">#pace-theme-loading-bar</span><br><span class="line">#pace-theme-mac-osx</span><br><span class="line">#pace-theme-minimal</span><br><span class="line"># For example</span><br><span class="line"># pace_theme: pace-theme-center-simple</span><br><span class="line">pace_theme: pace-theme-minimal</span><br><span class="line"></span><br><span class="line"># Canvas-nest</span><br><span class="line">canvas_nest: true</span><br><span class="line"></span><br><span class="line"># three_waves</span><br><span class="line">three_waves: false</span><br><span class="line"></span><br><span class="line"># canvas_lines</span><br><span class="line">canvas_lines: false</span><br><span class="line"></span><br><span class="line"># canvas_sphere</span><br><span class="line">canvas_sphere: false</span><br><span class="line"></span><br><span class="line"># Only fit scheme Pisces</span><br><span class="line"># Canvas-ribbon</span><br><span class="line"># size: The width of the ribbon.</span><br><span class="line"># alpha: The transparency of the ribbon.</span><br><span class="line"># zIndex: The display level of the ribbon.</span><br><span class="line">canvas_ribbon:</span><br><span class="line">  enable: false</span><br><span class="line">  size: 300</span><br><span class="line">  alpha: 0.6</span><br><span class="line">  zIndex: -1</span><br><span class="line"></span><br><span class="line"># Script Vendors.</span><br><span class="line"># Set a CDN address for the vendor you want to customize.</span><br><span class="line"># For example</span><br><span class="line">#    jquery: https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js</span><br><span class="line"># Be aware that you should use the same version as internal ones to avoid potential problems.</span><br><span class="line"># Please use the https protocol of CDN files when you enable https on your site.</span><br><span class="line">vendors:</span><br><span class="line">  # Internal path prefix. Please do not edit it.</span><br><span class="line">  _internal: lib</span><br><span class="line"></span><br><span class="line">  # Internal version: 2.1.3</span><br><span class="line">  jquery:</span><br><span class="line"></span><br><span class="line">  # Internal version: 2.1.5</span><br><span class="line">  # See: http://fancyapps.com/fancybox/</span><br><span class="line">  fancybox:</span><br><span class="line">  fancybox_css:</span><br><span class="line"></span><br><span class="line">  # Internal version: 1.0.6</span><br><span class="line">  # See: https://github.com/ftlabs/fastclick</span><br><span class="line">  fastclick:</span><br><span class="line"></span><br><span class="line">  # Internal version: 1.9.7</span><br><span class="line">  # See: https://github.com/tuupola/jquery_lazyload</span><br><span class="line">  lazyload:</span><br><span class="line"></span><br><span class="line">  # Internal version: 1.2.1</span><br><span class="line">  # See: http://VelocityJS.org</span><br><span class="line">  velocity:</span><br><span class="line"></span><br><span class="line">  # Internal version: 1.2.1</span><br><span class="line">  # See: http://VelocityJS.org</span><br><span class="line">  velocity_ui:</span><br><span class="line"></span><br><span class="line">  # Internal version: 0.7.9</span><br><span class="line">  # See: https://faisalman.github.io/ua-parser-js/</span><br><span class="line">  ua_parser:</span><br><span class="line"></span><br><span class="line">  # Internal version: 4.6.2</span><br><span class="line">  # See: http://fontawesome.io/</span><br><span class="line">  fontawesome:</span><br><span class="line"></span><br><span class="line">  # Internal version: 1</span><br><span class="line">  # https://www.algolia.com</span><br><span class="line">  algolia_instant_js:</span><br><span class="line">  algolia_instant_css:</span><br><span class="line"></span><br><span class="line">  # Internal version: 1.0.2</span><br><span class="line">  # See: https://github.com/HubSpot/pace</span><br><span class="line">  # Or use direct links below:</span><br><span class="line">  # pace: //cdn.bootcss.com/pace/1.0.2/pace.min.js</span><br><span class="line">  # pace_css: //cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-flash.min.css</span><br><span class="line">  pace:</span><br><span class="line">  pace_css:</span><br><span class="line"></span><br><span class="line">  # Internal version: 1.0.0</span><br><span class="line">  # https://github.com/hustcc/canvas-nest.js</span><br><span class="line">  canvas_nest:</span><br><span class="line"></span><br><span class="line">  # three</span><br><span class="line">  three:</span><br><span class="line"></span><br><span class="line">  # three_waves</span><br><span class="line">  # https://github.com/jjandxa/three_waves</span><br><span class="line">  three_waves:</span><br><span class="line"></span><br><span class="line">  # three_waves</span><br><span class="line">  # https://github.com/jjandxa/canvas_lines</span><br><span class="line">  canvas_lines:</span><br><span class="line"></span><br><span class="line">  # three_waves</span><br><span class="line">  # https://github.com/jjandxa/canvas_sphere</span><br><span class="line">  canvas_sphere:</span><br><span class="line"></span><br><span class="line">  # Internal version: 1.0.0</span><br><span class="line">  # https://github.com/zproo/canvas-ribbon</span><br><span class="line">  canvas_ribbon:</span><br><span class="line"></span><br><span class="line">  # Internal version: 3.3.0</span><br><span class="line">  # https://github.com/ethantw/Han</span><br><span class="line">  han:</span><br><span class="line"></span><br><span class="line">  # needMoreShare2</span><br><span class="line">  # https://github.com/revir/need-more-share2</span><br><span class="line">  needMoreShare2:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Assets</span><br><span class="line">css: css</span><br><span class="line">js: js</span><br><span class="line">images: images</span><br><span class="line"></span><br><span class="line"># Theme version</span><br><span class="line">version: 5.1.3</span><br></pre></td></tr></table></figure>
<p>大家可以根据自己的情况进行设置，具体可参考<a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">Next官方文档</a>。</p>
<h1 id="新建页面（菜单栏）"><a href="#新建页面（菜单栏）" class="headerlink" title="新建页面（菜单栏）"></a>新建页面（菜单栏）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &quot;categories&quot;</span><br><span class="line">hexo new page &quot;archives&quot;</span><br><span class="line">hexo new page &quot;tags&quot;</span><br><span class="line">hexo new page &quot;about&quot;</span><br></pre></td></tr></table></figure>
<p><code>images文件夹</code>是自己新建的，用来放用到的图片，<code>搜索</code>功能稍微复杂点，下篇文章讲。<br>分别打开文件夹，里面都有一个<code>index.md</code>文件：</p>
<h2 id="about"><a href="#about" class="headerlink" title="about"></a>about</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">date: 2017-07-23 17:29:56</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">## 个人简介</span><br><span class="line">xxxxxx</span><br><span class="line">***</span><br><span class="line">## 博客搭建</span><br><span class="line">托管：github</span><br><span class="line">框架：hexo</span><br><span class="line">主题：next</span><br><span class="line">***</span><br><span class="line">## 联系方式</span><br><span class="line">xxxxxx</span><br></pre></td></tr></table></figure>
<h2 id="categories"><a href="#categories" class="headerlink" title="categories"></a>categories</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2017-07-23 17:26:54</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h2 id="archives"><a href="#archives" class="headerlink" title="archives"></a>archives</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: archives</span><br><span class="line">date: 2017-07-23 17:29:20</span><br><span class="line">type: &quot;archives&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h2 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2017-07-23 17:18:31</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>除了about以外，其它的加个<code>type: &quot;xxx&quot;</code>就可以了。<br><code>主题配置文件</code>中找到<code>menu</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: /</span><br><span class="line">  categories: /categories/</span><br><span class="line">  archives: /archives/</span><br><span class="line">  tags: /tags/</span><br><span class="line">  about: /about/</span><br></pre></td></tr></table></figure>
<p>这样博客栏上<code>分类</code>、<code>归档</code>、<code>标签</code>、<code>关于</code>就弄好了。</p>
<h1 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h1><p>例如我想写一篇文章<code>我的第一篇博客</code>，并给它贴上分类，便签，咋办？<br>进入博客根目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;我的第一篇博客&quot;</span><br></pre></td></tr></table></figure>
<p>可以看到source/_posts目录下已经有了<code>.md</code>文件，文件头：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 我的第一篇博客</span><br><span class="line">date: 2017-03-26 10:02:58</span><br><span class="line">categories: 技术</span><br><span class="line">tags:</span><br><span class="line">  - 博客</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>这样，这篇文章就会自动分类在<code>技术</code>类中，标签为<code>博客</code>，如果没有这个标签或者分类会自动生成。</p>
<p>注：多标签文章创建为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tags:</span><br><span class="line">  - tags1</span><br><span class="line">  - tags2</span><br><span class="line">  - tags3</span><br></pre></td></tr></table></figure>
<p>如果文章太长想<code>阅读全文</code>，分割点写上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure>
<p>即可。</p>
<h2 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h2><p>Hexo博客的编写采用标准的Markdown语法（和GitHub的<code>README.md</code>一样），如果没有基础的请看<a href="http://wowubuntu.com/markdown/" target="_blank" rel="noopener">Markdown 语法说明</a>。</p>
<p>关于编写工具我推荐两款：</p>
<p>在线：<a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="noopener">Cmd Markdown 编辑阅读器</a> </p>
<p>软件：<a href="https://www.typora.io/" target="_blank" rel="noopener">Typora</a></p>
<h2 id="文章资源引用"><a href="#文章资源引用" class="headerlink" title="文章资源引用"></a>文章资源引用</h2><p>对于那些想要更有规律地提供图片和其他资源以及想要将他们的资源分布在各个文章上的人来说，Hexo也提供了更组织化的方式来管理资源。这个稍微有些复杂但是管理资源非常方便的功能可以通过将 <code>config.yml</code>文件中的 <code>post_asset_folder</code> 选项设为 <code>true</code> 来打开。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_config.yml</span><br><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure>
<p>当资源文件管理功能打开后，Hexo将会在你每一次通过 <code>hexo new [layout]</code> 命令创建新文章时自动创建一个文件夹。这个资源文件夹将会有与这个 markdown 文件一样的名字。将所有与你的文章有关的资源放在这个关联文件夹中之后，你可以通过相对路径来引用它们，这样你就得到了一个更简单而且方便得多的工作流。</p>
<h3 id="相对路径引用"><a href="#相对路径引用" class="headerlink" title="相对路径引用"></a>相对路径引用</h3><p>你可以更简单地在文章中引用你的资源。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_path slug %&#125;</span><br><span class="line">&#123;% asset_img slug [title] %&#125;</span><br><span class="line">&#123;% asset_link slug [title] %&#125;</span><br></pre></td></tr></table></figure>
<p>比如说：当你打开文章资源文件夹功能后，你把一个 <code>example.jpg</code> 图片放在了你的资源文件夹中，如果通过使用相对路径的常规 markdown 语法 <code>![](/example.jpg)</code> ，它将 <em>不会</em> 出现在首页上。（但是它会在文章中按你期待的方式工作）</p>
<p>正确的引用图片方式是使用下列的标签插件而不是 markdown ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img example.jpg This is an example image %&#125;</span><br></pre></td></tr></table></figure>
<p>通过这种方式，图片将会同时出现在文章和主页以及归档页中。</p>
<p><strong>注：其实最好的资源引用方式是使用<code>第三方图床</code>，也是我现在采用的方案，不仅优化了站点访问的加载速度，并且可以杜绝未来博客移植中可能出现的一系列隐患。这个方案我会在后续的文章中详述。</strong></p>
<h1 id="发布文章"><a href="#发布文章" class="headerlink" title="发布文章"></a>发布文章</h1><p>看了MarkDown的语法后，自己写一篇文章。写完后想发布，三条命令即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<p>即：清理旧的，生成新的，发布到<code>github page</code>上。</p>
<p>发布前想预览下，可以用<code>hexo server</code>在本地预览。</p>
<h1 id="常用命令总结"><a href="#常用命令总结" class="headerlink" title="常用命令总结"></a>常用命令总结</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//常用命令</span><br><span class="line">hexo new &quot;postName&quot; #新建文章</span><br><span class="line">hexo new page &quot;pageName&quot; #新建页面</span><br><span class="line">hexo generate #生成静态页面至public目录</span><br><span class="line">hexo server #开启预览访问端口（默认端口4000，&apos;ctrl + c&apos;关闭server）</span><br><span class="line">hexo deploy #将.deploy目录部署到GitHub</span><br><span class="line">hexo help  #查看帮助</span><br><span class="line">hexo version  #查看Hexo的版本</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo中文文档</a></li>
<li><a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">Next文档</a></li>
<li><a href="http://wowubuntu.com/markdown" target="_blank" rel="noopener">Markdown语法说明</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> node.js </tag>
            
            <tag> git </tag>
            
            <tag> 博客 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hexo搭建个人博客（一）]]></title>
      <url>/2017/08/02/Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近几个月自学python的过程中，搜索资料的时候收藏了很多大神的的博客，为我开启了一片新世界，之后在经历了各种挖坑爬坑苦逼造轮子的毁灭经历后。搭建一个自己博客的萌芽也悄然种下，不仅仅是记录自己的技术路线，也是想和各方朋友一起探讨交流。</p>
<p>经过几天不懈的没日没夜的努力，解决了各种问题，终于把自己（彻）的（底）博（逼）客（疯）搭（了）建成功。接下来我就把我走过N多弯路后的经验传授给大家，让大家少走弯路轻松愉快地搭建自己的Hexo博客。</p>
<a id="more"></a>
<hr>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><ol>
<li>玩过github，至少上传过一个自己的项目/工程。</li>
<li>有一定的node.js基础，至少安装过node环境，熟悉npm命令。</li>
</ol>
<p>如果没有基础的请看<code>git入门</code>和<code>node入门</code>两篇文章。</p>
<h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p>安装所需软件</p>
<p>1.<a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></p>
<p>2.<a href="http://git-scm.com/downloads" target="_blank" rel="noopener">Git</a></p>
<h1 id="什么是Hexo？"><a href="#什么是Hexo？" class="headerlink" title="什么是Hexo？"></a>什么是Hexo？</h1><p><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a> 是一个快速、简洁且高效的博客框架。Hexo使用Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h2 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h2><p>因为npm默认访问国外的仓库，国内用户很可能被墙，要想正常安装hexo，要么配置代理，要么用cnpm（淘宝镜像）替换npm。</p>
<ul>
<li><p>配置代理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set proxy http://127.0.0.1:1080</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装cnpm（<code>推荐</code>）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>cnpm可以在墙内完美无缝替代npm的所有功能，安装之后只需将之后所有命令行中的npm替换成cnpm即可。</p>
<h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>打开cmd（命令提示符），输入以下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo</span><br></pre></td></tr></table></figure>
<p>-g是全局安装，安装成功后可以使用<code>hexo</code>指令。</p>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>1、进入你想放博客的目录，创建文件夹–&gt;Hexo</p>
<p>2、在Hexo文件下，右键运行Git Bash，输入命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
<p>生成博客：</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/blogroot.PNG" alt="img"></p>
<p>安装依赖包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>生成静态网页：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>
<p>启动本地服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>这时在浏览器中输入localhost:4000/就可以看到本地的博客了。</p>
<p>按住Ctrl+C键即可停止运行。</p>
<h1 id="安装Next主题"><a href="#安装Next主题" class="headerlink" title="安装Next主题"></a>安装Next主题</h1><p><a href="https://github.com/iissnan/hexo-theme-next/blob/master/README.cn.md" target="_blank" rel="noopener">NexT</a> 是一个高质量并且优雅的Hexo主题。这是精心制作做出来的 hexo 主题。</p>
<p>在Hexo文件夹下 Git Bash，输入命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
<p>可以在这里<a href="https://hexo.io/themes/" target="_blank" rel="noopener">浏览更多主题</a>。</p>
<h2 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h2><p>与所有 Hexo 主题启用的模式一样。 当 克隆/下载 完成后，打开 站点配置文件， 找到 <code>theme</code> 字段，并将其值更改为 <code>next</code>。</p>
<p>启用 NexT 主题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure>
<p>到此，NexT 主题安装完成。下一步我们将验证主题是否正确启用。在切换主题之后、验证之前， 我们最好使用 <code>hexo clean</code> 来清除 Hexo 的缓存。</p>
<h2 id="验证主题"><a href="#验证主题" class="headerlink" title="验证主题"></a>验证主题</h2><p>首先启动 Hexo 本地站点，并开启调试模式（即加上 <code>--debug</code>），整个命令是 <code>hexo s --debug</code>。 在服务启动的过程，注意观察命令行输出是否有任何异常信息，如果你碰到问题，这些信息将帮助他人更好的定位错误。 当命令行输出中提示出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>
<p>此时即可使用浏览器访问 <code>http://localhost:4000</code>，检查站点是否正确运行。</p>
<p><img src="http://p0cgjzhqf.bkt.clouddn.com/validation-default-scheme-mac.png" alt="img"></p>
<p>当你看到站点的外观与上图所示类似时即说明你已成功安装 NexT 主题。这是 NexT 默认的 Scheme —— Muse</p>
<h1 id="Hexo部署github"><a href="#Hexo部署github" class="headerlink" title="Hexo部署github"></a>Hexo部署github</h1><h2 id="注册账号"><a href="#注册账号" class="headerlink" title="注册账号"></a>注册账号</h2><p>进入<a href="https://github.com/" target="_blank" rel="noopener">github官网</a>，按照提示注册账号。</p>
<h2 id="创建repository"><a href="#创建repository" class="headerlink" title="创建repository"></a>创建repository</h2><p>按照下图所示点击New repository<br><img src="http://p0cgjzhqf.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20171203013612.png" alt="img"><br>按图中所示操作，其中第一步中填入username.github.io（username是你的账号名，username不区分大小写）。如我的username为hahajoker，我应该填入hahajoker.github.io。<br><img src="http://p0cgjzhqf.bkt.clouddn.com/20171203014104.png" alt="img"></p>
<h2 id="设置SSH-keys"><a href="#设置SSH-keys" class="headerlink" title="设置SSH keys"></a>设置SSH keys</h2><p>我们需要通过SSH keys将git与github联系起来。步骤如下：<br>1.打开git bash，输入<code>cd ~/.ssh</code>，如果果提示：<code>No such file or directory</code> 说明未设置SSH。<br>2.接着输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;邮件地址@youremail.com&quot;</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):&lt;回车就好&gt;</span><br></pre></td></tr></table></figure>
<p>此处应注意<code>-C</code>为大写C，邮箱地址为你创建github账号的邮箱地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty for no passphrase):&lt;输入加密串&gt;</span><br><span class="line">Enter same passphrase again:&lt;再次输入加密串&gt;</span><br></pre></td></tr></table></figure>
<p>输入密码，此密码为提交项目时所用。（ps：输入时可能无显示，直接输入即可。）<br>3.用记事本打开C:\Documents and Settings\Administrator.ssh\id_rsa.pub文件，全选并复制公钥。<br>4.登录Github，点击右上角头像——&gt;<code>settings</code>——&gt;——&gt;<code>SSH keys</code>——&gt;<code>New SSH key</code>，把公钥粘贴到key中，填好title并点击<code>Add SSH key</code>。<br>5.输入以下命令测试是否成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>出现如下反馈，输入<code>yes</code>出现<code>Hi xxxx! You’ve successfully authenticated, but GitHub does not provide shell access.</code>说明成功连接github。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host &apos;github.com (207.97.227.239)&apos; can&apos;t be established.</span><br><span class="line">RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)?</span><br></pre></td></tr></table></figure>
<h2 id="编辑站点配置"><a href="#编辑站点配置" class="headerlink" title="编辑站点配置"></a>编辑站点配置</h2><p>在你的hexo根目录下有一个_config_yml文件，就是站点的配置文件，打开后，在最后加上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: https://github.com/hahajoker/hahajoker.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">  plugins: -hexo-generator-feed</span><br></pre></td></tr></table></figure>
<p>注意编写规范！所有冒号<code>:</code>后面都要加<code>空格</code>再输入。</p>
<p>hahajoker换成yourname即可。</p>
<h2 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h2><p>在hexo根目录下，用指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g #生成静态网页</span><br><span class="line">$ hexo d #开始部署</span><br></pre></td></tr></table></figure>
<p>过程中会提示输入你的github username和密码（密码为，等待命令运行完成即可。部署完成后，在浏览器中访问<code>http://your_name.github.io/</code>能够看到你的Hexo博客，到此部署成功！<br>有些版本的Hexo没有内置<code>hexo-deployer-git</code>，会出现下列情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Deployer not found: git</span><br></pre></td></tr></table></figure>
<p>这时候输入以下代码安装即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>注：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo g == hexo generate</span><br><span class="line">hexo s == hexo server</span><br><span class="line">hexo d == hexo deploy</span><br></pre></td></tr></table></figure>
<hr>
<p>到这里各项准备工作已经做好，接下来就要进入Hexo的搭建。</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo中文文档</a></li>
<li><a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">Next文档</a></li>
<li><a href="http://lovenight.github.io/2015/11/10/Hexo-3-1-1-%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/" target="_blank" rel="noopener">Hexo 3.1.1 静态博客搭建指南</a><strong>推荐</strong></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> node.js </tag>
            
            <tag> git </tag>
            
            <tag> 博客 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>/2017/07/22/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      
        
    </entry>
    
  
  
</search>
